{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\admin\\\\Dashboard.js\",\n  _s = $RefreshSig$();\n// frontend/src/admin/Dashboard.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { api } from '../lib/api';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, PointElement, LineElement, ArcElement, Tooltip, Legend, Title } from 'chart.js';\nimport { Bar, Line, Pie } from 'react-chartjs-2';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, PointElement, LineElement, ArcElement, Tooltip, Legend, Title);\nfunction StatCard({\n  title,\n  value,\n  suffix\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 rounded-2xl shadow bg-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-sm text-gray-500\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-2xl font-semibold mt-1\",\n      children: [value === undefined || value === null ? '-' : value, suffix ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-base font-normal ml-1\",\n        children: suffix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 19\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n_c = StatCard;\nfunction DataTable({\n  columns,\n  rows,\n  emptyText = 'ไม่มีข้อมูล'\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"overflow-auto rounded-xl border border-gray-200\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"min-w-full text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: columns.map(c => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"text-left px-3 py-2 font-medium text-gray-700\",\n            children: c.header\n          }, c.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: rows.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"px-3 py-3 text-gray-500\",\n            colSpan: columns.length,\n            children: emptyText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this) : rows.map((r, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"border-t\",\n          children: columns.map(c => {\n            var _r$c$key;\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"px-3 py-2\",\n              children: c.render ? c.render(r[c.key], r) : (_r$c$key = r[c.key]) !== null && _r$c$key !== void 0 ? _r$c$key : ''\n            }, c.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, this);\n          })\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_c2 = DataTable;\nexport default function Dashboard() {\n  _s();\n  const [summary, setSummary] = useState({});\n  const [salesByMonth, setSalesByMonth] = useState([]);\n  const [ordersByStatus, setOrdersByStatus] = useState([]);\n  const [customersByProvince, setCustomersByProvince] = useState([]);\n  const [topCategoriesPurchased, setTopCategoriesPurchased] = useState([]);\n  const [productCountByCategory, setProductCountByCategory] = useState([]);\n  const [recentOrders, setRecentOrders] = useState([]);\n  const [recentProducts, setRecentProducts] = useState([]);\n  const [recentAddresses, setRecentAddresses] = useState([]);\n\n  // ช่วงเวลา optional (ใส่ หรือปล่อยว่างได้)\n  const [from, setFrom] = useState('');\n  const [to, setTo] = useState('');\n  const q = useMemo(() => {\n    const params = new URLSearchParams();\n    if (from) params.set('from', from);\n    if (to) params.set('to', to);\n    const s = params.toString();\n    return s ? `?${s}` : '';\n  }, [from, to]);\n  useEffect(() => {\n    // โหลดทุกอย่างคู่กัน\n    api.get(`/dashboard/summary${q}`).then(r => setSummary(r.data));\n    api.get(`/dashboard/sales-by-month${q}`).then(r => setSalesByMonth(r.data));\n    api.get(`/dashboard/orders-by-status${q}`).then(r => setOrdersByStatus(r.data));\n    api.get(`/dashboard/customers-by-province`).then(r => setCustomersByProvince(r.data));\n    api.get(`/dashboard/top-categories-by-purchased${q}`).then(r => setTopCategoriesPurchased(r.data));\n    api.get(`/dashboard/product-count-by-category`).then(r => setProductCountByCategory(r.data));\n    api.get(`/dashboard/recent-orders`).then(r => setRecentOrders(r.data));\n    api.get(`/dashboard/recent-products`).then(r => setRecentProducts(r.data));\n    api.get(`/dashboard/recent-addresses`).then(r => setRecentAddresses(r.data));\n  }, [q]);\n\n  // ---------- Chart Data ----------\n  const salesByMonthData = useMemo(() => ({\n    labels: salesByMonth.map(x => x.month),\n    datasets: [{\n      label: 'ยอดขายรวม (บาท)',\n      data: salesByMonth.map(x => Number(x.total || 0))\n    }]\n  }), [salesByMonth]);\n  const ordersByStatusData = useMemo(() => ({\n    labels: ordersByStatus.map(x => x.status_name),\n    datasets: [{\n      label: 'จำนวนคำสั่งซื้อ',\n      data: ordersByStatus.map(x => Number(x.count || 0))\n    }]\n  }), [ordersByStatus]);\n  const customersByProvinceData = useMemo(() => {\n    const top = customersByProvince.slice(0, 10); // โชว์ Top 10\n    return {\n      labels: top.map(x => x.province || 'ไม่ระบุ'),\n      datasets: [{\n        label: 'จำนวนที่อยู่',\n        data: top.map(x => Number(x.count || 0))\n      }]\n    };\n  }, [customersByProvince]);\n  const topCategoriesPurchasedData = useMemo(() => ({\n    labels: topCategoriesPurchased.map(x => x.category_name),\n    datasets: [{\n      label: 'จำนวนชิ้นที่ขาย',\n      data: topCategoriesPurchased.map(x => Number(x.qty || 0))\n    }]\n  }), [topCategoriesPurchased]);\n  const productCountByCategoryData = useMemo(() => ({\n    labels: productCountByCategory.map(x => x.category_name),\n    datasets: [{\n      label: 'จำนวนสินค้าในระบบ',\n      data: productCountByCategory.map(x => Number(x.products || 0))\n    }]\n  }), [productCountByCategory]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-end justify-between flex-wrap gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"\\uD83D\\uDCCA Dashboard \\u0E20\\u0E32\\u0E1E\\u0E23\\u0E27\\u0E21\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"\\u0E0A\\u0E48\\u0E27\\u0E07\\u0E40\\u0E27\\u0E25\\u0E32 (\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E22\\u0E2D\\u0E14\\u0E02\\u0E32\\u0E22/\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D/Top Category)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: from,\n          onChange: e => setFrom(e.target.value),\n          className: \"border rounded px-2 py-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2014\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: to,\n          onChange: e => setTo(e.target.value),\n          className: \"border rounded px-2 py-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setFrom('');\n            setTo('');\n          },\n          className: \"px-3 py-1 rounded bg-gray-100 hover:bg-gray-200\",\n          children: \"\\u0E25\\u0E49\\u0E32\\u0E07\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-5 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n        value: summary.products\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\",\n        value: summary.users\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\",\n        value: summary.orders\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\",\n        value: summary.addresses\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E22\\u0E2D\\u0E14\\u0E02\\u0E32\\u0E22\\u0E23\\u0E27\\u0E21\",\n        value: summary.sales ? summary.sales.toLocaleString('th-TH') : '-',\n        suffix: \"\\u0E1A\\u0E32\\u0E17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E22\\u0E2D\\u0E14\\u0E02\\u0E32\\u0E22\\u0E23\\u0E32\\u0E22\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: salesByMonthData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E41\\u0E22\\u0E01\\u0E15\\u0E32\\u0E21\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pie, {\n          data: ordersByStatusData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E25\\u0E39\\u0E01\\u0E04\\u0E49\\u0E32\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E07\\u0E2B\\u0E27\\u0E31\\u0E14\\u0E44\\u0E2B\\u0E19\\u0E40\\u0E22\\u0E2D\\u0E30\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E38\\u0E14 (Top 10)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: customersByProvinceData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E25\\u0E39\\u0E01\\u0E04\\u0E49\\u0E32\\u0E0B\\u0E37\\u0E49\\u0E2D \\u201C\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u201D \\u0E44\\u0E2B\\u0E19\\u0E40\\u0E22\\u0E2D\\u0E30\\u0E2A\\u0E38\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: topCategoriesPurchasedData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E1D\\u0E31\\u0E48\\u0E07\\u0E41\\u0E2D\\u0E14\\u0E21\\u0E34\\u0E19: \\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E41\\u0E22\\u0E01\\u0E15\\u0E32\\u0E21\\u0E2B\\u0E21\\u0E27\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: productCountByCategoryData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E41\\u0E19\\u0E27\\u0E42\\u0E19\\u0E49\\u0E21\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D (\\u0E40\\u0E2A\\u0E49\\u0E19)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: {\n            labels: salesByMonth.map(x => x.month),\n            datasets: [{\n              label: 'จำนวนเดือนที่มีคำสั่งซื้อ',\n              data: salesByMonth.map(() => 1)\n            }]\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n          columns: [{\n            key: 'order_id',\n            header: 'Order'\n          }, {\n            key: 'email',\n            header: 'ลูกค้า'\n          }, {\n            key: 'total_amount',\n            header: 'ยอด (฿)',\n            render: v => Number(v || 0).toLocaleString('th-TH')\n          }, {\n            key: 'status_name',\n            header: 'สถานะ'\n          }, {\n            key: 'order_date',\n            header: 'วันที่',\n            render: v => v ? new Date(v).toLocaleString('th-TH') : ''\n          }],\n          rows: recentOrders\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n          columns: [{\n            key: 'product_id',\n            header: 'ID'\n          }, {\n            key: 'product_name',\n            header: 'ชื่อสินค้า'\n          }, {\n            key: 'category_name',\n            header: 'หมวด'\n          }, {\n            key: 'created_at',\n            header: 'เพิ่มเมื่อ',\n            render: v => v ? new Date(v).toLocaleString('th-TH') : ''\n          }],\n          rows: recentProducts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-2xl shadow bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n          columns: [{\n            key: 'address_id',\n            header: 'ID'\n          }, {\n            key: 'email',\n            header: 'ของผู้ใช้'\n          }, {\n            key: 'recipient_name',\n            header: 'ผู้รับ'\n          }, {\n            key: 'province',\n            header: 'จังหวัด'\n          }, {\n            key: 'created_at',\n            header: 'เพิ่มเมื่อ',\n            render: v => v ? new Date(v).toLocaleString('th-TH') : ''\n          }],\n          rows: recentAddresses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"63fRzmhSjI/ifnW8QH+FTbxB04M=\");\n_c3 = Dashboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StatCard\");\n$RefreshReg$(_c2, \"DataTable\");\n$RefreshReg$(_c3, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","api","Chart","ChartJS","CategoryScale","LinearScale","BarElement","PointElement","LineElement","ArcElement","Tooltip","Legend","Title","Bar","Line","Pie","jsxDEV","_jsxDEV","register","StatCard","title","value","suffix","className","children","fileName","_jsxFileName","lineNumber","columnNumber","undefined","_c","DataTable","columns","rows","emptyText","map","c","header","key","length","colSpan","r","idx","_r$c$key","render","_c2","Dashboard","_s","summary","setSummary","salesByMonth","setSalesByMonth","ordersByStatus","setOrdersByStatus","customersByProvince","setCustomersByProvince","topCategoriesPurchased","setTopCategoriesPurchased","productCountByCategory","setProductCountByCategory","recentOrders","setRecentOrders","recentProducts","setRecentProducts","recentAddresses","setRecentAddresses","from","setFrom","to","setTo","q","params","URLSearchParams","set","s","toString","get","then","data","salesByMonthData","labels","x","month","datasets","label","Number","total","ordersByStatusData","status_name","count","customersByProvinceData","top","slice","province","topCategoriesPurchasedData","category_name","qty","productCountByCategoryData","products","type","onChange","e","target","onClick","users","orders","addresses","sales","toLocaleString","v","Date","_c3","$RefreshReg$"],"sources":["D:/project19/frontend/src/admin/Dashboard.js"],"sourcesContent":["// frontend/src/admin/Dashboard.js\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { api } from '../lib/api';\r\nimport {\r\n  Chart as ChartJS, CategoryScale, LinearScale, BarElement, PointElement,\r\n  LineElement, ArcElement, Tooltip, Legend, Title\r\n} from 'chart.js';\r\nimport { Bar, Line, Pie } from 'react-chartjs-2';\r\nimport './Dashboard.css';\r\n\r\nChartJS.register(\r\n  CategoryScale, LinearScale, BarElement, PointElement,\r\n  LineElement, ArcElement, Tooltip, Legend, Title\r\n);\r\n\r\nfunction StatCard({ title, value, suffix }) {\r\n  return (\r\n    <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n      <div className=\"text-sm text-gray-500\">{title}</div>\r\n      <div className=\"text-2xl font-semibold mt-1\">\r\n        {value === undefined || value === null ? '-' : value}\r\n        {suffix ? <span className=\"text-base font-normal ml-1\">{suffix}</span> : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DataTable({ columns, rows, emptyText = 'ไม่มีข้อมูล' }) {\r\n  return (\r\n    <div className=\"overflow-auto rounded-xl border border-gray-200\">\r\n      <table className=\"min-w-full text-sm\">\r\n        <thead className=\"bg-gray-50\">\r\n          <tr>\r\n            {columns.map((c) => (\r\n              <th key={c.key} className=\"text-left px-3 py-2 font-medium text-gray-700\">{c.header}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {rows.length === 0 ? (\r\n            <tr><td className=\"px-3 py-3 text-gray-500\" colSpan={columns.length}>{emptyText}</td></tr>\r\n          ) : rows.map((r, idx) => (\r\n            <tr key={idx} className=\"border-t\">\r\n              {columns.map((c) => (\r\n                <td key={c.key} className=\"px-3 py-2\">{c.render ? c.render(r[c.key], r) : (r[c.key] ?? '')}</td>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const [summary, setSummary] = useState({});\r\n  const [salesByMonth, setSalesByMonth] = useState([]);\r\n  const [ordersByStatus, setOrdersByStatus] = useState([]);\r\n  const [customersByProvince, setCustomersByProvince] = useState([]);\r\n  const [topCategoriesPurchased, setTopCategoriesPurchased] = useState([]);\r\n  const [productCountByCategory, setProductCountByCategory] = useState([]);\r\n  const [recentOrders, setRecentOrders] = useState([]);\r\n  const [recentProducts, setRecentProducts] = useState([]);\r\n  const [recentAddresses, setRecentAddresses] = useState([]);\r\n\r\n  // ช่วงเวลา optional (ใส่ หรือปล่อยว่างได้)\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n\r\n  const q = useMemo(() => {\r\n    const params = new URLSearchParams();\r\n    if (from) params.set('from', from);\r\n    if (to) params.set('to', to);\r\n    const s = params.toString();\r\n    return s ? `?${s}` : '';\r\n  }, [from, to]);\r\n\r\n  useEffect(() => {\r\n    // โหลดทุกอย่างคู่กัน\r\n    api.get(`/dashboard/summary${q}`).then(r => setSummary(r.data));\r\n    api.get(`/dashboard/sales-by-month${q}`).then(r => setSalesByMonth(r.data));\r\n    api.get(`/dashboard/orders-by-status${q}`).then(r => setOrdersByStatus(r.data));\r\n    api.get(`/dashboard/customers-by-province`).then(r => setCustomersByProvince(r.data));\r\n    api.get(`/dashboard/top-categories-by-purchased${q}`).then(r => setTopCategoriesPurchased(r.data));\r\n    api.get(`/dashboard/product-count-by-category`).then(r => setProductCountByCategory(r.data));\r\n    api.get(`/dashboard/recent-orders`).then(r => setRecentOrders(r.data));\r\n    api.get(`/dashboard/recent-products`).then(r => setRecentProducts(r.data));\r\n    api.get(`/dashboard/recent-addresses`).then(r => setRecentAddresses(r.data));\r\n  }, [q]);\r\n\r\n  // ---------- Chart Data ----------\r\n  const salesByMonthData = useMemo(() => ({\r\n    labels: salesByMonth.map(x => x.month),\r\n    datasets: [{\r\n      label: 'ยอดขายรวม (บาท)',\r\n      data: salesByMonth.map(x => Number(x.total || 0)),\r\n    }]\r\n  }), [salesByMonth]);\r\n\r\n  const ordersByStatusData = useMemo(() => ({\r\n    labels: ordersByStatus.map(x => x.status_name),\r\n    datasets: [{\r\n      label: 'จำนวนคำสั่งซื้อ',\r\n      data: ordersByStatus.map(x => Number(x.count || 0)),\r\n    }]\r\n  }), [ordersByStatus]);\r\n\r\n  const customersByProvinceData = useMemo(() => {\r\n    const top = customersByProvince.slice(0, 10); // โชว์ Top 10\r\n    return {\r\n      labels: top.map(x => x.province || 'ไม่ระบุ'),\r\n      datasets: [{ label: 'จำนวนที่อยู่', data: top.map(x => Number(x.count || 0)) }]\r\n    };\r\n  }, [customersByProvince]);\r\n\r\n  const topCategoriesPurchasedData = useMemo(() => ({\r\n    labels: topCategoriesPurchased.map(x => x.category_name),\r\n    datasets: [{ label: 'จำนวนชิ้นที่ขาย', data: topCategoriesPurchased.map(x => Number(x.qty || 0)) }]\r\n  }), [topCategoriesPurchased]);\r\n\r\n  const productCountByCategoryData = useMemo(() => ({\r\n    labels: productCountByCategory.map(x => x.category_name),\r\n    datasets: [{ label: 'จำนวนสินค้าในระบบ', data: productCountByCategory.map(x => Number(x.products || 0)) }]\r\n  }), [productCountByCategory]);\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex items-end justify-between flex-wrap gap-3\">\r\n        <h1 className=\"text-2xl font-bold\">📊 Dashboard ภาพรวม</h1>\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"text-sm text-gray-600\">ช่วงเวลา (สำหรับยอดขาย/คำสั่งซื้อ/Top Category)</div>\r\n          <input type=\"date\" value={from} onChange={e=>setFrom(e.target.value)} className=\"border rounded px-2 py-1\"/>\r\n          <span>—</span>\r\n          <input type=\"date\" value={to} onChange={e=>setTo(e.target.value)} className=\"border rounded px-2 py-1\"/>\r\n          <button onClick={()=>{setFrom('');setTo('');}} className=\"px-3 py-1 rounded bg-gray-100 hover:bg-gray-200\">ล้าง</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n        <StatCard title=\"สินค้า\" value={summary.products}/>\r\n        <StatCard title=\"ผู้ใช้งาน\" value={summary.users}/>\r\n        <StatCard title=\"คำสั่งซื้อ\" value={summary.orders}/>\r\n        <StatCard title=\"ที่อยู่จัดส่ง\" value={summary.addresses}/>\r\n        <StatCard title=\"ยอดขายรวม\" value={summary.sales ? summary.sales.toLocaleString('th-TH') : '-'} suffix=\"บาท\"/>\r\n      </div>\r\n\r\n      {/* Charts Row 1 */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">ยอดขายรายเดือน</div>\r\n          <Bar data={salesByMonthData} />\r\n        </div>\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">คำสั่งซื้อแยกตามสถานะ</div>\r\n          <Pie data={ordersByStatusData} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Row 2 */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">ลูกค้าอยู่จังหวัดไหนเยอะที่สุด (Top 10)</div>\r\n          <Bar data={customersByProvinceData} />\r\n        </div>\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">ลูกค้าซื้อ “หมวดสินค้า” ไหนเยอะสุด</div>\r\n          <Bar data={topCategoriesPurchasedData} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Row 3 (Admin view) */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">ฝั่งแอดมิน: จำนวนสินค้าแยกตามหมวด</div>\r\n          <Bar data={productCountByCategoryData} />\r\n        </div>\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">แนวโน้มจำนวนคำสั่งซื้อ (เส้น)</div>\r\n          <Line data={{\r\n            labels: salesByMonth.map(x=>x.month),\r\n            datasets: [{ label: 'จำนวนเดือนที่มีคำสั่งซื้อ', data: salesByMonth.map(()=>1) }]\r\n          }}/>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Tables */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">คำสั่งซื้อล่าสุด</div>\r\n          <DataTable\r\n            columns={[\r\n              { key: 'order_id', header: 'Order' },\r\n              { key: 'email', header: 'ลูกค้า' },\r\n              { key: 'total_amount', header: 'ยอด (฿)', render: v => Number(v||0).toLocaleString('th-TH') },\r\n              { key: 'status_name', header: 'สถานะ' },\r\n              { key: 'order_date', header: 'วันที่', render: v => v ? new Date(v).toLocaleString('th-TH') : '' },\r\n            ]}\r\n            rows={recentOrders}\r\n          />\r\n        </div>\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">สินค้าล่าสุด</div>\r\n          <DataTable\r\n            columns={[\r\n              { key: 'product_id', header: 'ID' },\r\n              { key: 'product_name', header: 'ชื่อสินค้า' },\r\n              { key: 'category_name', header: 'หมวด' },\r\n              { key: 'created_at', header: 'เพิ่มเมื่อ', render: v => v ? new Date(v).toLocaleString('th-TH') : '' },\r\n            ]}\r\n            rows={recentProducts}\r\n          />\r\n        </div>\r\n        <div className=\"p-4 rounded-2xl shadow bg-white\">\r\n          <div className=\"font-semibold mb-2\">ที่อยู่ล่าสุด</div>\r\n          <DataTable\r\n            columns={[\r\n              { key: 'address_id', header: 'ID' },\r\n              { key: 'email', header: 'ของผู้ใช้' },\r\n              { key: 'recipient_name', header: 'ผู้รับ' },\r\n              { key: 'province', header: 'จังหวัด' },\r\n              { key: 'created_at', header: 'เพิ่มเมื่อ', render: v => v ? new Date(v).toLocaleString('th-TH') : '' },\r\n            ]}\r\n            rows={recentAddresses}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}