{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\checkout\\\\CheckoutAddress.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CheckoutAddress({\n  onSelect\n}) {\n  _s();\n  const [defAddr, setDefAddr] = useState(null);\n  const [list, setList] = useState([]);\n  const [openPicker, setOpenPicker] = useState(false);\n  useEffect(() => {\n    (async () => {\n      const [d, l] = await Promise.all([axios.get('/api/addresses/default'), axios.get('/api/addresses')]);\n      setDefAddr(d.data || null);\n      setList(l.data || []);\n      if (onSelect) onSelect(d.data || null);\n    })().catch(console.error);\n  }, [onSelect]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: '1px solid #ddd',\n      padding: 12,\n      borderRadius: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), defAddr ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: defAddr.recipient_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 16\n        }, this), \" (\", defAddr.phone || '-', \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [defAddr.line1, defAddr.line2 ? `, ${defAddr.line2}` : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [defAddr.subdistrict, defAddr.district, defAddr.province].filter(Boolean).join(', ')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [defAddr.postal_code, \" \", defAddr.country]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#b00'\n      },\n      children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E15\\u0E31\\u0E49\\u0E07\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E04\\u0E48\\u0E32\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOpenPicker(v => !v),\n        children: openPicker ? 'ซ่อนรายการที่อยู่ทั้งหมด' : 'เลือกที่อยู่อื่น'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), openPicker && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: list.map(a => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 8,\n          border: '1px solid #eee',\n          marginBottom: 6,\n          borderRadius: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: a.recipient_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 20\n          }, this), \" (\", a.phone || '-', \") \", a.is_default ? '✅' : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [a.line1, a.line2 ? `, ${a.line2}` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [a.subdistrict, a.district, a.province].filter(Boolean).join(', ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [a.postal_code, \" \", a.country]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 6\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setDefAddr(a);\n              setOpenPicker(false);\n              onSelect && onSelect(a);\n            },\n            children: \"\\u0E43\\u0E0A\\u0E49\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E19\\u0E35\\u0E49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }, this)]\n      }, a.address_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutAddress, \"09RHVMYu1VBxbgOk7/uq4hZQ4fo=\");\n_c = CheckoutAddress;\nvar _c;\n$RefreshReg$(_c, \"CheckoutAddress\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","CheckoutAddress","onSelect","_s","defAddr","setDefAddr","list","setList","openPicker","setOpenPicker","d","l","Promise","all","get","data","catch","console","error","style","border","padding","borderRadius","children","fileName","_jsxFileName","lineNumber","columnNumber","recipient_name","phone","line1","line2","subdistrict","district","province","filter","Boolean","join","postal_code","country","color","marginTop","onClick","v","map","a","marginBottom","is_default","address_id","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/checkout/CheckoutAddress.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function CheckoutAddress({ onSelect }) {\r\n  const [defAddr, setDefAddr] = useState(null);\r\n  const [list, setList] = useState([]);\r\n  const [openPicker, setOpenPicker] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const [d, l] = await Promise.all([\r\n        axios.get('/api/addresses/default'),\r\n        axios.get('/api/addresses'),\r\n      ]);\r\n      setDefAddr(d.data || null);\r\n      setList(l.data || []);\r\n      if (onSelect) onSelect(d.data || null);\r\n    })().catch(console.error);\r\n  }, [onSelect]);\r\n\r\n  return (\r\n    <div style={{ border: '1px solid #ddd', padding: 12, borderRadius: 8 }}>\r\n      <h3>ที่อยู่จัดส่ง</h3>\r\n      {defAddr ? (\r\n        <div>\r\n          <div><b>{defAddr.recipient_name}</b> ({defAddr.phone || '-'})</div>\r\n          <div>{defAddr.line1}{defAddr.line2 ? `, ${defAddr.line2}` : ''}</div>\r\n          <div>{[defAddr.subdistrict, defAddr.district, defAddr.province].filter(Boolean).join(', ')}</div>\r\n          <div>{defAddr.postal_code} {defAddr.country}</div>\r\n        </div>\r\n      ) : (\r\n        <div style={{ color: '#b00' }}>ยังไม่ได้ตั้งที่อยู่ค่าเริ่มต้น</div>\r\n      )}\r\n\r\n      <div style={{ marginTop: 8 }}>\r\n        <button onClick={() => setOpenPicker(v => !v)}>\r\n          {openPicker ? 'ซ่อนรายการที่อยู่ทั้งหมด' : 'เลือกที่อยู่อื่น'}\r\n        </button>\r\n      </div>\r\n\r\n      {openPicker && (\r\n        <div style={{ marginTop: 8 }}>\r\n          {list.map(a => (\r\n            <div key={a.address_id}\r\n                 style={{ padding: 8, border: '1px solid #eee', marginBottom: 6, borderRadius: 6 }}>\r\n              <div><b>{a.recipient_name}</b> ({a.phone || '-'}) {a.is_default ? '✅' : ''}</div>\r\n              <div>{a.line1}{a.line2 ? `, ${a.line2}` : ''}</div>\r\n              <div>{[a.subdistrict, a.district, a.province].filter(Boolean).join(', ')}</div>\r\n              <div>{a.postal_code} {a.country}</div>\r\n              <div style={{ marginTop: 6 }}>\r\n                <button onClick={() => { setDefAddr(a); setOpenPicker(false); onSelect && onSelect(a); }}>\r\n                  ใช้ที่อยู่นี้\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,eAAe,SAASC,eAAeA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACpD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAEnDD,SAAS,CAAC,MAAM;IACd,CAAC,YAAY;MACX,MAAM,CAACc,CAAC,EAAEC,CAAC,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC/Bf,KAAK,CAACgB,GAAG,CAAC,wBAAwB,CAAC,EACnChB,KAAK,CAACgB,GAAG,CAAC,gBAAgB,CAAC,CAC5B,CAAC;MACFT,UAAU,CAACK,CAAC,CAACK,IAAI,IAAI,IAAI,CAAC;MAC1BR,OAAO,CAACI,CAAC,CAACI,IAAI,IAAI,EAAE,CAAC;MACrB,IAAIb,QAAQ,EAAEA,QAAQ,CAACQ,CAAC,CAACK,IAAI,IAAI,IAAI,CAAC;IACxC,CAAC,EAAE,CAAC,CAACC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;EAC3B,CAAC,EAAE,CAAChB,QAAQ,CAAC,CAAC;EAEd,oBACEF,OAAA;IAAKmB,KAAK,EAAE;MAAEC,MAAM,EAAE,gBAAgB;MAAEC,OAAO,EAAE,EAAE;MAAEC,YAAY,EAAE;IAAE,CAAE;IAAAC,QAAA,gBACrEvB,OAAA;MAAAuB,QAAA,EAAI;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACrBvB,OAAO,gBACNJ,OAAA;MAAAuB,QAAA,gBACEvB,OAAA;QAAAuB,QAAA,gBAAKvB,OAAA;UAAAuB,QAAA,EAAInB,OAAO,CAACwB;QAAc;UAAAJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,MAAE,EAACvB,OAAO,CAACyB,KAAK,IAAI,GAAG,EAAC,GAAC;MAAA;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACnE3B,OAAA;QAAAuB,QAAA,GAAMnB,OAAO,CAAC0B,KAAK,EAAE1B,OAAO,CAAC2B,KAAK,GAAG,KAAK3B,OAAO,CAAC2B,KAAK,EAAE,GAAG,EAAE;MAAA;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACrE3B,OAAA;QAAAuB,QAAA,EAAM,CAACnB,OAAO,CAAC4B,WAAW,EAAE5B,OAAO,CAAC6B,QAAQ,EAAE7B,OAAO,CAAC8B,QAAQ,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI;MAAC;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eACjG3B,OAAA;QAAAuB,QAAA,GAAMnB,OAAO,CAACkC,WAAW,EAAC,GAAC,EAAClC,OAAO,CAACmC,OAAO;MAAA;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC,gBAEN3B,OAAA;MAAKmB,KAAK,EAAE;QAAEqB,KAAK,EAAE;MAAO,CAAE;MAAAjB,QAAA,EAAC;IAA+B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACpE,eAED3B,OAAA;MAAKmB,KAAK,EAAE;QAAEsB,SAAS,EAAE;MAAE,CAAE;MAAAlB,QAAA,eAC3BvB,OAAA;QAAQ0C,OAAO,EAAEA,CAAA,KAAMjC,aAAa,CAACkC,CAAC,IAAI,CAACA,CAAC,CAAE;QAAApB,QAAA,EAC3Cf,UAAU,GAAG,0BAA0B,GAAG;MAAkB;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELnB,UAAU,iBACTR,OAAA;MAAKmB,KAAK,EAAE;QAAEsB,SAAS,EAAE;MAAE,CAAE;MAAAlB,QAAA,EAC1BjB,IAAI,CAACsC,GAAG,CAACC,CAAC,iBACT7C,OAAA;QACKmB,KAAK,EAAE;UAAEE,OAAO,EAAE,CAAC;UAAED,MAAM,EAAE,gBAAgB;UAAE0B,YAAY,EAAE,CAAC;UAAExB,YAAY,EAAE;QAAE,CAAE;QAAAC,QAAA,gBACrFvB,OAAA;UAAAuB,QAAA,gBAAKvB,OAAA;YAAAuB,QAAA,EAAIsB,CAAC,CAACjB;UAAc;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,MAAE,EAACkB,CAAC,CAAChB,KAAK,IAAI,GAAG,EAAC,IAAE,EAACgB,CAAC,CAACE,UAAU,GAAG,GAAG,GAAG,EAAE;QAAA;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjF3B,OAAA;UAAAuB,QAAA,GAAMsB,CAAC,CAACf,KAAK,EAAEe,CAAC,CAACd,KAAK,GAAG,KAAKc,CAAC,CAACd,KAAK,EAAE,GAAG,EAAE;QAAA;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACnD3B,OAAA;UAAAuB,QAAA,EAAM,CAACsB,CAAC,CAACb,WAAW,EAAEa,CAAC,CAACZ,QAAQ,EAAEY,CAAC,CAACX,QAAQ,CAAC,CAACC,MAAM,CAACC,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI;QAAC;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/E3B,OAAA;UAAAuB,QAAA,GAAMsB,CAAC,CAACP,WAAW,EAAC,GAAC,EAACO,CAAC,CAACN,OAAO;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACtC3B,OAAA;UAAKmB,KAAK,EAAE;YAAEsB,SAAS,EAAE;UAAE,CAAE;UAAAlB,QAAA,eAC3BvB,OAAA;YAAQ0C,OAAO,EAAEA,CAAA,KAAM;cAAErC,UAAU,CAACwC,CAAC,CAAC;cAAEpC,aAAa,CAAC,KAAK,CAAC;cAAEP,QAAQ,IAAIA,QAAQ,CAAC2C,CAAC,CAAC;YAAE,CAAE;YAAAtB,QAAA,EAAC;UAE1F;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA,GAVEkB,CAAC,CAACG,UAAU;QAAAxB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAWjB,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACxB,EAAA,CAzDuBF,eAAe;AAAAgD,EAAA,GAAfhD,eAAe;AAAA,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}