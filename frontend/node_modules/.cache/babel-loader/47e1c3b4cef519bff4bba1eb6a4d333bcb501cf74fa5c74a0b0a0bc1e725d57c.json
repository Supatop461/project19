{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\components\\\\ThaiAddressPicker.js\",\n  _s = $RefreshSig$();\n// src/components/ThaiAddressPicker.js\n// เลือก จังหวัด → อำเภอ → ตำบล แบบโหลดทีละชั้น (ทนพาธ/คีย์สุดๆ + fallback ได้)\n\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\n\n/* -------------------- Helpers: ดึงค่าคีย์แบบยืดหยุ่น -------------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pick = (o, keys) => {\n  for (const k of keys) if (o && o[k] != null) return o[k];\n  return null;\n};\n// จังหวัด\nconst provIdOf = o => pick(o, ['province_id', 'PROVINCE_ID', 'id', 'code']);\nconst provCodeOf = o => pick(o, ['code', 'province_code', 'PROVINCE_CODE', 'id']);\nconst provNameOf = o => pick(o, ['name_th', 'name', 'PROVINCE_NAME']) || '';\n// อำเภอ\nconst distIdOf = o => pick(o, ['amphure_id', 'AMPHUR_ID', 'district_id', 'DISTRICT_ID', 'id', 'code']);\nconst distNameOf = o => pick(o, ['name_th', 'name', 'AMPHUR_NAME', 'DISTRICT_NAME']) || '';\nconst distProvIdOf = o => pick(o, ['province_id', 'PROVINCE_ID']);\nconst distProvCodeOf = o => pick(o, ['province_code', 'PROVINCE_CODE']);\n// ตำบล\nconst subIdOf = o => pick(o, ['tambon_id', 'TAMBON_ID', 'subdistrict_id', 'SUBDISTRICT_ID', 'id', 'code']);\nconst subNameOf = o => pick(o, ['name_th', 'name', 'TAMBON_NAME', 'SUBDISTRICT_NAME']) || '';\nconst subDistIdOf = o => pick(o, ['amphure_id', 'AMPHUR_ID', 'district_id', 'DISTRICT_ID']);\nconst subZipOf = o => pick(o, ['zip_code', 'zipcode', 'POSTCODE', 'postcode']);\nconst joinUrl = (base, path) => `${String(base).replace(/\\/+$/, '')}/${String(path).replace(/^\\/+/, '')}`;\n\n/* ---------- fetch JSON แบบกัน index.html / 404 + กันแคช ---------- */\nasync function loadJSONWithFallback(basePath, candidates) {\n  const tried = [];\n  const withBust = u => u + (u.includes('?') ? '&' : '?') + 'v=20250818';\n  for (const name of candidates) {\n    const url = withBust(joinUrl(basePath || '', name));\n    tried.push(url);\n    try {\n      const res = await fetch(url, {\n        cache: 'no-store'\n      });\n      if (!res.ok) continue;\n      const text = await res.text();\n      try {\n        const json = JSON.parse(text);\n        console.info('[ThaiAddressPicker] loaded', url);\n        return json;\n      } catch {\n        continue;\n      }\n    } catch {/* try next */}\n  }\n  throw new Error(`No valid JSON from: ${tried.join(', ')}`);\n}\n\n/* ================================ Component ================================ */\nexport default function ThaiAddressPicker({\n  value,\n  onChange,\n  basePath = '/thai',\n  basePathCandidates = ['/thai', '/data', ''],\n  disabled = false,\n  showZipInput = false,\n  showErrors = false // 🆕 ควบคุมว่าจะโชว์ข้อความ error ไหม (default: ไม่โชว์)\n}) {\n  _s();\n  const [provinces, setProvinces] = useState([]);\n  const [districts, setDistricts] = useState([]);\n  const [subs, setSubs] = useState([]);\n  const [loadingProv, setLoadingProv] = useState(true);\n  const [loadingDist, setLoadingDist] = useState(false);\n  const [loadingSub, setLoadingSub] = useState(false);\n  const [baseUsed, setBaseUsed] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const cacheRef = useRef({\n    districts: {},\n    subs: {}\n  });\n  const patch = obj => onChange && onChange(obj);\n\n  /* -------------------- โหลด \"จังหวัด\" -------------------- */\n  useEffect(() => {\n    let alive = true;\n    (async () => {\n      setLoadingProv(true);\n      setErrMsg('');\n      const candidates = [basePath, ...basePathCandidates].filter((v, i, a) => v != null && a.indexOf(v) === i);\n      let loaded = false,\n        lastError = '';\n      for (const bp of candidates) {\n        try {\n          const js = await loadJSONWithFallback(bp || '', ['provinces.json']);\n          if (!alive) return;\n          if (!Array.isArray(js) || js.length === 0) throw new Error('empty provinces');\n          setProvinces(js);\n          setBaseUsed(bp || '');\n          setErrMsg('');\n          loaded = true;\n          break;\n        } catch (e) {\n          lastError = (e === null || e === void 0 ? void 0 : e.message) || String(e);\n        }\n      }\n      if (!alive) return;\n      if (!loaded) {\n        setProvinces([]);\n        setBaseUsed('');\n        setErrMsg('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ (provinces.json)');\n        console.error('[ThaiAddressPicker] provinces load failed:', lastError);\n      }\n      setLoadingProv(false);\n    })();\n    return () => {\n      alive = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [basePath, JSON.stringify(basePathCandidates)]);\n\n  /* -------------------- map ค่า current -------------------- */\n  const currentProvinceId = useMemo(() => {\n    if (!(provinces !== null && provinces !== void 0 && provinces.length)) return '';\n    if ((value === null || value === void 0 ? void 0 : value.province_id) != null) return String(value.province_id);\n    if ((value === null || value === void 0 ? void 0 : value.province_code) != null) {\n      const pByCode = provinces.find(x => String(provCodeOf(x)) === String(value.province_code));\n      if (pByCode) return String(provIdOf(pByCode));\n    }\n    if (value !== null && value !== void 0 && value.province) {\n      const name = String(value.province).trim().toLowerCase();\n      const pByName = provinces.find(x => provNameOf(x).trim().toLowerCase() === name);\n      if (pByName) return String(provIdOf(pByName));\n    }\n    return '';\n  }, [value === null || value === void 0 ? void 0 : value.province_id, value === null || value === void 0 ? void 0 : value.province_code, value === null || value === void 0 ? void 0 : value.province, provinces]);\n  const currentDistrictId = useMemo(() => {\n    if (!(districts !== null && districts !== void 0 && districts.length)) return '';\n    if ((value === null || value === void 0 ? void 0 : value.district_id) != null) return String(value.district_id);\n    if ((value === null || value === void 0 ? void 0 : value.district_code) != null) {\n      const dByCode = districts.find(x => String(distIdOf(x)) === String(value.district_code));\n      if (dByCode) return String(distIdOf(dByCode));\n    }\n    if (value !== null && value !== void 0 && value.district) {\n      const name = String(value.district).trim().toLowerCase();\n      const dByName = districts.find(x => distNameOf(x).trim().toLowerCase() === name);\n      if (dByName) return String(distIdOf(dByName));\n    }\n    return '';\n  }, [value === null || value === void 0 ? void 0 : value.district_id, value === null || value === void 0 ? void 0 : value.district_code, value === null || value === void 0 ? void 0 : value.district, districts]);\n  const currentSubdistrictId = useMemo(() => {\n    if (!(subs !== null && subs !== void 0 && subs.length)) return '';\n    if ((value === null || value === void 0 ? void 0 : value.subdistrict_id) != null) return String(value.subdistrict_id);\n    if ((value === null || value === void 0 ? void 0 : value.subdistrict_code) != null) {\n      const sByCode = subs.find(x => String(subIdOf(x)) === String(value.subdistrict_code));\n      if (sByCode) return String(subIdOf(sByCode));\n    }\n    if (value !== null && value !== void 0 && value.subdistrict) {\n      const name = String(value.subdistrict).trim().toLowerCase();\n      const sByName = subs.find(x => subNameOf(x).trim().toLowerCase() === name);\n      if (sByName) return String(subIdOf(sByName));\n    }\n    return '';\n  }, [value === null || value === void 0 ? void 0 : value.subdistrict_id, value === null || value === void 0 ? void 0 : value.subdistrict_code, value === null || value === void 0 ? void 0 : value.subdistrict, subs]);\n\n  /* -------------------- เมื่อเลือก/เปลี่ยน \"จังหวัด\" → โหลดอำเภอ -------------------- */\n  useEffect(() => {\n    const provId = currentProvinceId;\n    if (!provId || !baseUsed) {\n      setDistricts([]);\n      setSubs([]);\n      return;\n    }\n    if (cacheRef.current.districts[provId]) {\n      setDistricts(cacheRef.current.districts[provId]);\n      setErrMsg('');\n      return;\n    }\n    let alive = true;\n    (async () => {\n      setLoadingDist(true);\n      setErrMsg('');\n      try {\n        var _provCodeOf;\n        const provObj = provinces.find(p => String(provIdOf(p)) === String(provId)) || {};\n        const tryKeys = Array.from(new Set([String(provId), String((_provCodeOf = provCodeOf(provObj)) !== null && _provCodeOf !== void 0 ? _provCodeOf : ''), String(provId).padStart(2, '0'), String(provId).padStart(3, '0')].filter(Boolean)));\n        let data = null,\n          lastErr = '';\n        for (const k of tryKeys) {\n          try {\n            const js = await loadJSONWithFallback(baseUsed, [`districts/${k}.json`]);\n            if (Array.isArray(js) && js.length) {\n              data = js;\n              break;\n            }\n          } catch (e) {\n            lastErr = (e === null || e === void 0 ? void 0 : e.message) || String(e);\n          }\n        }\n        if (!data) {\n          var _provCodeOf2;\n          const all = await loadJSONWithFallback(baseUsed, ['amphures.json']);\n          const provCandidates = Array.from(new Set([String(provId), String((_provCodeOf2 = provCodeOf(provObj)) !== null && _provCodeOf2 !== void 0 ? _provCodeOf2 : '')].filter(Boolean)));\n          const filtered = (all || []).filter(a => {\n            var _ref, _distProvIdOf;\n            const pid = String((_ref = (_distProvIdOf = distProvIdOf(a)) !== null && _distProvIdOf !== void 0 ? _distProvIdOf : distProvCodeOf(a)) !== null && _ref !== void 0 ? _ref : '');\n            return pid && provCandidates.includes(pid);\n          });\n          data = filtered;\n        }\n        if (!alive) return;\n        const arr = Array.isArray(data) ? data : [];\n        cacheRef.current.districts[provId] = arr;\n        setDistricts(arr);\n        setErrMsg('');\n        if (arr.length === 0) console.warn('[ThaiAddressPicker] districts empty for provinceId=', provId, 'base=', baseUsed);\n      } catch (e) {\n        console.error('[ThaiAddressPicker] districts load error:', e);\n        if (alive) {\n          setDistricts([]);\n          setErrMsg('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ (districts)');\n        }\n      } finally {\n        if (alive) setLoadingDist(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [currentProvinceId, baseUsed, provinces]);\n\n  /* -------------------- เมื่อเลือก/เปลี่ยน \"อำเภอ\" → โหลดตำบล -------------------- */\n  useEffect(() => {\n    const distId = currentDistrictId;\n    if (!distId || !baseUsed) {\n      setSubs([]);\n      return;\n    }\n    if (cacheRef.current.subs[distId]) {\n      setSubs(cacheRef.current.subs[distId]);\n      setErrMsg('');\n      return;\n    }\n    let alive = true;\n    (async () => {\n      setLoadingSub(true);\n      setErrMsg('');\n      try {\n        const tryKeys = Array.from(new Set([String(distId), String(distId).padStart(2, '0'), String(distId).padStart(3, '0')]));\n        let data = null,\n          lastErr = '';\n        for (const k of tryKeys) {\n          try {\n            const js = await loadJSONWithFallback(baseUsed, [`subdistricts/${k}.json`]);\n            if (Array.isArray(js) && js.length) {\n              data = js;\n              break;\n            }\n          } catch (e) {\n            lastErr = (e === null || e === void 0 ? void 0 : e.message) || String(e);\n          }\n        }\n        if (!data) {\n          const all = await loadJSONWithFallback(baseUsed, ['tambons.json']);\n          const filtered = (all || []).filter(t => {\n            var _subDistIdOf;\n            return String((_subDistIdOf = subDistIdOf(t)) !== null && _subDistIdOf !== void 0 ? _subDistIdOf : '') === String(distId);\n          });\n          data = filtered;\n        }\n        if (!alive) return;\n        const arr = Array.isArray(data) ? data : [];\n        cacheRef.current.subs[distId] = arr;\n        setSubs(arr);\n        setErrMsg('');\n        if (arr.length === 0) console.warn('[ThaiAddressPicker] subdistricts empty for districtId=', distId, 'base=', baseUsed);\n      } catch (e) {\n        console.error('[ThaiAddressPicker] subdistricts load error:', e);\n        if (alive) {\n          setSubs([]);\n          setErrMsg('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ (subdistricts)');\n        }\n      } finally {\n        if (alive) setLoadingSub(false);\n      }\n    })();\n    return () => {\n      alive = false;\n    };\n  }, [currentDistrictId, baseUsed]);\n\n  /* -------------------- onChange -------------------- */\n  const handleProvince = e => {\n    const id = e.target.value || '';\n    const sel = provinces.find(p => String(provIdOf(p)) === String(id)) || null;\n    setErrMsg('');\n    patch({\n      province: sel ? provNameOf(sel) : '',\n      province_id: sel ? provIdOf(sel) : null,\n      province_code: sel ? provCodeOf(sel) : null,\n      district: '',\n      district_id: null,\n      district_code: null,\n      subdistrict: '',\n      subdistrict_id: null,\n      subdistrict_code: null,\n      postal_code: ''\n    });\n  };\n  const handleDistrict = e => {\n    const id = e.target.value || '';\n    const sel = districts.find(d => String(distIdOf(d)) === String(id)) || null;\n    setErrMsg('');\n    patch({\n      district: sel ? distNameOf(sel) : '',\n      district_id: sel ? distIdOf(sel) : null,\n      district_code: sel ? distIdOf(sel) : null,\n      subdistrict: '',\n      subdistrict_id: null,\n      subdistrict_code: null,\n      postal_code: ''\n    });\n  };\n  const handleSubdistrict = e => {\n    const id = e.target.value || '';\n    const sel = subs.find(s => String(subIdOf(s)) === String(id)) || null;\n    setErrMsg('');\n    patch({\n      subdistrict: sel ? subNameOf(sel) : '',\n      subdistrict_id: sel ? subIdOf(sel) : null,\n      subdistrict_code: sel ? subIdOf(sel) : null,\n      postal_code: sel ? String(subZipOf(sel) || '') : ''\n    });\n  };\n\n  /* -------------------- disabled flags (ตัด errMsg ออก) -------------------- */\n  const disProv = disabled || loadingProv;\n  const disDist = disabled || !currentProvinceId || loadingDist;\n  const disSub = disabled || !currentDistrictId || loadingSub;\n\n  /* -------------------- UI -------------------- */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gap: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr 1fr',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: currentProvinceId,\n        onChange: handleProvince,\n        disabled: disProv,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: loadingProv ? 'กำลังโหลดจังหวัด...' : provinces.length ? '-- เลือกจังหวัด --' : 'ไม่พบข้อมูลจังหวัด'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), provinces.map(p => {\n          var _provIdOf;\n          const id = String((_provIdOf = provIdOf(p)) !== null && _provIdOf !== void 0 ? _provIdOf : '');\n          const name = provNameOf(p);\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: id,\n            children: name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: currentDistrictId,\n        onChange: handleDistrict,\n        disabled: disDist,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: loadingDist ? 'กำลังโหลดอำเภอ...' : currentProvinceId ? '-- เลือกอำเภอ --' : 'เลือกจังหวัดก่อน'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), districts.map(d => {\n          var _distIdOf;\n          const id = String((_distIdOf = distIdOf(d)) !== null && _distIdOf !== void 0 ? _distIdOf : '');\n          const name = distNameOf(d);\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: id,\n            children: name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: currentSubdistrictId,\n        onChange: handleSubdistrict,\n        disabled: disSub,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: loadingSub ? 'กำลังโหลดตำบล...' : currentDistrictId ? '-- เลือกตำบล --' : 'เลือกอำเภอก่อน'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), subs.map(s => {\n          var _subIdOf;\n          const id = String((_subIdOf = subIdOf(s)) !== null && _subIdOf !== void 0 ? _subIdOf : '');\n          const name = subNameOf(s);\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: id,\n            children: name\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 20\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), showZipInput && /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E44\\u0E1B\\u0E23\\u0E29\\u0E13\\u0E35\\u0E22\\u0E4C\",\n      value: (value === null || value === void 0 ? void 0 : value.postal_code) || '',\n      onChange: e => patch({\n        postal_code: e.target.value\n      }),\n      disabled: disabled\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 9\n    }, this), showErrors && errMsg && /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        color: '#c00'\n      },\n      children: errMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 9\n    }, this), baseUsed ? /*#__PURE__*/_jsxDEV(\"small\", {\n      style: {\n        color: '#999'\n      },\n      children: [\"\\u0E43\\u0E0A\\u0E49\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E08\\u0E32\\u0E01: \", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: baseUsed || '/'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 65\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 19\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n}\n_s(ThaiAddressPicker, \"OZLhb7J2j8Y0Q/v1ryyWEsKY+qg=\");\n_c = ThaiAddressPicker;\nvar _c;\n$RefreshReg$(_c, \"ThaiAddressPicker\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","jsxDEV","_jsxDEV","pick","o","keys","k","provIdOf","provCodeOf","provNameOf","distIdOf","distNameOf","distProvIdOf","distProvCodeOf","subIdOf","subNameOf","subDistIdOf","subZipOf","joinUrl","base","path","String","replace","loadJSONWithFallback","basePath","candidates","tried","withBust","u","includes","name","url","push","res","fetch","cache","ok","text","json","JSON","parse","console","info","Error","join","ThaiAddressPicker","value","onChange","basePathCandidates","disabled","showZipInput","showErrors","_s","provinces","setProvinces","districts","setDistricts","subs","setSubs","loadingProv","setLoadingProv","loadingDist","setLoadingDist","loadingSub","setLoadingSub","baseUsed","setBaseUsed","errMsg","setErrMsg","cacheRef","patch","obj","alive","filter","v","i","a","indexOf","loaded","lastError","bp","js","Array","isArray","length","e","message","error","stringify","currentProvinceId","province_id","province_code","pByCode","find","x","province","trim","toLowerCase","pByName","currentDistrictId","district_id","district_code","dByCode","district","dByName","currentSubdistrictId","subdistrict_id","subdistrict_code","sByCode","subdistrict","sByName","provId","current","_provCodeOf","provObj","p","tryKeys","from","Set","padStart","Boolean","data","lastErr","_provCodeOf2","all","provCandidates","filtered","_ref","_distProvIdOf","pid","arr","warn","distId","t","_subDistIdOf","handleProvince","id","target","sel","postal_code","handleDistrict","d","handleSubdistrict","s","disProv","disDist","disSub","style","display","gap","children","gridTemplateColumns","fileName","_jsxFileName","lineNumber","columnNumber","map","_provIdOf","_distIdOf","_subIdOf","placeholder","color","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/components/ThaiAddressPicker.js"],"sourcesContent":["// src/components/ThaiAddressPicker.js\r\n// เลือก จังหวัด → อำเภอ → ตำบล แบบโหลดทีละชั้น (ทนพาธ/คีย์สุดๆ + fallback ได้)\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\r\n\r\n/* -------------------- Helpers: ดึงค่าคีย์แบบยืดหยุ่น -------------------- */\r\nconst pick = (o, keys) => { for (const k of keys) if (o && o[k] != null) return o[k]; return null; };\r\n// จังหวัด\r\nconst provIdOf   = (o) => pick(o, ['province_id','PROVINCE_ID','id','code']);\r\nconst provCodeOf = (o) => pick(o, ['code','province_code','PROVINCE_CODE','id']);\r\nconst provNameOf = (o) => pick(o, ['name_th','name','PROVINCE_NAME']) || '';\r\n// อำเภอ\r\nconst distIdOf       = (o) => pick(o, ['amphure_id','AMPHUR_ID','district_id','DISTRICT_ID','id','code']);\r\nconst distNameOf     = (o) => pick(o, ['name_th','name','AMPHUR_NAME','DISTRICT_NAME']) || '';\r\nconst distProvIdOf   = (o) => pick(o, ['province_id','PROVINCE_ID']);\r\nconst distProvCodeOf = (o) => pick(o, ['province_code','PROVINCE_CODE']);\r\n// ตำบล\r\nconst subIdOf     = (o) => pick(o, ['tambon_id','TAMBON_ID','subdistrict_id','SUBDISTRICT_ID','id','code']);\r\nconst subNameOf   = (o) => pick(o, ['name_th','name','TAMBON_NAME','SUBDISTRICT_NAME']) || '';\r\nconst subDistIdOf = (o) => pick(o, ['amphure_id','AMPHUR_ID','district_id','DISTRICT_ID']);\r\nconst subZipOf    = (o) => pick(o, ['zip_code','zipcode','POSTCODE','postcode']);\r\n\r\nconst joinUrl = (base, path) => `${String(base).replace(/\\/+$/, '')}/${String(path).replace(/^\\/+/, '')}`;\r\n\r\n/* ---------- fetch JSON แบบกัน index.html / 404 + กันแคช ---------- */\r\nasync function loadJSONWithFallback(basePath, candidates) {\r\n  const tried = [];\r\n  const withBust = (u) => u + (u.includes('?') ? '&' : '?') + 'v=20250818';\r\n\r\n  for (const name of candidates) {\r\n    const url = withBust(joinUrl(basePath || '', name));\r\n    tried.push(url);\r\n    try {\r\n      const res = await fetch(url, { cache: 'no-store' });\r\n      if (!res.ok) continue;\r\n      const text = await res.text();\r\n      try {\r\n        const json = JSON.parse(text);\r\n        console.info('[ThaiAddressPicker] loaded', url);\r\n        return json;\r\n      } catch {\r\n        continue;\r\n      }\r\n    } catch { /* try next */ }\r\n  }\r\n  throw new Error(`No valid JSON from: ${tried.join(', ')}`);\r\n}\r\n\r\n/* ================================ Component ================================ */\r\nexport default function ThaiAddressPicker({\r\n  value,\r\n  onChange,\r\n  basePath = '/thai',\r\n  basePathCandidates = ['/thai', '/data', ''],\r\n  disabled = false,\r\n  showZipInput = false,\r\n  showErrors = false,              // 🆕 ควบคุมว่าจะโชว์ข้อความ error ไหม (default: ไม่โชว์)\r\n}) {\r\n  const [provinces, setProvinces] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [subs, setSubs]           = useState([]);\r\n\r\n  const [loadingProv, setLoadingProv] = useState(true);\r\n  const [loadingDist, setLoadingDist] = useState(false);\r\n  const [loadingSub,  setLoadingSub ] = useState(false);\r\n\r\n  const [baseUsed, setBaseUsed] = useState('');\r\n  const [errMsg, setErrMsg]     = useState('');\r\n\r\n  const cacheRef = useRef({ districts: {}, subs: {} });\r\n  const patch = (obj) => onChange && onChange(obj);\r\n\r\n  /* -------------------- โหลด \"จังหวัด\" -------------------- */\r\n  useEffect(() => {\r\n    let alive = true;\r\n    (async () => {\r\n      setLoadingProv(true);\r\n      setErrMsg('');\r\n      const candidates = [basePath, ...basePathCandidates].filter((v,i,a) => v!=null && a.indexOf(v)===i);\r\n      let loaded = false, lastError = '';\r\n\r\n      for (const bp of candidates) {\r\n        try {\r\n          const js = await loadJSONWithFallback(bp || '', ['provinces.json']);\r\n          if (!alive) return;\r\n          if (!Array.isArray(js) || js.length === 0) throw new Error('empty provinces');\r\n          setProvinces(js);\r\n          setBaseUsed(bp || '');\r\n          setErrMsg('');\r\n          loaded = true;\r\n          break;\r\n        } catch (e) { lastError = e?.message || String(e); }\r\n      }\r\n\r\n      if (!alive) return;\r\n      if (!loaded) {\r\n        setProvinces([]);\r\n        setBaseUsed('');\r\n        setErrMsg('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ (provinces.json)');\r\n        console.error('[ThaiAddressPicker] provinces load failed:', lastError);\r\n      }\r\n      setLoadingProv(false);\r\n    })();\r\n    return () => { alive = false; };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [basePath, JSON.stringify(basePathCandidates)]);\r\n\r\n  /* -------------------- map ค่า current -------------------- */\r\n  const currentProvinceId = useMemo(() => {\r\n    if (!provinces?.length) return '';\r\n    if (value?.province_id != null) return String(value.province_id);\r\n    if (value?.province_code != null) {\r\n      const pByCode = provinces.find(x => String(provCodeOf(x)) === String(value.province_code));\r\n      if (pByCode) return String(provIdOf(pByCode));\r\n    }\r\n    if (value?.province) {\r\n      const name = String(value.province).trim().toLowerCase();\r\n      const pByName = provinces.find(x => provNameOf(x).trim().toLowerCase() === name);\r\n      if (pByName) return String(provIdOf(pByName));\r\n    }\r\n    return '';\r\n  }, [value?.province_id, value?.province_code, value?.province, provinces]);\r\n\r\n  const currentDistrictId = useMemo(() => {\r\n    if (!districts?.length) return '';\r\n    if (value?.district_id != null) return String(value.district_id);\r\n    if (value?.district_code != null) {\r\n      const dByCode = districts.find(x => String(distIdOf(x)) === String(value.district_code));\r\n      if (dByCode) return String(distIdOf(dByCode));\r\n    }\r\n    if (value?.district) {\r\n      const name = String(value.district).trim().toLowerCase();\r\n      const dByName = districts.find(x => distNameOf(x).trim().toLowerCase() === name);\r\n      if (dByName) return String(distIdOf(dByName));\r\n    }\r\n    return '';\r\n  }, [value?.district_id, value?.district_code, value?.district, districts]);\r\n\r\n  const currentSubdistrictId = useMemo(() => {\r\n    if (!subs?.length) return '';\r\n    if (value?.subdistrict_id != null) return String(value.subdistrict_id);\r\n    if (value?.subdistrict_code != null) {\r\n      const sByCode = subs.find(x => String(subIdOf(x)) === String(value.subdistrict_code));\r\n      if (sByCode) return String(subIdOf(sByCode));\r\n    }\r\n    if (value?.subdistrict) {\r\n      const name = String(value.subdistrict).trim().toLowerCase();\r\n      const sByName = subs.find(x => subNameOf(x).trim().toLowerCase() === name);\r\n      if (sByName) return String(subIdOf(sByName));\r\n    }\r\n    return '';\r\n  }, [value?.subdistrict_id, value?.subdistrict_code, value?.subdistrict, subs]);\r\n\r\n  /* -------------------- เมื่อเลือก/เปลี่ยน \"จังหวัด\" → โหลดอำเภอ -------------------- */\r\n  useEffect(() => {\r\n    const provId = currentProvinceId;\r\n    if (!provId || !baseUsed) { setDistricts([]); setSubs([]); return; }\r\n\r\n    if (cacheRef.current.districts[provId]) { setDistricts(cacheRef.current.districts[provId]); setErrMsg(''); return; }\r\n\r\n    let alive = true;\r\n    (async () => {\r\n      setLoadingDist(true);\r\n      setErrMsg('');\r\n      try {\r\n        const provObj = provinces.find(p => String(provIdOf(p)) === String(provId)) || {};\r\n        const tryKeys = Array.from(new Set([\r\n          String(provId),\r\n          String(provCodeOf(provObj) ?? ''),\r\n          String(provId).padStart(2,'0'),\r\n          String(provId).padStart(3,'0'),\r\n        ].filter(Boolean)));\r\n\r\n        let data = null, lastErr = '';\r\n\r\n        for (const k of tryKeys) {\r\n          try {\r\n            const js = await loadJSONWithFallback(baseUsed, [`districts/${k}.json`]);\r\n            if (Array.isArray(js) && js.length) { data = js; break; }\r\n          } catch (e) { lastErr = e?.message || String(e); }\r\n        }\r\n\r\n        if (!data) {\r\n          const all = await loadJSONWithFallback(baseUsed, ['amphures.json']);\r\n          const provCandidates = Array.from(new Set([\r\n            String(provId),\r\n            String(provCodeOf(provObj) ?? ''),\r\n          ].filter(Boolean)));\r\n          const filtered = (all || []).filter(a => {\r\n            const pid = String(distProvIdOf(a) ?? distProvCodeOf(a) ?? '');\r\n            return pid && provCandidates.includes(pid);\r\n          });\r\n          data = filtered;\r\n        }\r\n\r\n        if (!alive) return;\r\n        const arr = Array.isArray(data) ? data : [];\r\n        cacheRef.current.districts[provId] = arr;\r\n        setDistricts(arr);\r\n        setErrMsg('');\r\n        if (arr.length === 0) console.warn('[ThaiAddressPicker] districts empty for provinceId=', provId, 'base=', baseUsed);\r\n      } catch (e) {\r\n        console.error('[ThaiAddressPicker] districts load error:', e);\r\n        if (alive) {\r\n          setDistricts([]);\r\n          setErrMsg('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ (districts)');\r\n        }\r\n      } finally {\r\n        if (alive) setLoadingDist(false);\r\n      }\r\n    })();\r\n\r\n    return () => { alive = false; };\r\n  }, [currentProvinceId, baseUsed, provinces]);\r\n\r\n  /* -------------------- เมื่อเลือก/เปลี่ยน \"อำเภอ\" → โหลดตำบล -------------------- */\r\n  useEffect(() => {\r\n    const distId = currentDistrictId;\r\n    if (!distId || !baseUsed) { setSubs([]); return; }\r\n\r\n    if (cacheRef.current.subs[distId]) { setSubs(cacheRef.current.subs[distId]); setErrMsg(''); return; }\r\n\r\n    let alive = true;\r\n    (async () => {\r\n      setLoadingSub(true);\r\n      setErrMsg('');\r\n      try {\r\n        const tryKeys = Array.from(new Set([\r\n          String(distId),\r\n          String(distId).padStart(2,'0'),\r\n          String(distId).padStart(3,'0'),\r\n        ]));\r\n\r\n        let data = null, lastErr = '';\r\n\r\n        for (const k of tryKeys) {\r\n          try {\r\n            const js = await loadJSONWithFallback(baseUsed, [`subdistricts/${k}.json`]);\r\n            if (Array.isArray(js) && js.length) { data = js; break; }\r\n          } catch (e) { lastErr = e?.message || String(e); }\r\n        }\r\n\r\n        if (!data) {\r\n          const all = await loadJSONWithFallback(baseUsed, ['tambons.json']);\r\n          const filtered = (all || []).filter(t => String(subDistIdOf(t) ?? '') === String(distId));\r\n          data = filtered;\r\n        }\r\n\r\n        if (!alive) return;\r\n        const arr = Array.isArray(data) ? data : [];\r\n        cacheRef.current.subs[distId] = arr;\r\n        setSubs(arr);\r\n        setErrMsg('');\r\n        if (arr.length === 0) console.warn('[ThaiAddressPicker] subdistricts empty for districtId=', distId, 'base=', baseUsed);\r\n      } catch (e) {\r\n        console.error('[ThaiAddressPicker] subdistricts load error:', e);\r\n        if (alive) {\r\n          setSubs([]);\r\n          setErrMsg('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ (subdistricts)');\r\n        }\r\n      } finally {\r\n        if (alive) setLoadingSub(false);\r\n      }\r\n    })();\r\n\r\n    return () => { alive = false; };\r\n  }, [currentDistrictId, baseUsed]);\r\n\r\n  /* -------------------- onChange -------------------- */\r\n  const handleProvince = (e) => {\r\n    const id  = e.target.value || '';\r\n    const sel = provinces.find(p => String(provIdOf(p)) === String(id)) || null;\r\n    setErrMsg('');\r\n    patch({\r\n      province:       sel ? provNameOf(sel) : '',\r\n      province_id:    sel ? provIdOf(sel)   : null,\r\n      province_code:  sel ? provCodeOf(sel) : null,\r\n      district: '', district_id: null, district_code: null,\r\n      subdistrict: '', subdistrict_id: null, subdistrict_code: null,\r\n      postal_code: '',\r\n    });\r\n  };\r\n\r\n  const handleDistrict = (e) => {\r\n    const id  = e.target.value || '';\r\n    const sel = districts.find(d => String(distIdOf(d)) === String(id)) || null;\r\n    setErrMsg('');\r\n    patch({\r\n      district:       sel ? distNameOf(sel) : '',\r\n      district_id:    sel ? distIdOf(sel)   : null,\r\n      district_code:  sel ? distIdOf(sel)   : null,\r\n      subdistrict: '', subdistrict_id: null, subdistrict_code: null,\r\n      postal_code: '',\r\n    });\r\n  };\r\n\r\n  const handleSubdistrict = (e) => {\r\n    const id  = e.target.value || '';\r\n    const sel = subs.find(s => String(subIdOf(s)) === String(id)) || null;\r\n    setErrMsg('');\r\n    patch({\r\n      subdistrict:      sel ? subNameOf(sel) : '',\r\n      subdistrict_id:   sel ? subIdOf(sel)   : null,\r\n      subdistrict_code: sel ? subIdOf(sel)   : null,\r\n      postal_code:      sel ? String(subZipOf(sel) || '') : '',\r\n    });\r\n  };\r\n\r\n  /* -------------------- disabled flags (ตัด errMsg ออก) -------------------- */\r\n  const disProv = disabled || loadingProv;\r\n  const disDist = disabled || !currentProvinceId || loadingDist;\r\n  const disSub  = disabled || !currentDistrictId || loadingSub;\r\n\r\n  /* -------------------- UI -------------------- */\r\n  return (\r\n    <div style={{ display: 'grid', gap: 8 }}>\r\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: 8 }}>\r\n        {/* จังหวัด */}\r\n        <select value={currentProvinceId} onChange={handleProvince} disabled={disProv}>\r\n          <option value=\"\">\r\n            {loadingProv ? 'กำลังโหลดจังหวัด...' : (provinces.length ? '-- เลือกจังหวัด --' : 'ไม่พบข้อมูลจังหวัด')}\r\n          </option>\r\n          {provinces.map(p => {\r\n            const id   = String(provIdOf(p) ?? '');\r\n            const name = provNameOf(p);\r\n            return <option key={id} value={id}>{name}</option>;\r\n          })}\r\n        </select>\r\n\r\n        {/* อำเภอ */}\r\n        <select value={currentDistrictId} onChange={handleDistrict} disabled={disDist}>\r\n          <option value=\"\">\r\n            {loadingDist ? 'กำลังโหลดอำเภอ...' : (currentProvinceId ? '-- เลือกอำเภอ --' : 'เลือกจังหวัดก่อน')}\r\n          </option>\r\n          {districts.map(d => {\r\n            const id   = String(distIdOf(d) ?? '');\r\n            const name = distNameOf(d);\r\n            return <option key={id} value={id}>{name}</option>;\r\n          })}\r\n        </select>\r\n\r\n        {/* ตำบล */}\r\n        <select value={currentSubdistrictId} onChange={handleSubdistrict} disabled={disSub}>\r\n          <option value=\"\">\r\n            {loadingSub ? 'กำลังโหลดตำบล...' : (currentDistrictId ? '-- เลือกตำบล --' : 'เลือกอำเภอก่อน')}\r\n          </option>\r\n          {subs.map(s => {\r\n            const id   = String(subIdOf(s) ?? '');\r\n            const name = subNameOf(s);\r\n            return <option key={id} value={id}>{name}</option>;\r\n          })}\r\n        </select>\r\n      </div>\r\n\r\n      {/* รหัสไปรษณีย์ (ตัวเลือก) */}\r\n      {showZipInput && (\r\n        <input\r\n          placeholder=\"รหัสไปรษณีย์\"\r\n          value={value?.postal_code || ''}\r\n          onChange={e => patch({ postal_code: e.target.value })}\r\n          disabled={disabled}\r\n        />\r\n      )}\r\n\r\n      {/* แสดง error เฉพาะเมื่ออนุญาต */}\r\n      {showErrors && errMsg && (\r\n        <small style={{ color:'#c00' }}>{errMsg}</small>\r\n      )}\r\n\r\n      {baseUsed ? <small style={{ color:'#999' }}>ใช้ข้อมูลจาก: <code>{baseUsed || '/'}</code></small> : null}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}