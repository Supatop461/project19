{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\components\\\\HeaderClassic.js\",\n  _s = $RefreshSig$();\n// src/components/HeaderClassic.js\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getCount, CART_EVENT } from \"../lib/cart\";\nimport ProfileModal from \"../pages/ProfileModal\"; // ใช้ modal ที่คุณมีอยู่แล้ว\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function HeaderClassic() {\n  _s();\n  const fullname = localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\";\n  const avatar = process.env.PUBLIC_URL + \"/profile.jpg\";\n  const [cartCount, setCartCount] = useState(getCount());\n  useEffect(() => {\n    const onChanged = () => setCartCount(getCount());\n    window.addEventListener(CART_EVENT, onChanged);\n    return () => window.removeEventListener(CART_EVENT, onChanged);\n  }, []);\n  const [showProfile, setShowProfile] = useState(false);\n  const [initialTab, setInitialTab] = useState(\"profile\");\n  function openProfile(tab = \"profile\") {\n    setInitialTab(tab);\n    setShowProfile(true);\n  }\n  function logout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n    window.location.href = \"/login\"; // รีเฟรชไปหน้า login\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: \"10px 16px\",\n        borderBottom: \"1px solid #e5e7eb\",\n        background: \"#fff\",\n        position: \"sticky\",\n        top: 0,\n        zIndex: 50\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        style: {\n          fontWeight: 700,\n          fontSize: 20,\n          color: \"#16a34a\",\n          textDecoration: \"none\"\n        },\n        children: \"PRACH MAEJO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/cart\",\n            title: \"\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n            \"aria-label\": \"\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n            children: \"\\uD83D\\uDED2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), cartCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              position: \"absolute\",\n              top: -6,\n              right: -10,\n              background: \"#ef4444\",\n              color: \"#fff\",\n              borderRadius: 999,\n              fontSize: 12,\n              minWidth: 18,\n              height: 18,\n              display: \"grid\",\n              placeItems: \"center\",\n              padding: \"0 4px\"\n            },\n            children: cartCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => openProfile(\"orders\"),\n          style: {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\",\n            fontSize: 18\n          },\n          title: \"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\",\n          \"aria-label\": \"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\",\n          children: \"\\uD83D\\uDCD1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => openProfile(\"profile\"),\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 8,\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\"\n          },\n          title: \"\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\",\n          \"aria-label\": \"\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: avatar,\n            alt: \"avatar\",\n            onError: e => e.currentTarget.src = process.env.PUBLIC_URL + \"/logo.png\",\n            style: {\n              width: 32,\n              height: 32,\n              borderRadius: 999,\n              objectFit: \"cover\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: fullname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logout,\n          style: {\n            border: \"none\",\n            background: \"transparent\",\n            cursor: \"pointer\"\n          },\n          title: \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n          \"aria-label\": \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n          children: \"\\uD83D\\uDEAA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), showProfile && /*#__PURE__*/_jsxDEV(ProfileModal, {\n      initialTab: initialTab,\n      onClose: () => setShowProfile(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(HeaderClassic, \"Kyh1lEdB70PdP/eRreCe3Fuikew=\");\n_c = HeaderClassic;\nvar _c;\n$RefreshReg$(_c, \"HeaderClassic\");","map":{"version":3,"names":["React","useState","useEffect","Link","getCount","CART_EVENT","ProfileModal","jsxDEV","_jsxDEV","Fragment","_Fragment","HeaderClassic","_s","fullname","localStorage","getItem","avatar","process","env","PUBLIC_URL","cartCount","setCartCount","onChanged","window","addEventListener","removeEventListener","showProfile","setShowProfile","initialTab","setInitialTab","openProfile","tab","logout","removeItem","location","href","children","style","display","alignItems","justifyContent","padding","borderBottom","background","position","top","zIndex","to","fontWeight","fontSize","color","textDecoration","fileName","_jsxFileName","lineNumber","columnNumber","gap","title","right","borderRadius","minWidth","height","placeItems","onClick","border","cursor","src","alt","onError","e","currentTarget","width","objectFit","onClose","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/components/HeaderClassic.js"],"sourcesContent":["// src/components/HeaderClassic.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCount, CART_EVENT } from \"../lib/cart\";\r\nimport ProfileModal from \"../pages/ProfileModal\"; // ใช้ modal ที่คุณมีอยู่แล้ว\r\n\r\nexport default function HeaderClassic() {\r\n  const fullname = localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\";\r\n  const avatar = process.env.PUBLIC_URL + \"/profile.jpg\";\r\n\r\n  const [cartCount, setCartCount] = useState(getCount());\r\n  useEffect(() => {\r\n    const onChanged = () => setCartCount(getCount());\r\n    window.addEventListener(CART_EVENT, onChanged);\r\n    return () => window.removeEventListener(CART_EVENT, onChanged);\r\n  }, []);\r\n\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [initialTab, setInitialTab] = useState(\"profile\");\r\n\r\n  function openProfile(tab = \"profile\") {\r\n    setInitialTab(tab);\r\n    setShowProfile(true);\r\n  }\r\n\r\n  function logout() {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\");\r\n    window.location.href = \"/login\"; // รีเฟรชไปหน้า login\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          padding: \"10px 16px\",\r\n          borderBottom: \"1px solid #e5e7eb\",\r\n          background: \"#fff\",\r\n          position: \"sticky\",\r\n          top: 0,\r\n          zIndex: 50,\r\n        }}\r\n      >\r\n        {/* โลโก้ */}\r\n        <Link\r\n          to=\"/\"\r\n          style={{\r\n            fontWeight: 700,\r\n            fontSize: 20,\r\n            color: \"#16a34a\",\r\n            textDecoration: \"none\",\r\n          }}\r\n        >\r\n          PRACH MAEJO\r\n        </Link>\r\n\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 16 }}>\r\n          {/* 🟢 ตะกร้า + badge */}\r\n          <div style={{ position: \"relative\" }}>\r\n            <Link to=\"/cart\" title=\"ตะกร้าสินค้า\" aria-label=\"ตะกร้าสินค้า\">\r\n              🛒\r\n            </Link>\r\n            {cartCount > 0 && (\r\n              <span\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: -6,\r\n                  right: -10,\r\n                  background: \"#ef4444\",\r\n                  color: \"#fff\",\r\n                  borderRadius: 999,\r\n                  fontSize: 12,\r\n                  minWidth: 18,\r\n                  height: 18,\r\n                  display: \"grid\",\r\n                  placeItems: \"center\",\r\n                  padding: \"0 4px\",\r\n                }}\r\n              >\r\n                {cartCount}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          {/* 🟢 ปุ่มประวัติคำสั่งซื้อ */}\r\n          <button\r\n            onClick={() => openProfile(\"orders\")}\r\n            style={{\r\n              border: \"none\",\r\n              background: \"transparent\",\r\n              cursor: \"pointer\",\r\n              fontSize: 18,\r\n            }}\r\n            title=\"ประวัติคำสั่งซื้อ\"\r\n            aria-label=\"ประวัติคำสั่งซื้อ\"\r\n          >\r\n            📑\r\n          </button>\r\n\r\n          {/* 🟢 Avatar + ชื่อ → เปิด modal */}\r\n          <button\r\n            onClick={() => openProfile(\"profile\")}\r\n            style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: 8,\r\n              border: \"none\",\r\n              background: \"transparent\",\r\n              cursor: \"pointer\",\r\n            }}\r\n            title=\"โปรไฟล์\"\r\n            aria-label=\"โปรไฟล์\"\r\n          >\r\n            <img\r\n              src={avatar}\r\n              alt=\"avatar\"\r\n              onError={(e) =>\r\n                (e.currentTarget.src = process.env.PUBLIC_URL + \"/logo.png\")\r\n              }\r\n              style={{\r\n                width: 32,\r\n                height: 32,\r\n                borderRadius: 999,\r\n                objectFit: \"cover\",\r\n              }}\r\n            />\r\n            <span>{fullname}</span>\r\n          </button>\r\n\r\n          {/* ออกจากระบบ */}\r\n          <button\r\n            onClick={logout}\r\n            style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\" }}\r\n            title=\"ออกจากระบบ\"\r\n            aria-label=\"ออกจากระบบ\"\r\n          >\r\n            🚪\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* 🟢 แสดง ProfileModal */}\r\n      {showProfile && (\r\n        <ProfileModal\r\n          initialTab={initialTab}\r\n          onClose={() => setShowProfile(false)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}