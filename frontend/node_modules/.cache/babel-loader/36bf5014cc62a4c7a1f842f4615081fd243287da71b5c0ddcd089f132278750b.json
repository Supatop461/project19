{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\SignUp.js\",\n  _s = $RefreshSig$();\n// FRONTEND: src/pages/SignUp.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './SignUp.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignUp() {\n  _s();\n  const nav = useNavigate();\n\n  /* -----------------------------------------------------------\r\n   * ฟอร์ม: เก็บเป็น \"code\" ไม่ใช่ออบเจ็กต์ทั้งก้อน\r\n   *   - province_code, amphoe_code, tambon_code = เลือกตามรหัส\r\n   *   - แก้ปัญหา Objects are not valid as a React child ทันที\r\n   * --------------------------------------------------------- */\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n    confirm: '',\n    full_name: '',\n    phone: '',\n    houseNo: '',\n    province_code: '',\n    amphoe_code: '',\n    tambon_code: '',\n    gender: ''\n  });\n  const [showPw, setShowPw] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // ===== โหลดฐานข้อมูลที่อยู่ (อยู่ใน public/data/) =====\n  const [db, setDb] = useState(null);\n  const [addrLoadErr, setAddrLoadErr] = useState('');\n  useEffect(() => {\n    (async () => {\n      try {\n        const url = `${process.env.PUBLIC_URL}/data/thai-address.min.json`;\n        const res = await fetch(url);\n        const json = await res.json();\n        setDb(json);\n      } catch (e) {\n        console.error(e);\n        setAddrLoadErr('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ');\n      }\n    })();\n  }, []);\n\n  /* -----------------------------------------------------------\r\n   * Normalizers: ทำให้ข้อมูลจากไฟล์ใช้รูปเดียวกันเสมอ\r\n   * คืนค่าเป็น [{ code, name_th, zip? }, ...]\r\n   *  - รับได้ทั้ง array ของ objects, array ของ strings,\r\n   *    และ object map (จะใช้ values/enries)\r\n   * --------------------------------------------------------- */\n  const toArray = v => {\n    if (!v) return [];\n    if (Array.isArray(v)) return v;\n    if (typeof v === 'object') return Object.values(v);\n    return [];\n  };\n  const normList = raw => toArray(raw).map(it => {\n    if (it && typeof it === 'object') {\n      var _ref, _ref2, _it$code, _ref3, _it$name_th, _ref4, _it$name_th2, _ref5, _it$label, _ref6, _ref7, _ref8, _it$zip;\n      return {\n        code: (_ref = (_ref2 = (_it$code = it.code) !== null && _it$code !== void 0 ? _it$code : it.id) !== null && _ref2 !== void 0 ? _ref2 : it.value) !== null && _ref !== void 0 ? _ref : String((_ref3 = (_it$name_th = it.name_th) !== null && _it$name_th !== void 0 ? _it$name_th : it.name) !== null && _ref3 !== void 0 ? _ref3 : ''),\n        name_th: (_ref4 = (_it$name_th2 = it.name_th) !== null && _it$name_th2 !== void 0 ? _it$name_th2 : it.name) !== null && _ref4 !== void 0 ? _ref4 : String((_ref5 = (_it$label = it.label) !== null && _it$label !== void 0 ? _it$label : it.code) !== null && _ref5 !== void 0 ? _ref5 : ''),\n        zip: (_ref6 = (_ref7 = (_ref8 = (_it$zip = it.zip) !== null && _it$zip !== void 0 ? _it$zip : it.zipcode) !== null && _ref8 !== void 0 ? _ref8 : it.postcode) !== null && _ref7 !== void 0 ? _ref7 : it.postal_code) !== null && _ref6 !== void 0 ? _ref6 : ''\n      };\n    }\n    const s = String(it);\n    return {\n      code: s,\n      name_th: s,\n      zip: ''\n    };\n  });\n\n  // ===== สร้าง options สำหรับ select ตามรหัสที่เลือกไว้ =====\n  const provinces = useMemo(() => db ? normList(db.provinces) : [], [db]);\n  const amphoes = useMemo(() => {\n    var _db$districts;\n    if (!db || !form.province_code) return [];\n    return normList((_db$districts = db.districts) === null || _db$districts === void 0 ? void 0 : _db$districts[form.province_code]);\n  }, [db, form.province_code]);\n  const tambons = useMemo(() => {\n    var _db$subdistricts, _db$subdistricts$form;\n    if (!db || !form.province_code || !form.amphoe_code) return [];\n    return normList((_db$subdistricts = db.subdistricts) === null || _db$subdistricts === void 0 ? void 0 : (_db$subdistricts$form = _db$subdistricts[form.province_code]) === null || _db$subdistricts$form === void 0 ? void 0 : _db$subdistricts$form[form.amphoe_code]);\n  }, [db, form.province_code, form.amphoe_code]);\n\n  // ZIP อัตโนมัติจากตำบลที่เลือก\n  const zipcode = useMemo(() => {\n    const t = tambons.find(x => x.code === form.tambon_code);\n    return (t === null || t === void 0 ? void 0 : t.zip) || '';\n  }, [tambons, form.tambon_code]);\n\n  // ===== helpers =====\n  const isEmail = v => /\\S+@\\S+\\.\\S+/.test(String(v || '').trim());\n  const pwMismatch = form.password && form.confirm && form.password !== form.confirm;\n  const splitName = full => {\n    const p = String(full || '').trim().split(/\\s+/);\n    if (p.length <= 1) return {\n      first_name: p[0] || '',\n      last_name: ''\n    };\n    return {\n      first_name: p[0],\n      last_name: p.slice(1).join(' ')\n    };\n  };\n  const makeUsername = email => {\n    const raw = String(email).split('@')[0] || '';\n    const cleaned = raw.toLowerCase().replace(/[^a-z0-9_.-]/g, '');\n    return cleaned || `cust${Date.now().toString().slice(-6)}`;\n  };\n\n  // ดึงชื่อไทยจาก code (เพื่อใช้ประกอบ address เป็นภาษาไทย)\n  const findName = (list, code) => {\n    var _list$find;\n    return ((_list$find = list.find(x => x.code === code)) === null || _list$find === void 0 ? void 0 : _list$find.name_th) || '';\n  };\n\n  // ===== handlers =====\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    // รีเซ็ตเชิงลำดับชั้น เมื่อเปลี่ยนจังหวัด/อำเภอ\n    if (name === 'province_code') return setForm(p => ({\n      ...p,\n      province_code: value,\n      amphoe_code: '',\n      tambon_code: ''\n    }));\n    if (name === 'amphoe_code') return setForm(p => ({\n      ...p,\n      amphoe_code: value,\n      tambon_code: ''\n    }));\n    setForm(p => ({\n      ...p,\n      [name]: value\n    }));\n  };\n  async function onSubmit(e) {\n    e.preventDefault();\n    setError('');\n    if (!isEmail(form.email)) return setError('กรุณากรอกอีเมลให้ถูกต้อง');\n    if (form.password.length < 8) return setError('รหัสผ่านอย่างน้อย 8 ตัวอักษร');\n    if (pwMismatch) return setError('ยืนยันรหัสผ่านไม่ตรงกัน');\n    const required = ['full_name', 'phone', 'houseNo', 'province_code', 'amphoe_code', 'tambon_code'];\n    if (required.some(k => !String(form[k]).trim())) return setError('กรุณากรอกข้อมูลให้ครบถ้วน');\n    const {\n      first_name,\n      last_name\n    } = splitName(form.full_name);\n\n    // แปลงรหัส -> ชื่อไทย เพื่อสร้าง address อ่านง่าย\n    const provName = findName(provinces, form.province_code) || form.province_code;\n    const amphName = findName(amphoes, form.amphoe_code) || form.amphoe_code;\n    const tambName = findName(tambons, form.tambon_code) || form.tambon_code;\n    const address = `${form.houseNo} ต.${tambName} อ.${amphName} จ.${provName} ${zipcode || ''}`.trim();\n    const payload = {\n      first_name,\n      last_name,\n      email: form.email.trim(),\n      username: makeUsername(form.email),\n      password: form.password,\n      confirm_password: form.confirm,\n      phone_number: form.phone.trim(),\n      address,\n      // ถ้าต้องการเก็บเป็นรหัสด้วย (แนะนำ):\n      province_code: form.province_code,\n      amphoe_code: form.amphoe_code,\n      tambon_code: form.tambon_code,\n      zipcode,\n      gender: form.gender\n    };\n    try {\n      var _res$data, _res$data2, _res$data3;\n      setLoading(true);\n      const res = await axios.post('/auth/register', payload);\n\n      // auto-login ถ้า backend ยังไม่ส่ง token ตอน register\n      let token = (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.token) || (res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.accessToken) || (res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.jwt);\n      if (!token) {\n        var _login$data, _login$data2, _login$data3;\n        const login = await axios.post('/auth/login', {\n          email: form.email,\n          password: form.password\n        });\n        token = (login === null || login === void 0 ? void 0 : (_login$data = login.data) === null || _login$data === void 0 ? void 0 : _login$data.token) || (login === null || login === void 0 ? void 0 : (_login$data2 = login.data) === null || _login$data2 === void 0 ? void 0 : _login$data2.accessToken) || (login === null || login === void 0 ? void 0 : (_login$data3 = login.data) === null || _login$data3 === void 0 ? void 0 : _login$data3.jwt);\n      }\n      if (token) {\n        var _res$data4, _res$data4$user;\n        localStorage.setItem('token', token);\n        localStorage.setItem('role', (res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : (_res$data4$user = _res$data4.user) === null || _res$data4$user === void 0 ? void 0 : _res$data4$user.role) || 'customer');\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      }\n      nav('/', {\n        replace: true\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'สมัครสมาชิกไม่สำเร็จ');\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup-hero\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notch\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.PUBLIC_URL}/logo.png`,\n          alt: \"PRACH MAEJO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"brand-head\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand-line\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"brand\",\n          children: \"PRACH MAEJO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"online\",\n          children: \"ONLINE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35 / \\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"signup-form\",\n      onSubmit: onSubmit,\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E17\\u0E35\\u0E48\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\\u0E44\\u0E14\\u0E49\\u0E08\\u0E23\\u0E34\\u0E07\",\n          value: form.email,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pw-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: showPw ? 'text' : 'password',\n            name: \"password\",\n            placeholder: \"\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E19\\u0E49\\u0E2D\\u0E22 8 \\u0E15\\u0E31\\u0E27\\u0E2D\\u0E31\\u0E01\\u0E29\\u0E23\",\n            value: form.password,\n            onChange: onChange,\n            className: pwMismatch ? 'is-invalid' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"pw-toggle\",\n            onClick: () => setShowPw(s => !s),\n            children: showPw ? '🙈' : '👁️'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"full_name\",\n          placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\",\n          value: form.full_name,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: showPw ? 'text' : 'password',\n          name: \"confirm\",\n          placeholder: \"\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E40\\u0E14\\u0E34\\u0E21\\u0E2D\\u0E35\\u0E01\\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\",\n          value: form.confirm,\n          onChange: onChange,\n          className: pwMismatch ? 'is-invalid' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), pwMismatch && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint-error\",\n          children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E44\\u0E21\\u0E48\\u0E15\\u0E23\\u0E07\\u0E01\\u0E31\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          name: \"phone\",\n          placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E32\\u0E21\\u0E32\\u0E23\\u0E16\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\\u0E44\\u0E14\\u0E49\",\n          value: form.phone,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col span-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), !!addrLoadErr && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint-error\",\n          style: {\n            marginBottom: 8\n          },\n          children: addrLoadErr\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addr-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"houseNo\",\n            placeholder: \"\\u0E1A\\u0E49\\u0E32\\u0E19\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48 / \\u0E2B\\u0E21\\u0E39\\u0E48 / \\u0E2D\\u0E32\\u0E04\\u0E32\\u0E23 (\\u0E16\\u0E49\\u0E32\\u0E21\\u0E35)\",\n            value: form.houseNo,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"province_code\",\n            value: form.province_code,\n            onChange: onChange,\n            disabled: !db,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: db ? '— เลือกจังหวัด —' : 'กำลังโหลดจังหวัด...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), provinces.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: p.code,\n              children: p.name_th\n            }, p.code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"amphoe_code\",\n            value: form.amphoe_code,\n            onChange: onChange,\n            disabled: !form.province_code,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: form.province_code ? '— เลือกอำเภอ —' : 'เลือกจังหวัดก่อน'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), amphoes.map(a => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: a.code,\n              children: a.name_th\n            }, a.code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"tambon_code\",\n            value: form.tambon_code,\n            onChange: onChange,\n            disabled: !form.amphoe_code,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: form.amphoe_code ? '— เลือกตำบล —' : 'เลือกอำเภอก่อน'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 15\n            }, this), tambons.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: t.code,\n              children: t.name_th\n            }, t.code, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E44\\u0E1B\\u0E23\\u0E29\\u0E13\\u0E35\\u0E22\\u0E4C\",\n            value: zipcode,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-group col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"\\u0E40\\u0E1E\\u0E28\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radios\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"gender\",\n                value: \"\\u0E0A\\u0E32\\u0E22\",\n                checked: form.gender === 'ชาย',\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 22\n              }, this), \" \\u0E0A\\u0E32\\u0E22\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"gender\",\n                value: \"\\u0E2B\\u0E0D\\u0E34\\u0E07\",\n                checked: form.gender === 'หญิง',\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 22\n              }, this), \" \\u0E2B\\u0E0D\\u0E34\\u0E07\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"gender\",\n                value: \"\\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46\",\n                checked: form.gender === 'อื่นๆ',\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 22\n              }, this), \" \\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-error\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions span-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'กำลังสมัครสมาชิก…' : 'สมัครสมาชิก'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}\n_s(SignUp, \"Nlp4w5QmmCKe98NJO+waTI2pSRY=\", false, function () {\n  return [useNavigate];\n});\n_c = SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","axios","jsxDEV","_jsxDEV","SignUp","_s","nav","form","setForm","email","password","confirm","full_name","phone","houseNo","province_code","amphoe_code","tambon_code","gender","showPw","setShowPw","loading","setLoading","error","setError","db","setDb","addrLoadErr","setAddrLoadErr","url","process","env","PUBLIC_URL","res","fetch","json","e","console","toArray","v","Array","isArray","Object","values","normList","raw","map","it","_ref","_ref2","_it$code","_ref3","_it$name_th","_ref4","_it$name_th2","_ref5","_it$label","_ref6","_ref7","_ref8","_it$zip","code","id","value","String","name_th","name","label","zip","zipcode","postcode","postal_code","s","provinces","amphoes","_db$districts","districts","tambons","_db$subdistricts","_db$subdistricts$form","subdistricts","t","find","x","isEmail","test","trim","pwMismatch","splitName","full","p","split","length","first_name","last_name","slice","join","makeUsername","cleaned","toLowerCase","replace","Date","now","toString","findName","list","_list$find","onChange","target","onSubmit","preventDefault","required","some","k","provName","amphName","tambName","address","payload","username","confirm_password","phone_number","_res$data","_res$data2","_res$data3","post","token","data","accessToken","jwt","_login$data","_login$data2","_login$data3","login","_res$data4","_res$data4$user","localStorage","setItem","user","role","defaults","headers","common","err","_err$response","_err$response$data","response","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","noValidate","type","placeholder","onClick","style","marginBottom","disabled","a","readOnly","checked","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/SignUp.js"],"sourcesContent":["// FRONTEND: src/pages/SignUp.js\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './SignUp.css';\r\n\r\nexport default function SignUp() {\r\n  const nav = useNavigate();\r\n\r\n  /* -----------------------------------------------------------\r\n   * ฟอร์ม: เก็บเป็น \"code\" ไม่ใช่ออบเจ็กต์ทั้งก้อน\r\n   *   - province_code, amphoe_code, tambon_code = เลือกตามรหัส\r\n   *   - แก้ปัญหา Objects are not valid as a React child ทันที\r\n   * --------------------------------------------------------- */\r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirm: '',\r\n    full_name: '',\r\n    phone: '',\r\n    houseNo: '',\r\n    province_code: '',\r\n    amphoe_code: '',\r\n    tambon_code: '',\r\n    gender: '',\r\n  });\r\n  const [showPw, setShowPw] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  // ===== โหลดฐานข้อมูลที่อยู่ (อยู่ใน public/data/) =====\r\n  const [db, setDb] = useState(null);\r\n  const [addrLoadErr, setAddrLoadErr] = useState('');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const url = `${process.env.PUBLIC_URL}/data/thai-address.min.json`;\r\n        const res = await fetch(url);\r\n        const json = await res.json();\r\n        setDb(json);\r\n      } catch (e) {\r\n        console.error(e);\r\n        setAddrLoadErr('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ');\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  /* -----------------------------------------------------------\r\n   * Normalizers: ทำให้ข้อมูลจากไฟล์ใช้รูปเดียวกันเสมอ\r\n   * คืนค่าเป็น [{ code, name_th, zip? }, ...]\r\n   *  - รับได้ทั้ง array ของ objects, array ของ strings,\r\n   *    และ object map (จะใช้ values/enries)\r\n   * --------------------------------------------------------- */\r\n  const toArray = (v) => {\r\n    if (!v) return [];\r\n    if (Array.isArray(v)) return v;\r\n    if (typeof v === 'object') return Object.values(v);\r\n    return [];\r\n  };\r\n\r\n  const normList = (raw) =>\r\n    toArray(raw).map((it) => {\r\n      if (it && typeof it === 'object') {\r\n        return {\r\n          code: it.code ?? it.id ?? it.value ?? String(it.name_th ?? it.name ?? ''),\r\n          name_th: it.name_th ?? it.name ?? String(it.label ?? it.code ?? ''),\r\n          zip: it.zip ?? it.zipcode ?? it.postcode ?? it.postal_code ?? '',\r\n        };\r\n      }\r\n      const s = String(it);\r\n      return { code: s, name_th: s, zip: '' };\r\n    });\r\n\r\n  // ===== สร้าง options สำหรับ select ตามรหัสที่เลือกไว้ =====\r\n  const provinces = useMemo(() => (db ? normList(db.provinces) : []), [db]);\r\n\r\n  const amphoes = useMemo(() => {\r\n    if (!db || !form.province_code) return [];\r\n    return normList(db.districts?.[form.province_code]);\r\n  }, [db, form.province_code]);\r\n\r\n  const tambons = useMemo(() => {\r\n    if (!db || !form.province_code || !form.amphoe_code) return [];\r\n    return normList(db.subdistricts?.[form.province_code]?.[form.amphoe_code]);\r\n  }, [db, form.province_code, form.amphoe_code]);\r\n\r\n  // ZIP อัตโนมัติจากตำบลที่เลือก\r\n  const zipcode = useMemo(() => {\r\n    const t = tambons.find((x) => x.code === form.tambon_code);\r\n    return t?.zip || '';\r\n  }, [tambons, form.tambon_code]);\r\n\r\n  // ===== helpers =====\r\n  const isEmail = (v) => /\\S+@\\S+\\.\\S+/.test(String(v || '').trim());\r\n  const pwMismatch = form.password && form.confirm && form.password !== form.confirm;\r\n\r\n  const splitName = (full) => {\r\n    const p = String(full || '').trim().split(/\\s+/);\r\n    if (p.length <= 1) return { first_name: p[0] || '', last_name: '' };\r\n    return { first_name: p[0], last_name: p.slice(1).join(' ') };\r\n  };\r\n  const makeUsername = (email) => {\r\n    const raw = String(email).split('@')[0] || '';\r\n    const cleaned = raw.toLowerCase().replace(/[^a-z0-9_.-]/g, '');\r\n    return cleaned || `cust${Date.now().toString().slice(-6)}`;\r\n  };\r\n\r\n  // ดึงชื่อไทยจาก code (เพื่อใช้ประกอบ address เป็นภาษาไทย)\r\n  const findName = (list, code) => list.find((x) => x.code === code)?.name_th || '';\r\n\r\n  // ===== handlers =====\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    // รีเซ็ตเชิงลำดับชั้น เมื่อเปลี่ยนจังหวัด/อำเภอ\r\n    if (name === 'province_code')\r\n      return setForm((p) => ({ ...p, province_code: value, amphoe_code: '', tambon_code: '' }));\r\n    if (name === 'amphoe_code')\r\n      return setForm((p) => ({ ...p, amphoe_code: value, tambon_code: '' }));\r\n    setForm((p) => ({ ...p, [name]: value }));\r\n  };\r\n\r\n  async function onSubmit(e) {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (!isEmail(form.email)) return setError('กรุณากรอกอีเมลให้ถูกต้อง');\r\n    if (form.password.length < 8) return setError('รหัสผ่านอย่างน้อย 8 ตัวอักษร');\r\n    if (pwMismatch) return setError('ยืนยันรหัสผ่านไม่ตรงกัน');\r\n\r\n    const required = ['full_name', 'phone', 'houseNo', 'province_code', 'amphoe_code', 'tambon_code'];\r\n    if (required.some((k) => !String(form[k]).trim())) return setError('กรุณากรอกข้อมูลให้ครบถ้วน');\r\n\r\n    const { first_name, last_name } = splitName(form.full_name);\r\n\r\n    // แปลงรหัส -> ชื่อไทย เพื่อสร้าง address อ่านง่าย\r\n    const provName = findName(provinces, form.province_code) || form.province_code;\r\n    const amphName = findName(amphoes, form.amphoe_code) || form.amphoe_code;\r\n    const tambName = findName(tambons, form.tambon_code) || form.tambon_code;\r\n    const address = `${form.houseNo} ต.${tambName} อ.${amphName} จ.${provName} ${zipcode || ''}`.trim();\r\n\r\n    const payload = {\r\n      first_name,\r\n      last_name,\r\n      email: form.email.trim(),\r\n      username: makeUsername(form.email),\r\n      password: form.password,\r\n      confirm_password: form.confirm,\r\n      phone_number: form.phone.trim(),\r\n      address,\r\n\r\n      // ถ้าต้องการเก็บเป็นรหัสด้วย (แนะนำ):\r\n      province_code: form.province_code,\r\n      amphoe_code: form.amphoe_code,\r\n      tambon_code: form.tambon_code,\r\n      zipcode,\r\n      gender: form.gender,\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.post('/auth/register', payload);\r\n\r\n      // auto-login ถ้า backend ยังไม่ส่ง token ตอน register\r\n      let token = res?.data?.token || res?.data?.accessToken || res?.data?.jwt;\r\n      if (!token) {\r\n        const login = await axios.post('/auth/login', { email: form.email, password: form.password });\r\n        token = login?.data?.token || login?.data?.accessToken || login?.data?.jwt;\r\n      }\r\n      if (token) {\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('role', res?.data?.user?.role || 'customer');\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n      }\r\n      nav('/', { replace: true });\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(err?.response?.data?.error || 'สมัครสมาชิกไม่สำเร็จ');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"signup-page\">\r\n      <div className=\"signup-hero\">\r\n        <div className=\"notch\">\r\n          <img src={`${process.env.PUBLIC_URL}/logo.png`} alt=\"PRACH MAEJO\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"brand-head\">\r\n        <div className=\"brand-line\">\r\n          <span className=\"brand\">PRACH MAEJO</span>\r\n          <span className=\"online\">ONLINE</span>\r\n        </div>\r\n        <h2>สร้างบัญชี / สมัครสมาชิก</h2>\r\n      </div>\r\n\r\n      <form className=\"signup-form\" onSubmit={onSubmit} noValidate>\r\n        {/* อีเมล */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">อีเมล</span>\r\n          <input type=\"email\" name=\"email\" placeholder=\"กรอกอีเมลที่ใช้งานได้จริง\" value={form.email} onChange={onChange} />\r\n        </label>\r\n\r\n        {/* รหัสผ่าน */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">รหัสผ่าน</span>\r\n          <div className=\"pw-wrap\">\r\n            <input\r\n              type={showPw ? 'text' : 'password'}\r\n              name=\"password\"\r\n              placeholder=\"อย่างน้อย 8 ตัวอักษร\"\r\n              value={form.password}\r\n              onChange={onChange}\r\n              className={pwMismatch ? 'is-invalid' : ''}\r\n            />\r\n            <button type=\"button\" className=\"pw-toggle\" onClick={() => setShowPw((s) => !s)}>\r\n              {showPw ? '🙈' : '👁️'}\r\n            </button>\r\n          </div>\r\n        </label>\r\n\r\n        {/* ชื่อ - นามสกุล */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">ชื่อ - นามสกุล</span>\r\n          <input type=\"text\" name=\"full_name\" placeholder=\"กรอกชื่อ - นามสกุล\" value={form.full_name} onChange={onChange} />\r\n        </label>\r\n\r\n        {/* ยืนยันรหัสผ่าน */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">ยืนยันรหัสผ่าน</span>\r\n          <input\r\n            type={showPw ? 'text' : 'password'}\r\n            name=\"confirm\"\r\n            placeholder=\"พิมพ์รหัสผ่านเดิมอีกครั้ง\"\r\n            value={form.confirm}\r\n            onChange={onChange}\r\n            className={pwMismatch ? 'is-invalid' : ''}\r\n          />\r\n          {pwMismatch && <div className=\"hint-error\">รหัสผ่านไม่ตรงกัน</div>}\r\n        </label>\r\n\r\n        {/* เบอร์โทร */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">เบอร์ติดต่อ</span>\r\n          <input type=\"tel\" name=\"phone\" placeholder=\"กรอกเบอร์โทรที่สามารถติดต่อได้\" value={form.phone} onChange={onChange} />\r\n        </label>\r\n\r\n        {/* ที่อยู่ */}\r\n        <div className=\"col span-2\">\r\n          {/* ใช้ .span-2 (แทน .span-2-left เดิม) ให้กินเต็ม 2 คอลัมน์ */}\r\n          <span className=\"label\">ที่อยู่</span>\r\n          {!!addrLoadErr && <div className=\"hint-error\" style={{ marginBottom: 8 }}>{addrLoadErr}</div>}\r\n\r\n          <div className=\"addr-grid\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"houseNo\"\r\n              placeholder=\"บ้านเลขที่ / หมู่ / อาคาร (ถ้ามี)\"\r\n              value={form.houseNo}\r\n              onChange={onChange}\r\n            />\r\n\r\n            {/* จังหวัด: value ใช้ code, แสดงผลเป็น name_th */}\r\n            <select\r\n              name=\"province_code\"\r\n              value={form.province_code}\r\n              onChange={onChange}\r\n              disabled={!db}\r\n            >\r\n              <option value=\"\">{db ? '— เลือกจังหวัด —' : 'กำลังโหลดจังหวัด...'}</option>\r\n              {provinces.map((p) => (\r\n                <option key={p.code} value={p.code}>{p.name_th}</option>\r\n              ))}\r\n            </select>\r\n\r\n            {/* อำเภอ */}\r\n            <select\r\n              name=\"amphoe_code\"\r\n              value={form.amphoe_code}\r\n              onChange={onChange}\r\n              disabled={!form.province_code}\r\n            >\r\n              <option value=\"\">{form.province_code ? '— เลือกอำเภอ —' : 'เลือกจังหวัดก่อน'}</option>\r\n              {amphoes.map((a) => (\r\n                <option key={a.code} value={a.code}>{a.name_th}</option>\r\n              ))}\r\n            </select>\r\n\r\n            {/* ตำบล */}\r\n            <select\r\n              name=\"tambon_code\"\r\n              value={form.tambon_code}\r\n              onChange={onChange}\r\n              disabled={!form.amphoe_code}\r\n            >\r\n              <option value=\"\">{form.amphoe_code ? '— เลือกตำบล —' : 'เลือกอำเภอก่อน'}</option>\r\n              {tambons.map((t) => (\r\n                <option key={t.code} value={t.code}>{t.name_th}</option>\r\n              ))}\r\n            </select>\r\n\r\n            {/* ZIP อัตโนมัติ (readOnly) */}\r\n            <input type=\"text\" placeholder=\"รหัสไปรษณีย์\" value={zipcode} readOnly />\r\n          </div>\r\n        </div>\r\n\r\n        {/* เพศ */}\r\n        <div className=\"right-group col\">\r\n          <div className=\"field\">\r\n            <span className=\"label\">เพศ</span>\r\n            <div className=\"radios\">\r\n              <label><input type=\"radio\" name=\"gender\" value=\"ชาย\"  checked={form.gender === 'ชาย'}  onChange={onChange} /> ชาย</label>\r\n              <label><input type=\"radio\" name=\"gender\" value=\"หญิง\" checked={form.gender === 'หญิง'} onChange={onChange} /> หญิง</label>\r\n              <label><input type=\"radio\" name=\"gender\" value=\"อื่นๆ\" checked={form.gender === 'อื่นๆ'} onChange={onChange} /> อื่นๆ</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {error && <div className=\"form-error\" role=\"alert\">{error}</div>}\r\n\r\n        <div className=\"actions span-2\">\r\n          <button className=\"btn-primary\" type=\"submit\" disabled={loading}>\r\n            {loading ? 'กำลังสมัครสมาชิก…' : 'สมัครสมาชิก'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}