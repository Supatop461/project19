{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\ProfileModal.js\",\n  _s = $RefreshSig$();\n// src/pages/ProfileModal.js\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./ProfileModal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = axios.defaults.baseURL || process.env.REACT_APP_API_BASE || \"http://localhost:3001\";\nconst UPLOAD_ENDPOINT = \"/api/uploads/avatar\";\n\n/* === helper: ทำ URL ให้เป็น absolute (เวลาได้ /uploads/...) === */\nconst trimSlash = s => (s || \"\").replace(/\\/+$/, \"\");\nconst ABS_BASE = trimSlash(API_BASE);\n_c = ABS_BASE;\nfunction resolveUrl(u) {\n  if (!u) return \"\";\n  const s = String(u);\n  if (s.startsWith(\"http://\") || s.startsWith(\"https://\") || s.startsWith(\"blob:\")) return s;\n  if (s.startsWith(\"/uploads/\")) return `${ABS_BASE}${s}`;\n  return s;\n}\nfunction toDbUrl(u) {\n  if (!u) return null;\n  const s = String(u);\n  if (s.startsWith(ABS_BASE)) return s.slice(ABS_BASE.length) || \"/\";\n  return s;\n}\nexport default function ProfileModal({\n  initialTab = \"profile\",\n  onClose\n}) {\n  _s();\n  const [tab, setTab] = useState(initialTab);\n  const [loading, setLoading] = useState(true);\n  const [loadErr, setLoadErr] = useState(\"\");\n  const [profile, setProfile] = useState({\n    id: \"\",\n    fullname: \"\",\n    email: \"\",\n    phone: \"\",\n    avatar_url: \"\"\n  });\n  const [orders, setOrders] = useState([]);\n  const [ordersLoading, setOrdersLoading] = useState(false);\n  const [addresses, setAddresses] = useState([]);\n  const [addrLoading, setAddrLoading] = useState(false);\n  const navigate = useNavigate();\n  const avatarFallback = useMemo(() => process.env.PUBLIC_URL + \"/profile.jpg\", []);\n  const axiosClient = useMemo(() => {\n    const token = localStorage.getItem(\"token\") || \"\";\n    return axios.create({\n      baseURL: API_BASE,\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {},\n      timeout: 12000\n    });\n  }, []);\n  const closeModal = () => typeof onClose === \"function\" && onClose();\n\n  /* โหลดโปรไฟล์ */\n  useEffect(() => {\n    (async () => {\n      try {\n        setLoading(true);\n        const r = await axiosClient.get(\"/api/me\");\n        const u = r.data || {};\n        setProfile({\n          id: u.id || \"\",\n          fullname: u.fullname || \"\",\n          email: u.email || \"\",\n          phone: u.phone || \"\",\n          avatar_url: resolveUrl(u.avatar_url) || avatarFallback\n        });\n      } catch (e) {\n        console.error(\"GET /api/me failed:\", e);\n        setLoadErr(\"โหลดข้อมูลผู้ใช้ล้มเหลว\");\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [axiosClient, avatarFallback]);\n\n  /* โหลดคำสั่งซื้อ */\n  useEffect(() => {\n    if (tab !== \"orders\") return;\n    (async () => {\n      try {\n        var _r$data;\n        setOrdersLoading(true);\n        const r = await axiosClient.get(\"/api/orders/my\", {\n          params: {\n            limit: 5\n          }\n        });\n        setOrders(Array.isArray(r.data) ? r.data : ((_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.items) || []);\n      } catch (e) {\n        console.error(\"GET /api/orders/my failed:\", e);\n      } finally {\n        setOrdersLoading(false);\n      }\n    })();\n  }, [tab, axiosClient]);\n\n  /* โหลดที่อยู่ */\n  useEffect(() => {\n    if (tab !== \"addresses\") return;\n    (async () => {\n      try {\n        setAddrLoading(true);\n        const r = await axiosClient.get(\"/api/addresses\");\n        setAddresses(Array.isArray(r.data) ? r.data : []);\n      } catch (e) {\n        console.error(\"GET /api/addresses failed:\", e);\n        setAddresses([]);\n      } finally {\n        setAddrLoading(false);\n      }\n    })();\n  }, [tab, axiosClient]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pm-backdrop\",\n    onClick: closeModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pm-card\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"pm-close\",\n        onClick: closeModal,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-head\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"pm-avatar\",\n          src: profile.avatar_url || avatarFallback,\n          alt: \"avatar\",\n          onError: e => e.currentTarget.src = avatarFallback\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pm-head-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-name\",\n            children: loading ? \"...\" : profile.fullname || \"ผู้ใช้งาน\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), (profile.email || profile.phone) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-sub\",\n            children: profile.email || profile.phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 50\n          }, this), loadErr && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-sub\",\n            style: {\n              color: \"red\"\n            },\n            children: loadErr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `pm-tab ${tab === \"profile\" ? \"active\" : \"\"}`,\n          onClick: () => setTab(\"profile\"),\n          children: \"\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `pm-tab ${tab === \"orders\" ? \"active\" : \"\"}`,\n          onClick: () => setTab(\"orders\"),\n          children: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `pm-tab ${tab === \"addresses\" ? \"active\" : \"\"}`,\n          onClick: () => setTab(\"addresses\"),\n          children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `pm-tab ${tab === \"settings\" ? \"active\" : \"\"}`,\n          onClick: () => setTab(\"settings\"),\n          children: \"\\u0E01\\u0E32\\u0E23\\u0E15\\u0E31\\u0E49\\u0E07\\u0E04\\u0E48\\u0E32\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-body\",\n        children: [tab === \"profile\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pm-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-note\",\n            children: \"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C (\\u0E40\\u0E2B\\u0E21\\u0E37\\u0E2D\\u0E19\\u0E40\\u0E14\\u0E34\\u0E21\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), tab === \"orders\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pm-section\",\n          children: [ordersLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-note\",\n            children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this) : orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-note\",\n            children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-orders\",\n            children: orders.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pm-order-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 28\n                }, this), \" \", o.order_no || o.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 28\n                }, this), \" \", o.status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 28\n                }, this), \" \", Number(o.total_amount || o.total).toLocaleString(\"th-TH\"), \" \\u0E1A\\u0E32\\u0E17\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 28\n                }, this), \" \", o.created_at ? new Date(o.created_at).toLocaleString() : \"-\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 23\n              }, this)]\n            }, o.id || o.order_no, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/account/orders\",\n              className: \"pm-link\",\n              onClick: closeModal,\n              children: \"\\u0E14\\u0E39\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this), tab === \"addresses\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pm-section\",\n          children: [addrLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-note\",\n            children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this) : addresses.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-note\",\n            children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"pm-address-list\",\n            children: addresses.map(a => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"pm-address-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pm-address-name\",\n                children: [a.fullname, \" \", a.is_default && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"pm-badge\",\n                  children: \"\\u0E04\\u0E48\\u0E32\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pm-address-lines\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [a.address_line1, \" \", a.address_line2]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [a.subdistrict, \" \", a.district, \" \", a.province, \" \", a.postcode]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u260E \", a.phone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 23\n              }, this)]\n            }, a.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"pm-btn pm-primary\",\n              onClick: () => {\n                closeModal();\n                navigate(\"/account/addresses\");\n              },\n              children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), tab === \"settings\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pm-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-note\",\n            children: \"\\u0E01\\u0E32\\u0E23\\u0E15\\u0E31\\u0E49\\u0E07\\u0E04\\u0E48\\u0E32 (\\u0E40\\u0E2B\\u0E21\\u0E37\\u0E2D\\u0E19\\u0E40\\u0E14\\u0E34\\u0E21\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n_s(ProfileModal, \"/WM6n6Y6/G52RU8cO0Xm5xn7uqE=\", false, function () {\n  return [useNavigate];\n});\n_c2 = ProfileModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"ABS_BASE\");\n$RefreshReg$(_c2, \"ProfileModal\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","useNavigate","axios","jsxDEV","_jsxDEV","API_BASE","defaults","baseURL","process","env","REACT_APP_API_BASE","UPLOAD_ENDPOINT","trimSlash","s","replace","ABS_BASE","_c","resolveUrl","u","String","startsWith","toDbUrl","slice","length","ProfileModal","initialTab","onClose","_s","tab","setTab","loading","setLoading","loadErr","setLoadErr","profile","setProfile","id","fullname","email","phone","avatar_url","orders","setOrders","ordersLoading","setOrdersLoading","addresses","setAddresses","addrLoading","setAddrLoading","navigate","avatarFallback","PUBLIC_URL","axiosClient","token","localStorage","getItem","create","headers","Authorization","timeout","closeModal","r","get","data","e","console","error","_r$data","params","limit","Array","isArray","items","className","onClick","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onError","currentTarget","style","color","map","o","order_no","status","Number","total_amount","total","toLocaleString","created_at","Date","marginTop","to","a","is_default","address_line1","address_line2","subdistrict","district","province","postcode","_c2","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/ProfileModal.js"],"sourcesContent":["// src/pages/ProfileModal.js\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./ProfileModal.css\";\r\n\r\nconst API_BASE = axios.defaults.baseURL || process.env.REACT_APP_API_BASE || \"http://localhost:3001\";\r\nconst UPLOAD_ENDPOINT = \"/api/uploads/avatar\";\r\n\r\n/* === helper: ทำ URL ให้เป็น absolute (เวลาได้ /uploads/...) === */\r\nconst trimSlash = (s) => (s || \"\").replace(/\\/+$/, \"\");\r\nconst ABS_BASE = trimSlash(API_BASE);\r\nfunction resolveUrl(u) {\r\n  if (!u) return \"\";\r\n  const s = String(u);\r\n  if (s.startsWith(\"http://\") || s.startsWith(\"https://\") || s.startsWith(\"blob:\")) return s;\r\n  if (s.startsWith(\"/uploads/\")) return `${ABS_BASE}${s}`;\r\n  return s;\r\n}\r\nfunction toDbUrl(u) {\r\n  if (!u) return null;\r\n  const s = String(u);\r\n  if (s.startsWith(ABS_BASE)) return s.slice(ABS_BASE.length) || \"/\";\r\n  return s;\r\n}\r\n\r\nexport default function ProfileModal({ initialTab = \"profile\", onClose }) {\r\n  const [tab, setTab] = useState(initialTab);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadErr, setLoadErr] = useState(\"\");\r\n\r\n  const [profile, setProfile] = useState({\r\n    id: \"\",\r\n    fullname: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    avatar_url: \"\",\r\n  });\r\n\r\n  const [orders, setOrders] = useState([]);\r\n  const [ordersLoading, setOrdersLoading] = useState(false);\r\n\r\n  const [addresses, setAddresses] = useState([]);\r\n  const [addrLoading, setAddrLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const avatarFallback = useMemo(() => process.env.PUBLIC_URL + \"/profile.jpg\", []);\r\n\r\n  const axiosClient = useMemo(() => {\r\n    const token = localStorage.getItem(\"token\") || \"\";\r\n    return axios.create({\r\n      baseURL: API_BASE,\r\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      timeout: 12000,\r\n    });\r\n  }, []);\r\n\r\n  const closeModal = () => typeof onClose === \"function\" && onClose();\r\n\r\n  /* โหลดโปรไฟล์ */\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        const r = await axiosClient.get(\"/api/me\");\r\n        const u = r.data || {};\r\n        setProfile({\r\n          id: u.id || \"\",\r\n          fullname: u.fullname || \"\",\r\n          email: u.email || \"\",\r\n          phone: u.phone || \"\",\r\n          avatar_url: resolveUrl(u.avatar_url) || avatarFallback,\r\n        });\r\n      } catch (e) {\r\n        console.error(\"GET /api/me failed:\", e);\r\n        setLoadErr(\"โหลดข้อมูลผู้ใช้ล้มเหลว\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [axiosClient, avatarFallback]);\r\n\r\n  /* โหลดคำสั่งซื้อ */\r\n  useEffect(() => {\r\n    if (tab !== \"orders\") return;\r\n    (async () => {\r\n      try {\r\n        setOrdersLoading(true);\r\n        const r = await axiosClient.get(\"/api/orders/my\", { params: { limit: 5 } });\r\n        setOrders(Array.isArray(r.data) ? r.data : r.data?.items || []);\r\n      } catch (e) {\r\n        console.error(\"GET /api/orders/my failed:\", e);\r\n      } finally {\r\n        setOrdersLoading(false);\r\n      }\r\n    })();\r\n  }, [tab, axiosClient]);\r\n\r\n  /* โหลดที่อยู่ */\r\n  useEffect(() => {\r\n    if (tab !== \"addresses\") return;\r\n    (async () => {\r\n      try {\r\n        setAddrLoading(true);\r\n        const r = await axiosClient.get(\"/api/addresses\");\r\n        setAddresses(Array.isArray(r.data) ? r.data : []);\r\n      } catch (e) {\r\n        console.error(\"GET /api/addresses failed:\", e);\r\n        setAddresses([]);\r\n      } finally {\r\n        setAddrLoading(false);\r\n      }\r\n    })();\r\n  }, [tab, axiosClient]);\r\n\r\n  return (\r\n    <div className=\"pm-backdrop\" onClick={closeModal}>\r\n      <div className=\"pm-card\" onClick={(e) => e.stopPropagation()}>\r\n        <button className=\"pm-close\" onClick={closeModal}>×</button>\r\n\r\n        <div className=\"pm-head\">\r\n          <img\r\n            className=\"pm-avatar\"\r\n            src={profile.avatar_url || avatarFallback}\r\n            alt=\"avatar\"\r\n            onError={(e) => (e.currentTarget.src = avatarFallback)}\r\n          />\r\n          <div className=\"pm-head-info\">\r\n            <div className=\"pm-name\">{loading ? \"...\" : profile.fullname || \"ผู้ใช้งาน\"}</div>\r\n            {(profile.email || profile.phone) && <div className=\"pm-sub\">{profile.email || profile.phone}</div>}\r\n            {loadErr && <div className=\"pm-sub\" style={{ color: \"red\" }}>{loadErr}</div>}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"pm-tabs\">\r\n          <button className={`pm-tab ${tab === \"profile\" ? \"active\" : \"\"}`} onClick={() => setTab(\"profile\")}>โปรไฟล์</button>\r\n          <button className={`pm-tab ${tab === \"orders\" ? \"active\" : \"\"}`} onClick={() => setTab(\"orders\")}>คำสั่งซื้อของฉัน</button>\r\n          <button className={`pm-tab ${tab === \"addresses\" ? \"active\" : \"\"}`} onClick={() => setTab(\"addresses\")}>ที่อยู่ของฉัน</button>\r\n          <button className={`pm-tab ${tab === \"settings\" ? \"active\" : \"\"}`} onClick={() => setTab(\"settings\")}>การตั้งค่า</button>\r\n        </div>\r\n\r\n        <div className=\"pm-body\">\r\n          {/* โปรไฟล์ */}\r\n          {tab === \"profile\" && (\r\n            <div className=\"pm-section\">\r\n              <div className=\"pm-note\">ข้อมูลโปรไฟล์ (เหมือนเดิมของคุณ)</div>\r\n            </div>\r\n          )}\r\n\r\n          {/* คำสั่งซื้อ */}\r\n          {tab === \"orders\" && (\r\n            <div className=\"pm-section\">\r\n              {ordersLoading ? (\r\n                <div className=\"pm-note\">กำลังโหลดคำสั่งซื้อ…</div>\r\n              ) : orders.length === 0 ? (\r\n                <div className=\"pm-note\">ยังไม่มีคำสั่งซื้อ</div>\r\n              ) : (\r\n                <div className=\"pm-orders\">\r\n                  {orders.map((o) => (\r\n                    <div key={o.id || o.order_no} className=\"pm-order-item\">\r\n                      <div><b>เลขที่:</b> {o.order_no || o.id}</div>\r\n                      <div><b>สถานะ:</b> {o.status}</div>\r\n                      <div><b>ยอดรวม:</b> {Number(o.total_amount || o.total).toLocaleString(\"th-TH\")} บาท</div>\r\n                      <div><b>วันที่:</b> {o.created_at ? new Date(o.created_at).toLocaleString() : \"-\"}</div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              <div style={{ marginTop: 8 }}>\r\n                <Link to=\"/account/orders\" className=\"pm-link\" onClick={closeModal}>\r\n                  ดูคำสั่งซื้อทั้งหมด →\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* ที่อยู่ */}\r\n          {tab === \"addresses\" && (\r\n            <div className=\"pm-section\">\r\n              {addrLoading ? (\r\n                <div className=\"pm-note\">กำลังโหลดที่อยู่…</div>\r\n              ) : addresses.length === 0 ? (\r\n                <div className=\"pm-note\">ยังไม่มีที่อยู่</div>\r\n              ) : (\r\n                <ul className=\"pm-address-list\">\r\n                  {addresses.map((a) => (\r\n                    <li key={a.id} className=\"pm-address-item\">\r\n                      <div className=\"pm-address-name\">\r\n                        {a.fullname} {a.is_default && <span className=\"pm-badge\">ค่าเริ่มต้น</span>}\r\n                      </div>\r\n                      <div className=\"pm-address-lines\">\r\n                        <div>{a.address_line1} {a.address_line2}</div>\r\n                        <div>{a.subdistrict} {a.district} {a.province} {a.postcode}</div>\r\n                        <div>☎ {a.phone}</div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n\r\n              <div className=\"pm-actions\">\r\n                <button\r\n                  className=\"pm-btn pm-primary\"\r\n                  onClick={() => {\r\n                    closeModal();\r\n                    navigate(\"/account/addresses\");\r\n                  }}\r\n                >\r\n                  จัดการที่อยู่\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* การตั้งค่า */}\r\n          {tab === \"settings\" && (\r\n            <div className=\"pm-section\">\r\n              <div className=\"pm-note\">การตั้งค่า (เหมือนเดิมของคุณ)</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}