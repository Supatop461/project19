{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\account\\\\Addresses.js\",\n  _s = $RefreshSig$();\n// src/account/Addresses.js\n// จัดการที่อยู่ผู้ใช้ (CRUD + default) — พรีฟิลจากตอนสมัครสมาชิกถ้ายังไม่มีที่อยู่\nimport React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport ThaiAddressPicker from '../components/ThaiAddressPicker';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst S = {\n  page: {\n    maxWidth: 980,\n    margin: '0 auto',\n    padding: 24\n  },\n  topbar: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 12\n  },\n  backBtn: {\n    padding: '8px 12px',\n    borderRadius: 8,\n    border: '1px solid #ddd',\n    background: '#fafafa',\n    cursor: 'pointer'\n  },\n  card: {\n    background: '#fff',\n    border: '1px solid #eee',\n    borderRadius: 12,\n    padding: 16\n  },\n  h2: {\n    margin: '0 0 12px',\n    fontSize: 20\n  },\n  grid2: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr',\n    gap: 12,\n    alignItems: 'start'\n  },\n  grid3: {\n    display: 'grid',\n    gridTemplateColumns: '1fr 1fr 1fr',\n    gap: 12,\n    alignItems: 'start'\n  },\n  label: {\n    fontSize: 12,\n    color: '#555',\n    marginBottom: 6\n  },\n  input: {\n    padding: '10px 12px',\n    border: '1px solid #ddd',\n    borderRadius: 8,\n    width: '100%'\n  },\n  row: {\n    display: 'flex',\n    gap: 8,\n    alignItems: 'center'\n  },\n  btn: {\n    padding: '8px 12px',\n    borderRadius: 8,\n    border: '1px solid #ddd',\n    background: '#fafafa',\n    cursor: 'pointer'\n  },\n  btnPri: {\n    padding: '8px 12px',\n    borderRadius: 8,\n    border: '1px solid #2f7',\n    background: '#19d28f',\n    color: '#fff',\n    cursor: 'pointer'\n  },\n  btnWarn: {\n    padding: '8px 12px',\n    borderRadius: 8,\n    border: '1px solid #f77',\n    background: '#ff4d4f',\n    color: '#fff',\n    cursor: 'pointer'\n  },\n  list: {\n    display: 'grid',\n    gap: 12,\n    marginTop: 16\n  },\n  badge: {\n    fontSize: 12,\n    padding: '2px 6px',\n    borderRadius: 6,\n    background: '#f0f9f5',\n    border: '1px solid #cfeede',\n    color: '#0d7a52'\n  }\n};\nexport default function Addresses() {\n  _s();\n  const navigate = useNavigate();\n  const [rows, setRows] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [editingId, setEditingId] = useState(null);\n  const [saving, setSaving] = useState(false);\n\n  // เก็บ *_code ไว้เพื่อให้ ThaiAddressPicker พรีเลือกได้แม่น\n  const [form, setForm] = useState({\n    label: '',\n    recipient_name: '',\n    phone: '',\n    line1: '',\n    line2: '',\n    province: '',\n    province_code: null,\n    district: '',\n    district_code: null,\n    subdistrict: '',\n    subdistrict_code: null,\n    postal_code: '',\n    country: 'TH',\n    is_default: false\n  });\n\n  /* ------------------------- FIX เล็กๆ: axiosClient รองรับหลาย token key + เดา baseURL อัตโนมัติ ------------------------- */\n  const axiosClient = useMemo(() => {\n    // รองรับชื่อ key ที่ทีมอื่นๆ อาจใช้\n    const token = localStorage.getItem('token') || localStorage.getItem('access_token') || localStorage.getItem('jwt') || '';\n\n    // ลำดับการเดา baseURL:\n    // 1) .env: REACT_APP_API_BASE\n    // 2) ใช้ origin ตอนนี้แล้วแทนพอร์ตเป็น 3001 (สำหรับ dev)\n    // 3) ค่าเดิมใน axios.defaults.baseURL\n    // 4) 'http://localhost:3001'\n    const envBase = process.env.REACT_APP_API_BASE;\n    const guessFromOrigin = (() => {\n      try {\n        const u = new URL(window.location.href);\n        // ถ้า dev บน 3000 ให้เดาเป็น 3001\n        const port = u.port === '3000' ? '3001' : u.port || '3001';\n        return `${u.protocol}//${u.hostname}:${port}`;\n      } catch {\n        return null;\n      }\n    })();\n    const base = envBase || guessFromOrigin || axios.defaults.baseURL || 'http://localhost:3001';\n    return axios.create({\n      baseURL: base,\n      // เรียกด้วย path /api/...\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {},\n      timeout: 15000\n    });\n  }, []);\n\n  /* ------------------------- โหลดรายการที่อยู่ของผู้ใช้ ------------------------- */\n  async function fetchList() {\n    setLoading(true);\n    try {\n      var _res$data;\n      const res = await axiosClient.get('/api/addresses/me');\n      const data = Array.isArray((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.items) ? res.data.items : res.data;\n      const sorted = Array.isArray(data) ? [...data].sort((a, b) => Number(b === null || b === void 0 ? void 0 : b.is_default) - Number(a === null || a === void 0 ? void 0 : a.is_default)) : [];\n      setRows(sorted);\n      return sorted;\n    } catch (e) {\n      var _e$response, _e$response$data;\n      console.error('fetch addresses error:', e);\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || 'ดึงรายการไม่สำเร็จ');\n      return [];\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  /* ------------------------- พรีฟิลจากข้อมูลตอนสมัคร ------------------------- */\n  async function tryPrefillFromSignup() {\n    try {\n      const endpoints = ['/api/me'];\n      let me = null;\n      for (const url of endpoints) {\n        try {\n          const r = await axiosClient.get(url);\n          if (r !== null && r !== void 0 && r.data) {\n            me = r.data;\n            break;\n          }\n        } catch (_) {}\n      }\n      if (!me) return;\n      const asStr = v => v == null ? '' : String(v);\n      const fullName = asStr(me.recipient_name) || asStr(me.full_name) || [asStr(me.first_name), asStr(me.last_name)].filter(Boolean).join(' ').trim() || asStr(me.name);\n      const phone = asStr(me.phone) || asStr(me.phone_number) || '';\n      const line1 = asStr(me.line1) || asStr(me.address_line1) || asStr(me.address) || asStr(me.address1) || asStr(me.street) || '';\n      const line2 = asStr(me.line2) || asStr(me.address_line2) || asStr(me.address2) || asStr(me.building) || '';\n      const province = asStr(me.province) || '';\n      const district = asStr(me.district) || asStr(me.amphure) || '';\n      const subdistrict = asStr(me.subdistrict) || asStr(me.tambon) || '';\n      const postalCode = asStr(me.postal_code) || asStr(me.zip) || asStr(me.zipcode) || asStr(me.postcode) || '';\n      setForm(f => ({\n        ...f,\n        recipient_name: fullName || f.recipient_name,\n        phone: phone || f.phone,\n        line1: line1 || f.line1,\n        line2: line2 || f.line2,\n        province: province || f.province,\n        district: district || f.district,\n        subdistrict: subdistrict || f.subdistrict,\n        postal_code: postalCode || f.postal_code,\n        country: 'TH'\n      }));\n    } catch (_) {/* เงียบไว้ */}\n  }\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      const items = await fetchList();\n      if (mounted && (!items || items.length === 0)) {\n        await tryPrefillFromSignup();\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  function resetForm() {\n    setEditingId(null);\n    setSaving(false);\n    setForm({\n      label: '',\n      recipient_name: '',\n      phone: '',\n      line1: '',\n      line2: '',\n      province: '',\n      province_code: null,\n      district: '',\n      district_code: null,\n      subdistrict: '',\n      subdistrict_code: null,\n      postal_code: '',\n      country: 'TH',\n      is_default: false\n    });\n  }\n  const normalizedPhone = useMemo(() => (form.phone || '').replace(/\\D/g, ''), [form.phone]);\n  function validate() {\n    if (!form.recipient_name.trim()) return 'กรุณากรอกชื่อผู้รับ';\n    if (!normalizedPhone || normalizedPhone.length < 9 || normalizedPhone.length > 10) return 'กรุณากรอกเบอร์โทรให้ถูกต้อง (9–10 หลัก)';\n    if (!form.line1.trim()) return 'กรุณากรอกที่อยู่ (บรรทัด 1)';\n    if (!form.province) return 'กรุณาเลือกจังหวัด';\n    if (!form.district) return 'กรุณาเลือกอำเภอ/เขต';\n    if (!form.subdistrict) return 'กรุณาเลือกตำบล/แขวง';\n    if (!form.postal_code) return 'ไม่พบรหัสไปรษณีย์ (โปรดเลือกตำบล/แขวงใหม่อีกครั้ง)';\n    return '';\n  }\n\n  /* ------------------------- สร้าง/แก้ไขที่อยู่ ------------------------- */\n  async function handleSubmit(e) {\n    e.preventDefault();\n    const err = validate();\n    if (err) return alert(err);\n    setSaving(true);\n    try {\n      const payload = {\n        ...form,\n        phone: normalizedPhone,\n        country: 'TH'\n      };\n      if (editingId) {\n        await axiosClient.put(`/api/addresses/${editingId}`, payload); // เเก้ไข\n      } else {\n        await axiosClient.post('/api/addresses', payload); // เพิ่มใหม่\n      }\n      resetForm();\n      await fetchList();\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.error) || 'บันทึกไม่สำเร็จ');\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  /* ------------------------- กดแก้ไข/ลบ/ตั้ง default ------------------------- */\n  function handleEdit(a) {\n    var _a$province_code, _a$district_code, _a$subdistrict_code;\n    setEditingId(a.address_id);\n    setForm({\n      label: a.label || '',\n      recipient_name: a.recipient_name || '',\n      phone: a.phone || '',\n      line1: a.line1 || '',\n      line2: a.line2 || '',\n      province: a.province || '',\n      province_code: (_a$province_code = a.province_code) !== null && _a$province_code !== void 0 ? _a$province_code : null,\n      district: a.district || '',\n      district_code: (_a$district_code = a.district_code) !== null && _a$district_code !== void 0 ? _a$district_code : null,\n      subdistrict: a.subdistrict || '',\n      subdistrict_code: (_a$subdistrict_code = a.subdistrict_code) !== null && _a$subdistrict_code !== void 0 ? _a$subdistrict_code : null,\n      postal_code: a.postal_code || '',\n      country: 'TH',\n      is_default: !!a.is_default\n    });\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n  async function handleDelete(a) {\n    if (!window.confirm('ลบที่อยู่นี้ใช่ไหม?')) return;\n    try {\n      await axiosClient.delete(`/api/addresses/${a.address_id}`); // ลบ\n      if (editingId === a.address_id) resetForm();\n      await fetchList();\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.error) || 'ลบไม่สำเร็จ');\n    }\n  }\n  async function setDefault(a) {\n    try {\n      await axiosClient.patch(`/api/addresses/${a.address_id}/default`); // ค่าเริ่มต้นที่อยู่\n      await fetchList();\n    } catch (e) {\n      var _e$response4, _e$response4$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.error) || 'ตั้งค่าเริ่มต้นไม่สำเร็จ');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: S.page,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: S.topbar,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => navigate(-1) // ถ้าอยากบังคับไปหน้า Home ใช้ navigate('/')\n        ,\n        style: S.backBtn,\n        children: \"\\u2190 \\u0E01\\u0E25\\u0E31\\u0E1A\\u0E44\\u0E1B\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: S.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: S.h2,\n        children: editingId ? 'แก้ไขที่อยู่' : 'เพิ่มที่อยู่ใหม่'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        style: {\n          display: 'grid',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: S.label,\n            children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E23\\u0E35\\u0E22\\u0E01 (\\u0E1A\\u0E49\\u0E32\\u0E19/\\u0E04\\u0E2D\\u0E19\\u0E42\\u0E14)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: S.input,\n            placeholder: \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E17\\u0E35\\u0E48\\u0E1A\\u0E49\\u0E32\\u0E19 / \\u0E17\\u0E35\\u0E48\\u0E17\\u0E33\\u0E07\\u0E32\\u0E19\",\n            value: form.label,\n            onChange: e => setForm(f => ({\n              ...f,\n              label: e.target.value\n            })),\n            autoComplete: \"address-line3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: S.grid2,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: S.label,\n              children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E31\\u0E1A *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: S.input,\n              placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\",\n              value: form.recipient_name,\n              onChange: e => setForm(f => ({\n                ...f,\n                recipient_name: e.target.value\n              })),\n              autoComplete: \"name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: S.label,\n              children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: S.input,\n              placeholder: \"0XXXXXXXXX\",\n              value: form.phone,\n              onChange: e => setForm(f => ({\n                ...f,\n                phone: e.target.value\n              })),\n              inputMode: \"numeric\",\n              pattern: \"[0-9\\\\\\\\s\\\\\\\\-()+]*\",\n              autoComplete: \"tel\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: S.grid2,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: S.label,\n              children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48 (\\u0E1A\\u0E23\\u0E23\\u0E17\\u0E31\\u0E14 1) *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: S.input,\n              name: \"line1\",\n              placeholder: \"\\u0E40\\u0E0A\\u0E48\\u0E19 52/45 \\u0E2B\\u0E21\\u0E39\\u0E48 6 \\u0E0B\\u0E2D\\u0E22..., \\u0E16\\u0E19\\u0E19...\",\n              value: form.line1,\n              onChange: e => setForm(f => ({\n                ...f,\n                line1: e.target.value\n              })),\n              autoComplete: \"address-line1\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: S.label,\n              children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21 (\\u0E1A\\u0E23\\u0E23\\u0E17\\u0E31\\u0E14 2)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: S.input,\n              name: \"line2\",\n              placeholder: \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E2D\\u0E32\\u0E04\\u0E32\\u0E23/\\u0E0A\\u0E31\\u0E49\\u0E19/\\u0E2B\\u0E49\\u0E2D\\u0E07 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\\u0E43\\u0E2B\\u0E49\\u0E04\\u0E19\\u0E2A\\u0E48\\u0E07\",\n              value: form.line2,\n              onChange: e => setForm(f => ({\n                ...f,\n                line2: e.target.value\n              })),\n              autoComplete: \"address-line2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: S.grid3,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: S.label,\n              children: \"\\u0E08\\u0E31\\u0E07\\u0E2B\\u0E27\\u0E31\\u0E14 / \\u0E2D\\u0E33\\u0E40\\u0E20\\u0E2D / \\u0E15\\u0E33\\u0E1A\\u0E25 *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ThaiAddressPicker\n            // ✅ โปรเจกต์นี้ไฟล์อยู่ frontend/public/data\n            , {\n              basePath: \"/data\",\n              basePathCandidates: ['/data'] // ตัดการลองพาธอื่น เพื่อลดการยิงซ้ำ\n              ,\n              value: form,\n              onChange: patch => setForm(f => ({\n                ...f,\n                ...patch\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: S.label,\n              children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E44\\u0E1B\\u0E23\\u0E29\\u0E13\\u0E35\\u0E22\\u0E4C *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              style: S.input,\n              placeholder: \"\\u0E44\\u0E1B\\u0E23\\u0E29\\u0E13\\u0E35\\u0E22\\u0E4C\",\n              value: form.postal_code,\n              onChange: e => setForm(f => ({\n                ...f,\n                postal_code: e.target.value\n              })),\n              readOnly: true // ให้ ThaiAddressPicker เติมอัตโนมัติเมื่อเลือก \"ตำบล\"\n              ,\n              autoComplete: \"postal-code\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              alignSelf: 'end'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                ...S.row,\n                gap: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: form.is_default,\n                onChange: e => setForm(f => ({\n                  ...f,\n                  is_default: e.target.checked\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this), \"\\u0E15\\u0E31\\u0E49\\u0E07\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: S.row,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: S.btnPri,\n            disabled: saving,\n            children: saving ? 'กำลังบันทึก...' : editingId ? 'อัปเดตที่อยู่' : 'เพิ่มที่อยู่'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), editingId && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            style: S.btn,\n            onClick: resetForm,\n            disabled: saving,\n            children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: S.h2,\n        children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: S.card,\n        children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 11\n      }, this) : rows.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: S.card,\n        children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: S.list,\n        children: rows.map(a => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: S.card,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              gap: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 600\n                },\n                children: [a.recipient_name || '-', \" \", a.is_default && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    ...S.badge,\n                    marginLeft: 8\n                  },\n                  children: \"\\u0E04\\u0E48\\u0E32\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 66\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#666',\n                  marginTop: 2\n                },\n                children: a.phone || '-'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 8\n                },\n                children: [a.line1, a.line2 ? `, ${a.line2}` : '', /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [a.subdistrict, a.district, a.province].filter(Boolean).join(', ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: a.postal_code\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), a.label && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#888',\n                  fontSize: 12,\n                  marginTop: 6\n                },\n                children: a.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gap: 8,\n                alignContent: 'start'\n              },\n              children: [!a.is_default && /*#__PURE__*/_jsxDEV(\"button\", {\n                style: S.btn,\n                onClick: () => setDefault(a),\n                children: \"\\u0E15\\u0E31\\u0E49\\u0E07\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E04\\u0E48\\u0E32\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: S.btn,\n                onClick: () => handleEdit(a),\n                children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                style: S.btnWarn,\n                onClick: () => handleDelete(a),\n                children: \"\\u0E25\\u0E1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 17\n          }, this)\n        }, a.address_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 284,\n    columnNumber: 5\n  }, this);\n}\n_s(Addresses, \"LjWKXgrjYtE8hQ3fr5mHrsdsIwo=\", false, function () {\n  return [useNavigate];\n});\n_c = Addresses;\nvar _c;\n$RefreshReg$(_c, \"Addresses\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","useNavigate","ThaiAddressPicker","jsxDEV","_jsxDEV","S","page","maxWidth","margin","padding","topbar","display","justifyContent","alignItems","marginBottom","backBtn","borderRadius","border","background","cursor","card","h2","fontSize","grid2","gridTemplateColumns","gap","grid3","label","color","input","width","row","btn","btnPri","btnWarn","list","marginTop","badge","Addresses","_s","navigate","rows","setRows","loading","setLoading","editingId","setEditingId","saving","setSaving","form","setForm","recipient_name","phone","line1","line2","province","province_code","district","district_code","subdistrict","subdistrict_code","postal_code","country","is_default","axiosClient","token","localStorage","getItem","envBase","process","env","REACT_APP_API_BASE","guessFromOrigin","u","URL","window","location","href","port","protocol","hostname","base","defaults","baseURL","create","headers","Authorization","timeout","fetchList","_res$data","res","get","data","Array","isArray","items","sorted","sort","a","b","Number","e","_e$response","_e$response$data","console","error","alert","response","tryPrefillFromSignup","endpoints","me","url","r","_","asStr","v","String","fullName","full_name","first_name","last_name","filter","Boolean","join","trim","name","phone_number","address_line1","address","address1","street","address_line2","address2","building","amphure","tambon","postalCode","zip","zipcode","postcode","f","mounted","length","resetForm","normalizedPhone","replace","validate","handleSubmit","preventDefault","err","payload","put","post","_e$response2","_e$response2$data","handleEdit","_a$province_code","_a$district_code","_a$subdistrict_code","address_id","scrollTo","top","behavior","handleDelete","confirm","delete","_e$response3","_e$response3$data","setDefault","patch","_e$response4","_e$response4$data","style","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","autoComplete","required","inputMode","pattern","basePath","basePathCandidates","readOnly","alignSelf","checked","disabled","map","fontWeight","marginLeft","alignContent","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/account/Addresses.js"],"sourcesContent":["// src/account/Addresses.js\r\n// จัดการที่อยู่ผู้ใช้ (CRUD + default) — พรีฟิลจากตอนสมัครสมาชิกถ้ายังไม่มีที่อยู่\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ThaiAddressPicker from '../components/ThaiAddressPicker';\r\n\r\nconst S = {\r\n  page:   { maxWidth: 980, margin: '0 auto', padding: 24 },\r\n  topbar: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 12 },\r\n  backBtn:{ padding: '8px 12px', borderRadius: 8, border: '1px solid #ddd', background: '#fafafa', cursor: 'pointer' },\r\n  card:   { background: '#fff', border: '1px solid #eee', borderRadius: 12, padding: 16 },\r\n  h2:     { margin: '0 0 12px', fontSize: 20 },\r\n  grid2:  { display: 'grid', gridTemplateColumns: '1fr 1fr', gap: 12, alignItems: 'start' },\r\n  grid3:  { display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: 12, alignItems: 'start' },\r\n  label:  { fontSize: 12, color: '#555', marginBottom: 6 },\r\n  input:  { padding: '10px 12px', border: '1px solid #ddd', borderRadius: 8, width: '100%' },\r\n  row:    { display: 'flex', gap: 8, alignItems: 'center' },\r\n  btn:    { padding: '8px 12px', borderRadius: 8, border: '1px solid #ddd', background: '#fafafa', cursor: 'pointer' },\r\n  btnPri: { padding: '8px 12px', borderRadius: 8, border: '1px solid #2f7', background: '#19d28f', color: '#fff', cursor: 'pointer' },\r\n  btnWarn:{ padding: '8px 12px', borderRadius: 8, border: '1px solid #f77', background: '#ff4d4f', color: '#fff', cursor: 'pointer' },\r\n  list:   { display: 'grid', gap: 12, marginTop: 16 },\r\n  badge:  { fontSize: 12, padding: '2px 6px', borderRadius: 6, background: '#f0f9f5', border: '1px solid #cfeede', color: '#0d7a52' },\r\n};\r\n\r\nexport default function Addresses() {\r\n  const navigate = useNavigate();\r\n\r\n  const [rows, setRows] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  // เก็บ *_code ไว้เพื่อให้ ThaiAddressPicker พรีเลือกได้แม่น\r\n  const [form, setForm] = useState({\r\n    label: '',\r\n    recipient_name: '',\r\n    phone: '',\r\n    line1: '',\r\n    line2: '',\r\n    province: '',\r\n    province_code: null,\r\n    district: '',\r\n    district_code: null,\r\n    subdistrict: '',\r\n    subdistrict_code: null,\r\n    postal_code: '',\r\n    country: 'TH',\r\n    is_default: false,\r\n  });\r\n\r\n  /* ------------------------- FIX เล็กๆ: axiosClient รองรับหลาย token key + เดา baseURL อัตโนมัติ ------------------------- */\r\n  const axiosClient = useMemo(() => {\r\n    // รองรับชื่อ key ที่ทีมอื่นๆ อาจใช้\r\n    const token =\r\n      localStorage.getItem('token') ||\r\n      localStorage.getItem('access_token') ||\r\n      localStorage.getItem('jwt') ||\r\n      '';\r\n\r\n    // ลำดับการเดา baseURL:\r\n    // 1) .env: REACT_APP_API_BASE\r\n    // 2) ใช้ origin ตอนนี้แล้วแทนพอร์ตเป็น 3001 (สำหรับ dev)\r\n    // 3) ค่าเดิมใน axios.defaults.baseURL\r\n    // 4) 'http://localhost:3001'\r\n    const envBase = process.env.REACT_APP_API_BASE;\r\n    const guessFromOrigin = (() => {\r\n      try {\r\n        const u = new URL(window.location.href);\r\n        // ถ้า dev บน 3000 ให้เดาเป็น 3001\r\n        const port = u.port === '3000' ? '3001' : (u.port || '3001');\r\n        return `${u.protocol}//${u.hostname}:${port}`;\r\n      } catch {\r\n        return null;\r\n      }\r\n    })();\r\n\r\n    const base =\r\n      envBase ||\r\n      guessFromOrigin ||\r\n      axios.defaults.baseURL ||\r\n      'http://localhost:3001';\r\n\r\n    return axios.create({\r\n      baseURL: base, // เรียกด้วย path /api/...\r\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      timeout: 15000,\r\n    });\r\n  }, []);\r\n\r\n  /* ------------------------- โหลดรายการที่อยู่ของผู้ใช้ ------------------------- */\r\n  async function fetchList() {\r\n    setLoading(true);\r\n    try {\r\n      const res = await axiosClient.get('/api/addresses/me');\r\n      const data = Array.isArray(res.data?.items) ? res.data.items : res.data;\r\n      const sorted = Array.isArray(data)\r\n        ? [...data].sort((a, b) => Number(b?.is_default) - Number(a?.is_default))\r\n        : [];\r\n      setRows(sorted);\r\n      return sorted;\r\n    } catch (e) {\r\n      console.error('fetch addresses error:', e);\r\n      alert(e?.response?.data?.error || 'ดึงรายการไม่สำเร็จ');\r\n      return [];\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  /* ------------------------- พรีฟิลจากข้อมูลตอนสมัคร ------------------------- */\r\n  async function tryPrefillFromSignup() {\r\n    try {\r\n      const endpoints = ['/api/me'];\r\n      let me = null;\r\n      for (const url of endpoints) {\r\n        try {\r\n          const r = await axiosClient.get(url);\r\n          if (r?.data) { me = r.data; break; }\r\n        } catch (_) {}\r\n      }\r\n      if (!me) return;\r\n\r\n      const asStr = (v) => (v==null ? '' : String(v));\r\n\r\n      const fullName =\r\n        asStr(me.recipient_name) ||\r\n        asStr(me.full_name) ||\r\n        [asStr(me.first_name), asStr(me.last_name)].filter(Boolean).join(' ').trim() ||\r\n        asStr(me.name);\r\n\r\n      const phone =\r\n        asStr(me.phone) ||\r\n        asStr(me.phone_number) ||\r\n        '';\r\n\r\n      const line1 =\r\n        asStr(me.line1) || asStr(me.address_line1) || asStr(me.address) || asStr(me.address1) || asStr(me.street) || '';\r\n\r\n      const line2 =\r\n        asStr(me.line2) || asStr(me.address_line2) || asStr(me.address2) || asStr(me.building) || '';\r\n\r\n      const province    = asStr(me.province)    || '';\r\n      const district    = asStr(me.district)    || asStr(me.amphure) || '';\r\n      const subdistrict = asStr(me.subdistrict) || asStr(me.tambon)  || '';\r\n      const postalCode  =\r\n        asStr(me.postal_code) || asStr(me.zip) || asStr(me.zipcode) || asStr(me.postcode) || '';\r\n\r\n      setForm(f => ({\r\n        ...f,\r\n        recipient_name: fullName || f.recipient_name,\r\n        phone: phone || f.phone,\r\n        line1: line1 || f.line1,\r\n        line2: line2 || f.line2,\r\n        province: province || f.province,\r\n        district: district || f.district,\r\n        subdistrict: subdistrict || f.subdistrict,\r\n        postal_code: postalCode || f.postal_code,\r\n        country: 'TH',\r\n      }));\r\n    } catch (_) { /* เงียบไว้ */ }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      const items = await fetchList();\r\n      if (mounted && (!items || items.length === 0)) {\r\n        await tryPrefillFromSignup();\r\n      }\r\n    })();\r\n    return () => { mounted = false; };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function resetForm() {\r\n    setEditingId(null);\r\n    setSaving(false);\r\n    setForm({\r\n      label: '',\r\n      recipient_name: '',\r\n      phone: '',\r\n      line1: '',\r\n      line2: '',\r\n      province: '',\r\n      province_code: null,\r\n      district: '',\r\n      district_code: null,\r\n      subdistrict: '',\r\n      subdistrict_code: null,\r\n      postal_code: '',\r\n      country: 'TH',\r\n      is_default: false,\r\n    });\r\n  }\r\n\r\n  const normalizedPhone = useMemo(\r\n    () => (form.phone || '').replace(/\\D/g, ''),\r\n    [form.phone]\r\n  );\r\n\r\n  function validate() {\r\n    if (!form.recipient_name.trim()) return 'กรุณากรอกชื่อผู้รับ';\r\n    if (!normalizedPhone || normalizedPhone.length < 9 || normalizedPhone.length > 10)\r\n      return 'กรุณากรอกเบอร์โทรให้ถูกต้อง (9–10 หลัก)';\r\n    if (!form.line1.trim()) return 'กรุณากรอกที่อยู่ (บรรทัด 1)';\r\n    if (!form.province) return 'กรุณาเลือกจังหวัด';\r\n    if (!form.district) return 'กรุณาเลือกอำเภอ/เขต';\r\n    if (!form.subdistrict) return 'กรุณาเลือกตำบล/แขวง';\r\n    if (!form.postal_code) return 'ไม่พบรหัสไปรษณีย์ (โปรดเลือกตำบล/แขวงใหม่อีกครั้ง)';\r\n    return '';\r\n  }\r\n\r\n  /* ------------------------- สร้าง/แก้ไขที่อยู่ ------------------------- */\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const err = validate();\r\n    if (err) return alert(err);\r\n\r\n    setSaving(true);\r\n    try {\r\n      const payload = {\r\n        ...form,\r\n        phone: normalizedPhone,\r\n        country: 'TH',\r\n      };\r\n      if (editingId) {\r\n        await axiosClient.put(`/api/addresses/${editingId}`, payload); // เเก้ไข\r\n      } else {\r\n        await axiosClient.post('/api/addresses', payload);  // เพิ่มใหม่\r\n      }\r\n      resetForm();\r\n      await fetchList();\r\n    } catch (e) {\r\n      alert(e?.response?.data?.error || 'บันทึกไม่สำเร็จ');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  }\r\n\r\n  /* ------------------------- กดแก้ไข/ลบ/ตั้ง default ------------------------- */\r\n  function handleEdit(a) {\r\n    setEditingId(a.address_id);\r\n    setForm({\r\n      label: a.label || '',\r\n      recipient_name: a.recipient_name || '',\r\n      phone: a.phone || '',\r\n      line1: a.line1 || '',\r\n      line2: a.line2 || '',\r\n      province: a.province || '',\r\n      province_code: a.province_code ?? null,\r\n      district: a.district || '',\r\n      district_code: a.district_code ?? null,\r\n      subdistrict: a.subdistrict || '',\r\n      subdistrict_code: a.subdistrict_code ?? null,\r\n      postal_code: a.postal_code || '',\r\n      country: 'TH',\r\n      is_default: !!a.is_default,\r\n    });\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }\r\n\r\n  async function handleDelete(a) {\r\n    if (!window.confirm('ลบที่อยู่นี้ใช่ไหม?')) return;\r\n    try {\r\n      await axiosClient.delete(`/api/addresses/${a.address_id}`);  // ลบ\r\n      if (editingId === a.address_id) resetForm();\r\n      await fetchList();\r\n    } catch (e) {\r\n      alert(e?.response?.data?.error || 'ลบไม่สำเร็จ');\r\n    }\r\n  }\r\n\r\n  async function setDefault(a) {\r\n    try {\r\n      await axiosClient.patch(`/api/addresses/${a.address_id}/default`);  // ค่าเริ่มต้นที่อยู่\r\n      await fetchList();\r\n    } catch (e) {\r\n      alert(e?.response?.data?.error || 'ตั้งค่าเริ่มต้นไม่สำเร็จ');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={S.page}>\r\n      {/* ===== ปุ่มกลับไปหน้าโปรไฟล์ ===== */}\r\n      <div style={S.topbar}>\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => navigate(-1)}  // ถ้าอยากบังคับไปหน้า Home ใช้ navigate('/')\r\n          style={S.backBtn}\r\n        >\r\n          ← กลับไปหน้าโปรไฟล์\r\n        </button>\r\n      </div>\r\n\r\n      <div style={S.card}>\r\n        <h2 style={S.h2}>{editingId ? 'แก้ไขที่อยู่' : 'เพิ่มที่อยู่ใหม่'}</h2>\r\n\r\n        <form onSubmit={handleSubmit} style={{ display: 'grid', gap: 12 }}>\r\n          {/* ชื่อเรียก */}\r\n          <div>\r\n            <div style={S.label}>ชื่อเรียก (บ้าน/คอนโด)</div>\r\n            <input\r\n              style={S.input}\r\n              placeholder=\"เช่น ที่บ้าน / ที่ทำงาน\"\r\n              value={form.label}\r\n              onChange={e => setForm(f => ({ ...f, label: e.target.value }))}\r\n              autoComplete=\"address-line3\"\r\n            />\r\n          </div>\r\n\r\n          {/* ผู้รับ + โทร */}\r\n          <div style={S.grid2}>\r\n            <div>\r\n              <div style={S.label}>ชื่อผู้รับ *</div>\r\n              <input\r\n                style={S.input}\r\n                placeholder=\"ชื่อ-นามสกุล\"\r\n                value={form.recipient_name}\r\n                onChange={e => setForm(f => ({ ...f, recipient_name: e.target.value }))}\r\n                autoComplete=\"name\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <div style={S.label}>เบอร์โทร *</div>\r\n              <input\r\n                style={S.input}\r\n                placeholder=\"0XXXXXXXXX\"\r\n                value={form.phone}\r\n                onChange={e => setForm(f => ({ ...f, phone: e.target.value }))}\r\n                inputMode=\"numeric\"\r\n                pattern=\"[0-9\\\\s\\\\-()+]*\"\r\n                autoComplete=\"tel\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* ที่อยู่บรรทัด 1/2 */}\r\n          <div style={S.grid2}>\r\n            <div>\r\n              <div style={S.label}>ที่อยู่ (บรรทัด 1) *</div>\r\n              <input\r\n                style={S.input}\r\n                name=\"line1\"\r\n                placeholder=\"เช่น 52/45 หมู่ 6 ซอย..., ถนน...\"\r\n                value={form.line1}\r\n                onChange={e => setForm(f => ({ ...f, line1: e.target.value }))}\r\n                autoComplete=\"address-line1\"\r\n                required\r\n              />\r\n            </div>\r\n            <div>\r\n              <div style={S.label}>รายละเอียดเพิ่มเติม (บรรทัด 2)</div>\r\n              <input\r\n                style={S.input}\r\n                name=\"line2\"\r\n                placeholder=\"เช่น อาคาร/ชั้น/ห้อง หรือ หมายเหตุให้คนส่ง\"\r\n                value={form.line2}\r\n                onChange={e => setForm(f => ({ ...f, line2: e.target.value }))}\r\n                autoComplete=\"address-line2\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* จังหวัด/อำเภอ/ตำบล + ไปรษณีย์ */}\r\n          <div style={S.grid3}>\r\n            <div>\r\n              <div style={S.label}>จังหวัด / อำเภอ / ตำบล *</div>\r\n              <ThaiAddressPicker\r\n                // ✅ โปรเจกต์นี้ไฟล์อยู่ frontend/public/data\r\n                basePath=\"/data\"\r\n                basePathCandidates={['/data']} // ตัดการลองพาธอื่น เพื่อลดการยิงซ้ำ\r\n                value={form}\r\n                onChange={patch => setForm(f => ({ ...f, ...patch }))}\r\n              />\r\n            </div>\r\n            <div>\r\n              <div style={S.label}>รหัสไปรษณีย์ *</div>\r\n              <input\r\n                style={S.input}\r\n                placeholder=\"ไปรษณีย์\"\r\n                value={form.postal_code}\r\n                onChange={e => setForm(f => ({ ...f, postal_code: e.target.value }))}\r\n                readOnly   // ให้ ThaiAddressPicker เติมอัตโนมัติเมื่อเลือก \"ตำบล\"\r\n                autoComplete=\"postal-code\"\r\n                required\r\n              />\r\n            </div>\r\n            <div style={{ alignSelf: 'end' }}>\r\n              <label style={{ ...S.row, gap: 10 }}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={form.is_default}\r\n                  onChange={e => setForm(f => ({ ...f, is_default: e.target.checked }))}\r\n                />\r\n                ตั้งเป็นที่อยู่เริ่มต้น\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={S.row}>\r\n            <button type=\"submit\" style={S.btnPri} disabled={saving}>\r\n              {saving ? 'กำลังบันทึก...' : (editingId ? 'อัปเดตที่อยู่' : 'เพิ่มที่อยู่')}\r\n            </button>\r\n            {editingId && (\r\n              <button type=\"button\" style={S.btn} onClick={resetForm} disabled={saving}>\r\n                ยกเลิก\r\n              </button>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* รายการที่อยู่ */}\r\n      <div style={{ marginTop: 24 }}>\r\n        <h2 style={S.h2}>ที่อยู่ของฉัน</h2>\r\n        {loading ? (\r\n          <div style={S.card}>กำลังโหลด...</div>\r\n        ) : rows.length === 0 ? (\r\n          <div style={S.card}>ยังไม่มีที่อยู่</div>\r\n        ) : (\r\n          <div style={S.list}>\r\n            {rows.map(a => (\r\n              <div key={a.address_id} style={S.card}>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', gap: 16 }}>\r\n                  <div>\r\n                    <div style={{ fontWeight: 600 }}>\r\n                      {a.recipient_name || '-'} {a.is_default && <span style={{ ...S.badge, marginLeft: 8 }}>ค่าเริ่มต้น</span>}\r\n                    </div>\r\n                    <div style={{ color: '#666', marginTop: 2 }}>{a.phone || '-'}</div>\r\n                    <div style={{ marginTop: 8 }}>\r\n                      {a.line1}{a.line2 ? `, ${a.line2}` : ''}\r\n                      <div>{[a.subdistrict, a.district, a.province].filter(Boolean).join(', ')}</div>\r\n                      <div>{a.postal_code}</div>\r\n                    </div>\r\n                    {a.label && <div style={{ color: '#888', fontSize: 12, marginTop: 6 }}>{a.label}</div>}\r\n                  </div>\r\n\r\n                  <div style={{ display: 'grid', gap: 8, alignContent: 'start' }}>\r\n                    {!a.is_default && (\r\n                      <button style={S.btn} onClick={() => setDefault(a)}>ตั้งเป็นค่าเริ่มต้น</button>\r\n                    )}\r\n                    <button style={S.btn} onClick={() => handleEdit(a)}>แก้ไข</button>\r\n                    <button style={S.btnWarn} onClick={() => handleDelete(a)}>ลบ</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}