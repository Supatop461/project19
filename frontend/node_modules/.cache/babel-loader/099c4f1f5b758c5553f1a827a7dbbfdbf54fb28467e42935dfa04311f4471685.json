{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\components\\\\HeaderClassic.js\",\n  _import$meta,\n  _import$meta$env,\n  _s = $RefreshSig$();\n// src/components/HeaderClassic.js\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { getCount, CART_EVENT } from \"../lib/cart\";\nimport ProfileModal from \"../pages/ProfileModal\";\n\n// ตั้ง path สมัครสมาชิกให้ตรงของจริงได้ผ่าน ENV\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SIGNUP_PATH = ((_import$meta = import.meta) === null || _import$meta === void 0 ? void 0 : (_import$meta$env = _import$meta.env) === null || _import$meta$env === void 0 ? void 0 : _import$meta$env.VITE_SIGNUP_PATH) || process.env.REACT_APP_SIGNUP_PATH || \"/signup\";\nexport default function HeaderClassic() {\n  _s();\n  const location = useLocation();\n\n  // อยู่หน้าแอดมินหรือไม่ (เช็กจาก path)\n  const isAdminPath = location.pathname.startsWith(\"/admin\");\n\n  // สถานะการล็อกอิน + ชื่อ + รูปโปรไฟล์ + role\n  const [isAuth, setIsAuth] = useState(!!localStorage.getItem(\"token\"));\n  const [role, setRole] = useState(localStorage.getItem(\"role\") || \"\");\n  const [fullname, setFullname] = useState(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\n  const [avatar, setAvatar] = useState(localStorage.getItem(\"avatar_url\") || process.env.PUBLIC_URL + \"/profile.jpg\");\n\n  // จำนวนในตะกร้า (ใช้เฉพาะฝั่งลูกค้า)\n  const [cartCount, setCartCount] = useState(getCount());\n  useEffect(() => {\n    const onChanged = () => setCartCount(getCount());\n    window.addEventListener(CART_EVENT, onChanged);\n    return () => window.removeEventListener(CART_EVENT, onChanged);\n  }, []);\n\n  // sync เมื่อ auth/profile/role เปลี่ยน (รวมถึงจากแท็บอื่น)\n  useEffect(() => {\n    const onStorage = () => {\n      setIsAuth(!!localStorage.getItem(\"token\"));\n      setRole(localStorage.getItem(\"role\") || \"\");\n      setFullname(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\n      setAvatar(localStorage.getItem(\"avatar_url\") || process.env.PUBLIC_URL + \"/profile.jpg\");\n    };\n    window.addEventListener(\"storage\", onStorage);\n    window.addEventListener(\"auth:changed\", onStorage);\n    window.addEventListener(\"profile:changed\", onStorage);\n    return () => {\n      window.removeEventListener(\"storage\", onStorage);\n      window.removeEventListener(\"auth:changed\", onStorage);\n      window.removeEventListener(\"profile:changed\", onStorage);\n    };\n  }, []);\n\n  // รีเช็คทุกครั้งที่เปลี่ยนหน้า (กันกรณีลืมยิง event)\n  useEffect(() => {\n    setIsAuth(!!localStorage.getItem(\"token\"));\n    setRole(localStorage.getItem(\"role\") || \"\");\n    setFullname(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\n    setAvatar(localStorage.getItem(\"avatar_url\") || process.env.PUBLIC_URL + \"/profile.jpg\");\n    // eslint-disable-next-line\n  }, [location.pathname]);\n  const [showProfile, setShowProfile] = useState(false);\n  const [initialTab, setInitialTab] = useState(\"profile\");\n  const openProfile = (tab = \"profile\") => {\n    // ❗️ห้ามเปิดโปรไฟล์โมดอลในโซนแอดมิน\n    if (isAdminPath) return;\n    setInitialTab(tab);\n    setShowProfile(true);\n  };\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n    localStorage.removeItem(\"avatar_url\");\n    window.dispatchEvent(new Event(\"auth:changed\"));\n    // แยกเส้นทางหลังออกจากระบบให้เหมาะสม\n    window.location.href = isAdminPath ? \"/admin/login\" : \"/login\";\n  };\n\n  // โลโก้ลิงก์ไปที่ไหน: /admin ถ้าอยู่โซนแอดมิน, ไม่งั้น /\n  const logoHref = isAdminPath ? \"/admin\" : \"/\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: \"10px 16px\",\n        borderBottom: \"1px solid #e5e7eb\",\n        background: \"#fff\",\n        position: \"sticky\",\n        top: 0,\n        zIndex: 50\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: logoHref,\n        style: {\n          fontWeight: 700,\n          fontSize: 20,\n          color: \"#16a34a\",\n          textDecoration: \"none\"\n        },\n        children: \"PRACH MAEJO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 16\n        },\n        children: !isAuth ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: isAdminPath ? location.pathname !== \"/admin/login\" && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/login\",\n            children: \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E41\\u0E2D\\u0E14\\u0E21\\u0E34\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 57\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [location.pathname !== \"/login\" && /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 54\n            }, this), location.pathname !== SIGNUP_PATH && /*#__PURE__*/_jsxDEV(Link, {\n              to: SIGNUP_PATH,\n              children: \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 57\n            }, this)]\n          }, void 0, true)\n        }, void 0, false) :\n        /*#__PURE__*/\n        // ผู้ใช้ล็อกอินแล้ว\n        _jsxDEV(_Fragment, {\n          children: isAdminPath || role === \"admin\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 8,\n                fontSize: 14,\n                color: \"#111827\"\n              },\n              title: \"Admin\",\n              \"aria-label\": \"Admin\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: avatar,\n                alt: \"avatar\",\n                onError: e => e.currentTarget.src = process.env.PUBLIC_URL + \"/logo.png\",\n                style: {\n                  width: 28,\n                  height: 28,\n                  borderRadius: 999,\n                  objectFit: \"cover\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: fullname || \"Admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              style: {\n                border: \"none\",\n                background: \"transparent\",\n                cursor: \"pointer\"\n              },\n              title: \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n              \"aria-label\": \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n              children: \"\\uD83D\\uDEAA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) :\n          /*#__PURE__*/\n          /** ===================== โซนลูกค้า ===================== */\n          _jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: \"relative\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: \"/cart\",\n                title: \"\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n                \"aria-label\": \"\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n                children: \"\\uD83D\\uDED2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this), cartCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  position: \"absolute\",\n                  top: -6,\n                  right: -10,\n                  background: \"#ef4444\",\n                  color: \"#fff\",\n                  borderRadius: 999,\n                  fontSize: 12,\n                  minWidth: 18,\n                  height: 18,\n                  display: \"grid\",\n                  placeItems: \"center\",\n                  padding: \"0 4px\"\n                },\n                children: cartCount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => openProfile(\"orders\"),\n              style: {\n                border: \"none\",\n                background: \"transparent\",\n                cursor: \"pointer\",\n                fontSize: 18\n              },\n              title: \"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\",\n              \"aria-label\": \"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\",\n              children: \"\\uD83D\\uDCD1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => openProfile(\"profile\"),\n              style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: 8,\n                border: \"none\",\n                background: \"transparent\",\n                cursor: \"pointer\"\n              },\n              title: \"\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\",\n              \"aria-label\": \"\\u0E42\\u0E1B\\u0E23\\u0E44\\u0E1F\\u0E25\\u0E4C\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: avatar,\n                alt: \"avatar\",\n                onError: e => e.currentTarget.src = process.env.PUBLIC_URL + \"/logo.png\",\n                style: {\n                  width: 32,\n                  height: 32,\n                  borderRadius: 999,\n                  objectFit: \"cover\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: fullname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              style: {\n                border: \"none\",\n                background: \"transparent\",\n                cursor: \"pointer\"\n              },\n              title: \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n              \"aria-label\": \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n              children: \"\\uD83D\\uDEAA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), isAuth && !isAdminPath && showProfile && /*#__PURE__*/_jsxDEV(ProfileModal, {\n      initialTab: initialTab,\n      onClose: () => {\n        setShowProfile(false);\n        setFullname(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\n        setAvatar(localStorage.getItem(\"avatar_url\") || process.env.PUBLIC_URL + \"/profile.jpg\");\n        window.dispatchEvent(new Event(\"profile:changed\"));\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(HeaderClassic, \"6F5WPMc4OHh55xAGTbCbeYvmNrI=\", false, function () {\n  return [useLocation];\n});\n_c = HeaderClassic;\nvar _c;\n$RefreshReg$(_c, \"HeaderClassic\");","map":{"version":3,"names":["React","useState","useEffect","Link","useLocation","getCount","CART_EVENT","ProfileModal","jsxDEV","_jsxDEV","Fragment","_Fragment","SIGNUP_PATH","_import$meta","import","meta","_import$meta$env","env","VITE_SIGNUP_PATH","process","REACT_APP_SIGNUP_PATH","HeaderClassic","_s","location","isAdminPath","pathname","startsWith","isAuth","setIsAuth","localStorage","getItem","role","setRole","fullname","setFullname","avatar","setAvatar","PUBLIC_URL","cartCount","setCartCount","onChanged","window","addEventListener","removeEventListener","onStorage","showProfile","setShowProfile","initialTab","setInitialTab","openProfile","tab","logout","removeItem","dispatchEvent","Event","href","logoHref","children","style","display","alignItems","justifyContent","padding","borderBottom","background","position","top","zIndex","to","fontWeight","fontSize","color","textDecoration","fileName","_jsxFileName","lineNumber","columnNumber","gap","title","src","alt","onError","e","currentTarget","width","height","borderRadius","objectFit","onClick","border","cursor","right","minWidth","placeItems","onClose","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/components/HeaderClassic.js"],"sourcesContent":["// src/components/HeaderClassic.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { getCount, CART_EVENT } from \"../lib/cart\";\r\nimport ProfileModal from \"../pages/ProfileModal\";\r\n\r\n// ตั้ง path สมัครสมาชิกให้ตรงของจริงได้ผ่าน ENV\r\nconst SIGNUP_PATH =\r\n  (import.meta?.env?.VITE_SIGNUP_PATH) ||\r\n  (process.env.REACT_APP_SIGNUP_PATH) ||\r\n  \"/signup\";\r\n\r\nexport default function HeaderClassic() {\r\n  const location = useLocation();\r\n\r\n  // อยู่หน้าแอดมินหรือไม่ (เช็กจาก path)\r\n  const isAdminPath = location.pathname.startsWith(\"/admin\");\r\n\r\n  // สถานะการล็อกอิน + ชื่อ + รูปโปรไฟล์ + role\r\n  const [isAuth, setIsAuth] = useState(!!localStorage.getItem(\"token\"));\r\n  const [role, setRole] = useState(localStorage.getItem(\"role\") || \"\");\r\n  const [fullname, setFullname] = useState(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\r\n  const [avatar, setAvatar] = useState(\r\n    localStorage.getItem(\"avatar_url\") || (process.env.PUBLIC_URL + \"/profile.jpg\")\r\n  );\r\n\r\n  // จำนวนในตะกร้า (ใช้เฉพาะฝั่งลูกค้า)\r\n  const [cartCount, setCartCount] = useState(getCount());\r\n  useEffect(() => {\r\n    const onChanged = () => setCartCount(getCount());\r\n    window.addEventListener(CART_EVENT, onChanged);\r\n    return () => window.removeEventListener(CART_EVENT, onChanged);\r\n  }, []);\r\n\r\n  // sync เมื่อ auth/profile/role เปลี่ยน (รวมถึงจากแท็บอื่น)\r\n  useEffect(() => {\r\n    const onStorage = () => {\r\n      setIsAuth(!!localStorage.getItem(\"token\"));\r\n      setRole(localStorage.getItem(\"role\") || \"\");\r\n      setFullname(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\r\n      setAvatar(localStorage.getItem(\"avatar_url\") || (process.env.PUBLIC_URL + \"/profile.jpg\"));\r\n    };\r\n    window.addEventListener(\"storage\", onStorage);\r\n    window.addEventListener(\"auth:changed\", onStorage);\r\n    window.addEventListener(\"profile:changed\", onStorage);\r\n    return () => {\r\n      window.removeEventListener(\"storage\", onStorage);\r\n      window.removeEventListener(\"auth:changed\", onStorage);\r\n      window.removeEventListener(\"profile:changed\", onStorage);\r\n    };\r\n  }, []);\r\n\r\n  // รีเช็คทุกครั้งที่เปลี่ยนหน้า (กันกรณีลืมยิง event)\r\n  useEffect(() => {\r\n    setIsAuth(!!localStorage.getItem(\"token\"));\r\n    setRole(localStorage.getItem(\"role\") || \"\");\r\n    setFullname(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\r\n    setAvatar(localStorage.getItem(\"avatar_url\") || (process.env.PUBLIC_URL + \"/profile.jpg\"));\r\n    // eslint-disable-next-line\r\n  }, [location.pathname]);\r\n\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [initialTab, setInitialTab] = useState(\"profile\");\r\n  const openProfile = (tab = \"profile\") => {\r\n    // ❗️ห้ามเปิดโปรไฟล์โมดอลในโซนแอดมิน\r\n    if (isAdminPath) return;\r\n    setInitialTab(tab);\r\n    setShowProfile(true);\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\");\r\n    localStorage.removeItem(\"avatar_url\");\r\n    window.dispatchEvent(new Event(\"auth:changed\"));\r\n    // แยกเส้นทางหลังออกจากระบบให้เหมาะสม\r\n    window.location.href = isAdminPath ? \"/admin/login\" : \"/login\";\r\n  };\r\n\r\n  // โลโก้ลิงก์ไปที่ไหน: /admin ถ้าอยู่โซนแอดมิน, ไม่งั้น /\r\n  const logoHref = isAdminPath ? \"/admin\" : \"/\";\r\n\r\n  return (\r\n    <>\r\n      <header\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          padding: \"10px 16px\",\r\n          borderBottom: \"1px solid #e5e7eb\",\r\n          background: \"#fff\",\r\n          position: \"sticky\",\r\n          top: 0,\r\n          zIndex: 50,\r\n        }}\r\n      >\r\n        {/* โลโก้ */}\r\n        <Link\r\n          to={logoHref}\r\n          style={{ fontWeight: 700, fontSize: 20, color: \"#16a34a\", textDecoration: \"none\" }}\r\n        >\r\n          PRACH MAEJO\r\n        </Link>\r\n\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 16 }}>\r\n          {/* ผู้ใช้ยังไม่ล็อกอิน */}\r\n          {!isAuth ? (\r\n            <>\r\n              {/* ฝั่งแอดมิน: ชี้ไป /admin/login */}\r\n              {isAdminPath ? (\r\n                location.pathname !== \"/admin/login\" && <Link to=\"/admin/login\">เข้าสู่ระบบแอดมิน</Link>\r\n              ) : (\r\n                <>\r\n                  {location.pathname !== \"/login\" && <Link to=\"/login\">เข้าสู่ระบบ</Link>}\r\n                  {location.pathname !== SIGNUP_PATH && <Link to={SIGNUP_PATH}>สมัครสมาชิก</Link>}\r\n                </>\r\n              )}\r\n            </>\r\n          ) : (\r\n            // ผู้ใช้ล็อกอินแล้ว\r\n            <>\r\n              {/** ===================== โซนแอดมิน ===================== */}\r\n              {isAdminPath || role === \"admin\" ? (\r\n                <>\r\n                  {/* แสดงแค่ชื่อ + ปุ่มออกจากระบบ (ไม่โชว์ตะกร้า/ออเดอร์/โปรไฟล์โมดอล) */}\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      gap: 8,\r\n                      fontSize: 14,\r\n                      color: \"#111827\",\r\n                    }}\r\n                    title=\"Admin\"\r\n                    aria-label=\"Admin\"\r\n                  >\r\n                    <img\r\n                      src={avatar}\r\n                      alt=\"avatar\"\r\n                      onError={(e) => (e.currentTarget.src = process.env.PUBLIC_URL + \"/logo.png\")}\r\n                      style={{ width: 28, height: 28, borderRadius: 999, objectFit: \"cover\" }}\r\n                    />\r\n                    <span>{fullname || \"Admin\"}</span>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={logout}\r\n                    style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\" }}\r\n                    title=\"ออกจากระบบ\"\r\n                    aria-label=\"ออกจากระบบ\"\r\n                  >\r\n                    🚪\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                /** ===================== โซนลูกค้า ===================== */\r\n                <>\r\n                  {/* ตะกร้าสินค้า */}\r\n                  <div style={{ position: \"relative\" }}>\r\n                    <Link to=\"/cart\" title=\"ตะกร้าสินค้า\" aria-label=\"ตะกร้าสินค้า\">🛒</Link>\r\n                    {cartCount > 0 && (\r\n                      <span\r\n                        style={{\r\n                          position: \"absolute\",\r\n                          top: -6,\r\n                          right: -10,\r\n                          background: \"#ef4444\",\r\n                          color: \"#fff\",\r\n                          borderRadius: 999,\r\n                          fontSize: 12,\r\n                          minWidth: 18,\r\n                          height: 18,\r\n                          display: \"grid\",\r\n                          placeItems: \"center\",\r\n                          padding: \"0 4px\",\r\n                        }}\r\n                      >\r\n                        {cartCount}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* ประวัติคำสั่งซื้อ */}\r\n                  <button\r\n                    onClick={() => openProfile(\"orders\")}\r\n                    style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\", fontSize: 18 }}\r\n                    title=\"ประวัติคำสั่งซื้อ\"\r\n                    aria-label=\"ประวัติคำสั่งซื้อ\"\r\n                  >\r\n                    📑\r\n                  </button>\r\n\r\n                  {/* โปรไฟล์ */}\r\n                  <button\r\n                    onClick={() => openProfile(\"profile\")}\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      gap: 8,\r\n                      border: \"none\",\r\n                      background: \"transparent\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    title=\"โปรไฟล์\"\r\n                    aria-label=\"โปรไฟล์\"\r\n                  >\r\n                    <img\r\n                      src={avatar}\r\n                      alt=\"avatar\"\r\n                      onError={(e) => (e.currentTarget.src = process.env.PUBLIC_URL + \"/logo.png\")}\r\n                      style={{ width: 32, height: 32, borderRadius: 999, objectFit: \"cover\" }}\r\n                    />\r\n                    <span>{fullname}</span>\r\n                  </button>\r\n\r\n                  {/* ออกจากระบบ */}\r\n                  <button\r\n                    onClick={logout}\r\n                    style={{ border: \"none\", background: \"transparent\", cursor: \"pointer\" }}\r\n                    title=\"ออกจากระบบ\"\r\n                    aria-label=\"ออกจากระบบ\"\r\n                  >\r\n                    🚪\r\n                  </button>\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </header>\r\n\r\n      {/* เปิด ProfileModal เฉพาะตอนล็อกอิน และไม่ใช่โซนแอดมิน */}\r\n      {isAuth && !isAdminPath && showProfile && (\r\n        <ProfileModal\r\n          initialTab={initialTab}\r\n          onClose={() => {\r\n            setShowProfile(false);\r\n            setFullname(localStorage.getItem(\"fullname\") || \"ผู้ใช้งาน\");\r\n            setAvatar(localStorage.getItem(\"avatar_url\") || (process.env.PUBLIC_URL + \"/profile.jpg\"));\r\n            window.dispatchEvent(new Event(\"profile:changed\"));\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}