{"ast":null,"code":"var _s = $RefreshSig$();\n// ProductManagement.js\n// ✅ หน้าที่: จัดการสินค้า + ฟอร์มเพิ่ม/แก้ไข + ดรอปดาวประเภท/หมวดหมู่/สถานะ + จัดการประเภท/หมวดย่อย (CRUD)\n// ✅ Endpoint ที่ใช้:\n//    - Products:         GET/POST/PUT/DELETE  /api/admin/products\n//    - Categories:       GET/POST/PUT/DELETE  /api/categories\n//    - Subcategories:    GET/POST/PUT/DELETE  /api/subcategories\n//    - Product Statuses: GET                   /api/product-status\n//    - Upload:           POST                  /api/upload (อัปโหลดรูป)\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nfunction ProductManagement() {\n  _s();\n  // ---------- STATE หลักของหน้า ----------\n  const [products, setProducts] = useState([]); // รายการสินค้า (ใช้แสดงในตาราง)\n  const [categories, setCategories] = useState([]); // ประเภทหลัก\n  const [subcategories, setSubcategories] = useState([]); // หมวดหมู่ย่อย\n  const [statuses, setStatuses] = useState([]); // สถานะสินค้า (normalize เป็น {id, name})\n  const [selectedFile, setSelectedFile] = useState(null); // ไฟล์รูปที่เลือกอัปโหลด\n  const [isEditing, setIsEditing] = useState(false); // flag โหมดแก้ไขสินค้า\n  const [editProductId, setEditProductId] = useState(null); // product_id ที่กำลังแก้ไข\n\n  // ---------- STATE ฟอร์มจัดการประเภท/หมวดย่อย ----------\n  const [newCat, setNewCat] = useState({\n    category_id: '',\n    category_name: ''\n  }); // ฟอร์มเพิ่มประเภท\n  const [newSub, setNewSub] = useState({\n    subcategory_id: '',\n    subcategory_name: '',\n    category_id: ''\n  }); // ฟอร์มเพิ่มหมวดย่อย\n\n  // ---------- STATE ฟอร์มสินค้า ----------\n  const [form, setForm] = useState({\n    product_name: '',\n    description: '',\n    selling_price: '',\n    cost_price: '',\n    stock_quantity: '',\n    category_id: '',\n    subcategory_id: '',\n    image_url: '',\n    unit: '',\n    size: '',\n    origin: '',\n    product_status_id: '' // ใช้กับ dropdown สถานะ\n  });\n\n  // ---------- โหลดข้อมูลครั้งแรก ----------\n  useEffect(() => {\n    fetchProducts();\n    fetchCategories();\n    fetchSubcategories();\n    fetchStatuses();\n  }, []);\n\n  // ---------- LOADERS (เรียก API ดึงข้อมูล) ----------\n  const fetchProducts = async () => {\n    try {\n      const res = await axios.get('http://localhost:3001/api/admin/products');\n      setProducts(res.data);\n    } catch (err) {\n      console.error('❌ โหลดสินค้าไม่สำเร็จ:', err.message);\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const res = await axios.get('http://localhost:3001/api/categories');\n      setCategories(res.data);\n    } catch (err) {\n      console.error('❌ โหลดประเภทไม่สำเร็จ:', err.message);\n    }\n  };\n  const fetchSubcategories = async () => {\n    try {\n      const res = await axios.get('http://localhost:3001/api/subcategories');\n      setSubcategories(res.data);\n    } catch (err) {\n      console.error('❌ โหลดหมวดหมู่ไม่สำเร็จ:', err.message);\n    }\n  };\n  const fetchStatuses = async () => {\n    try {\n      const res = await axios.get('http://localhost:3001/api/product-status');\n      // normalize ให้เป็น {id, name} เผื่อ backend ใช้ชื่อคีย์ต่างกัน\n      const normalized = res.data.map(x => {\n        var _ref, _x$ProductStatusID, _ref2, _x$StatusName;\n        return {\n          id: (_ref = (_x$ProductStatusID = x.ProductStatusID) !== null && _x$ProductStatusID !== void 0 ? _x$ProductStatusID : x.product_status_id) !== null && _ref !== void 0 ? _ref : x.id,\n          name: (_ref2 = (_x$StatusName = x.StatusName) !== null && _x$StatusName !== void 0 ? _x$StatusName : x.status_name) !== null && _ref2 !== void 0 ? _ref2 : x.name\n        };\n      });\n      setStatuses(normalized);\n    } catch (err) {\n      console.error('❌ โหลดสถานะสินค้าไม่สำเร็จ:', err.message);\n    }\n  };\n\n  // ---------- FORM HANDLERS สินค้า ----------\n  const handleChange = e => {\n    // เปลี่ยน category แล้วล้าง subcategory กันค้างผิดประเภท\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: value,\n      ...(name === 'category_id' ? {\n        subcategory_id: ''\n      } : {})\n    }));\n  };\n  const handleImageChange = e => {\n    setSelectedFile(e.target.files[0]);\n  };\n  const handleEdit = product => {\n    // โหลดสินค้าเข้าฟอร์มเพื่อแก้ไข\n    setForm({\n      product_name: product.product_name,\n      description: product.description || '',\n      selling_price: product.selling_price,\n      cost_price: product.cost_price,\n      stock_quantity: product.stock_quantity || '',\n      category_id: product.category_id,\n      subcategory_id: product.subcategory_id,\n      image_url: product.image_url || '',\n      unit: product.unit || '',\n      size: product.size || '',\n      origin: product.origin || '',\n      product_status_id: product.product_status_id || product.ProductStatusID || ''\n    });\n    setIsEditing(true);\n    setEditProductId(product.product_id);\n  };\n  const clearForm = () => {\n    // เคลียร์ฟอร์ม + ออกจากโหมดแก้ไข\n    setForm({\n      product_name: '',\n      description: '',\n      selling_price: '',\n      cost_price: '',\n      stock_quantity: '',\n      category_id: '',\n      subcategory_id: '',\n      image_url: '',\n      unit: '',\n      size: '',\n      origin: '',\n      product_status_id: ''\n    });\n    setSelectedFile(null);\n    setIsEditing(false);\n    setEditProductId(null);\n  };\n  const handleSubmit = async e => {\n    // บันทึกสินค้า (เพิ่ม/แก้ไข)\n    e.preventDefault();\n\n    // อัปโหลดรูปก่อนถ้ามี\n    let imageUrl = form.image_url;\n    if (selectedFile) {\n      try {\n        const formData = new FormData();\n        formData.append('image', selectedFile);\n        const uploadRes = await axios.post('http://localhost:3001/api/upload', formData);\n        imageUrl = uploadRes.data.imageUrl;\n      } catch (err) {\n        console.error('❌ อัปโหลดภาพไม่สำเร็จ:', err.message);\n        return;\n      }\n    }\n\n    // บังคับเลขเป็น number\n    const dataToSend = {\n      ...form,\n      image_url: imageUrl,\n      selling_price: +form.selling_price || 0,\n      cost_price: +form.cost_price || 0,\n      stock_quantity: +form.stock_quantity || 0\n    };\n    try {\n      if (isEditing) {\n        await axios.put(`http://localhost:3001/api/admin/products/${editProductId}`, dataToSend);\n      } else {\n        await axios.post('http://localhost:3001/api/admin/products', dataToSend);\n      }\n      await fetchProducts();\n      clearForm();\n    } catch (err) {\n      var _err$response;\n      console.error('❌ บันทึกสินค้าไม่สำเร็จ:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n    }\n  };\n  const handleDelete = async id => {\n    // ลบสินค้า\n    if (window.confirm('คุณแน่ใจหรือไม่ว่าต้องการลบสินค้านี้?')) {\n      // ✅ ใช้ window.confirm ให้ผ่าน ESLint\n      try {\n        await axios.delete(`http://localhost:3001/api/admin/products/${id}`);\n        await fetchProducts();\n      } catch (err) {\n        console.error('❌ ลบสินค้าไม่สำเร็จ:', err.message);\n      }\n    }\n  };\n\n  // ---------- OPTIONS ของดรอปดาว ----------\n  const statusOptions = [/*#__PURE__*/React.createElement('option', {\n    key: '',\n    value: ''\n  }, '— เลือกสถานะ —'), ...statuses.map(s => /*#__PURE__*/React.createElement('option', {\n    key: s.id,\n    value: s.id\n  }, s.name || '(ไม่มีชื่อ)'))];\n  const categoryOptions = [/*#__PURE__*/React.createElement('option', {\n    key: '',\n    value: ''\n  }, 'เลือกประเภท'), ...categories.map(c => /*#__PURE__*/React.createElement('option', {\n    key: c.category_id,\n    value: c.category_id\n  }, c.category_name))];\n\n  // กรองหมวดย่อยตามประเภทที่เลือก\n  const filteredSubcategories = form.category_id ? subcategories.filter(s => s.category_id === form.category_id) : [];\n  const subcategoryOptions = [/*#__PURE__*/React.createElement('option', {\n    key: '',\n    value: ''\n  }, form.category_id ? 'เลือกหมวดหมู่' : 'เลือกประเภทก่อน'), ...filteredSubcategories.map(s => /*#__PURE__*/React.createElement('option', {\n    key: s.subcategory_id,\n    value: s.subcategory_id\n  }, s.subcategory_name))];\n\n  // ---------- CRUD: Categories ----------\n  const createCategory = async payload => {\n    // payload = { category_name, category_id? }\n    try {\n      const res = await axios.post('http://localhost:3001/api/categories', payload);\n      await Promise.all([fetchCategories(), fetchProducts()]); // รีเฟรช dropdown + ตารางสินค้า\n      return res.data;\n    } catch (err) {\n      var _err$response2, _err$response3, _err$response3$data;\n      console.error('เพิ่มประเภทล้มเหลว:', ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || err.message);\n      alert(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || 'เพิ่มประเภทไม่สำเร็จ');\n    }\n  };\n  const updateCategory = async (id, payload) => {\n    try {\n      const res = await axios.put(`http://localhost:3001/api/categories/${id}`, payload);\n      await Promise.all([fetchCategories(), fetchProducts()]); // ให้ชื่อในตารางสินค้าอัปเดตทันที\n      return res.data;\n    } catch (err) {\n      var _err$response4, _err$response5, _err$response5$data;\n      console.error('แก้ไขประเภทล้มเหลว:', ((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.data) || err.message);\n      alert(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.error) || 'แก้ไขประเภทไม่สำเร็จ');\n    }\n  };\n  const deleteCategory = async id => {\n    try {\n      await axios.delete(`http://localhost:3001/api/categories/${id}`);\n      await Promise.all([fetchCategories(), fetchProducts()]);\n    } catch (err) {\n      var _err$response6, _err$response6$data;\n      alert(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.error) || 'ลบประเภทไม่สำเร็จ'); // เช่น FK constraint\n    }\n  };\n\n  // ---------- CRUD: Subcategories ----------\n  const createSubcategory = async payload => {\n    // payload = { subcategory_name, category_id, subcategory_id? }\n    try {\n      const res = await axios.post('http://localhost:3001/api/subcategories', payload);\n      await Promise.all([fetchSubcategories(), fetchProducts()]);\n      return res.data;\n    } catch (err) {\n      var _err$response7, _err$response8, _err$response8$data;\n      console.error('เพิ่มหมวดย่อยล้มเหลว:', ((_err$response7 = err.response) === null || _err$response7 === void 0 ? void 0 : _err$response7.data) || err.message);\n      alert(((_err$response8 = err.response) === null || _err$response8 === void 0 ? void 0 : (_err$response8$data = _err$response8.data) === null || _err$response8$data === void 0 ? void 0 : _err$response8$data.error) || 'เพิ่มหมวดหมู่ย่อยไม่สำเร็จ');\n    }\n  };\n  const updateSubcategory = async (id, payload) => {\n    try {\n      const res = await axios.put(`http://localhost:3001/api/subcategories/${id}`, payload);\n      await Promise.all([fetchSubcategories(), fetchProducts()]);\n      return res.data;\n    } catch (err) {\n      var _err$response9, _err$response0, _err$response0$data;\n      console.error('แก้ไขหมวดย่อยล้มเหลว:', ((_err$response9 = err.response) === null || _err$response9 === void 0 ? void 0 : _err$response9.data) || err.message);\n      alert(((_err$response0 = err.response) === null || _err$response0 === void 0 ? void 0 : (_err$response0$data = _err$response0.data) === null || _err$response0$data === void 0 ? void 0 : _err$response0$data.error) || 'แก้ไขหมวดหมู่ย่อยไม่สำเร็จ');\n    }\n  };\n  const deleteSubcategory = async id => {\n    try {\n      await axios.delete(`http://localhost:3001/api/subcategories/${id}`);\n      await Promise.all([fetchSubcategories(), fetchProducts()]);\n    } catch (err) {\n      var _err$response1, _err$response1$data;\n      alert(((_err$response1 = err.response) === null || _err$response1 === void 0 ? void 0 : (_err$response1$data = _err$response1.data) === null || _err$response1$data === void 0 ? void 0 : _err$response1$data.error) || 'ลบหมวดหมู่ย่อยไม่สำเร็จ');\n    }\n  };\n\n  // ---------- บล็อก UI: จัดการ \"ประเภท\" ----------\n  const categoryAdmin = /*#__PURE__*/React.createElement('div', {\n    key: 'cat-admin',\n    style: {\n      marginTop: 24\n    }\n  }, [/*#__PURE__*/React.createElement('h3', {\n    key: 'h'\n  }, 'จัดการประเภท'),\n  /*#__PURE__*/\n  // ฟอร์มเพิ่มประเภท\n  React.createElement('div', {\n    key: 'form'\n  }, [/*#__PURE__*/React.createElement('input', {\n    key: 'cid',\n    placeholder: 'category_id (เว้นได้ให้ระบบ gen)',\n    value: newCat.category_id,\n    onChange: e => setNewCat({\n      ...newCat,\n      category_id: e.target.value\n    })\n  }), ' ', /*#__PURE__*/React.createElement('input', {\n    key: 'cname',\n    placeholder: 'category_name',\n    value: newCat.category_name,\n    onChange: e => setNewCat({\n      ...newCat,\n      category_name: e.target.value\n    })\n  }), ' ', /*#__PURE__*/React.createElement('button', {\n    key: 'cadd',\n    type: 'button',\n    // กัน submit ฟอร์มใหญ่\n    title: 'เพิ่มประเภทใหม่',\n    onClick: async () => {\n      var _newCat$category_id;\n      if (!newCat.category_name.trim()) return alert('ใส่ category_name ก่อน');\n      await createCategory({\n        category_id: ((_newCat$category_id = newCat.category_id) === null || _newCat$category_id === void 0 ? void 0 : _newCat$category_id.trim()) || undefined,\n        // ส่ง id ถ้ามี\n        category_name: newCat.category_name.trim()\n      });\n      setNewCat({\n        category_id: '',\n        category_name: ''\n      }); // เคลียร์ฟอร์ม\n    }\n  }, 'เพิ่มประเภท')]),\n  /*#__PURE__*/\n  // ตารางประเภท + ปุ่มแก้ไข/ลบ\n  React.createElement('table', {\n    key: 'ctbl',\n    border: 1,\n    style: {\n      marginTop: 8\n    }\n  }, /*#__PURE__*/React.createElement('tbody', {\n    key: 'ctbody'\n  }, categories.map(c => /*#__PURE__*/React.createElement('tr', {\n    key: c.category_id\n  }, [/*#__PURE__*/React.createElement('td', {\n    key: 'id'\n  }, c.category_id), /*#__PURE__*/React.createElement('td', {\n    key: 'name'\n  }, c.category_name), /*#__PURE__*/React.createElement('td', {\n    key: 'act'\n  }, [/*#__PURE__*/React.createElement('button', {\n    key: 'edit',\n    type: 'button',\n    onClick: async () => {\n      const name = window.prompt('ชื่อประเภทใหม่', c.category_name); // ✅ ใช้ window.prompt\n      if (name === null) return;\n      const trimmed = name.trim();\n      if (!trimmed || trimmed === c.category_name) return;\n      await updateCategory(c.category_id, {\n        category_name: trimmed\n      });\n    }\n  }, 'แก้ไข'), ' ', /*#__PURE__*/React.createElement('button', {\n    key: 'del',\n    type: 'button',\n    onClick: async () => {\n      if (window.confirm(`ลบประเภท \"${c.category_name}\" ?`)) {\n        // ✅ ใช้ window.confirm\n        await deleteCategory(c.category_id);\n      }\n    }\n  }, 'ลบ')])]))))]);\n\n  // ---------- บล็อก UI: จัดการ \"หมวดหมู่ย่อย\" ----------\n  const subcategoryAdmin = /*#__PURE__*/React.createElement('div', {\n    key: 'sub-admin',\n    style: {\n      marginTop: 24\n    }\n  }, [/*#__PURE__*/React.createElement('h3', {\n    key: 'h'\n  }, 'จัดการหมวดหมู่ย่อย'),\n  /*#__PURE__*/\n  // ฟอร์มเพิ่มหมวดย่อย\n  React.createElement('div', {\n    key: 'form'\n  }, [/*#__PURE__*/React.createElement('input', {\n    key: 'sid',\n    placeholder: 'subcategory_id (เว้นได้ให้ระบบ gen)',\n    value: newSub.subcategory_id,\n    onChange: e => setNewSub({\n      ...newSub,\n      subcategory_id: e.target.value\n    })\n  }), ' ', /*#__PURE__*/React.createElement('input', {\n    key: 'sname',\n    placeholder: 'subcategory_name',\n    value: newSub.subcategory_name,\n    onChange: e => setNewSub({\n      ...newSub,\n      subcategory_name: e.target.value\n    })\n  }), ' ', /*#__PURE__*/React.createElement('select', {\n    key: 'scat',\n    value: newSub.category_id || '',\n    onChange: e => setNewSub({\n      ...newSub,\n      category_id: e.target.value\n    })\n  }, [/*#__PURE__*/React.createElement('option', {\n    key: '',\n    value: ''\n  }, 'เลือกประเภทหลัก'), ...categories.map(c => /*#__PURE__*/React.createElement('option', {\n    key: c.category_id,\n    value: c.category_id\n  }, c.category_name))]), ' ', /*#__PURE__*/React.createElement('button', {\n    key: 'sadd',\n    type: 'button',\n    onClick: async () => {\n      var _newSub$subcategory_i;\n      if (!newSub.subcategory_name.trim() || !newSub.category_id) {\n        return alert('ใส่ชื่อหมวดย่อย + เลือกประเภทหลัก');\n      }\n      await createSubcategory({\n        subcategory_id: ((_newSub$subcategory_i = newSub.subcategory_id) === null || _newSub$subcategory_i === void 0 ? void 0 : _newSub$subcategory_i.trim()) || undefined,\n        subcategory_name: newSub.subcategory_name.trim(),\n        category_id: newSub.category_id.trim()\n      });\n      setNewSub({\n        subcategory_id: '',\n        subcategory_name: '',\n        category_id: ''\n      }); // เคลียร์ฟอร์ม\n    }\n  }, 'เพิ่มหมวดหมู่ย่อย')]),\n  /*#__PURE__*/\n  // ตารางหมวดย่อย + ปุ่มแก้ไข/ลบ\n  React.createElement('table', {\n    key: 'stbl',\n    border: 1,\n    style: {\n      marginTop: 8\n    }\n  }, /*#__PURE__*/React.createElement('tbody', {\n    key: 'stbody'\n  }, subcategories.map(s => /*#__PURE__*/React.createElement('tr', {\n    key: s.subcategory_id\n  }, [/*#__PURE__*/React.createElement('td', {\n    key: 'id'\n  }, s.subcategory_id), /*#__PURE__*/React.createElement('td', {\n    key: 'name'\n  }, s.subcategory_name), /*#__PURE__*/React.createElement('td', {\n    key: 'cat'\n  }, s.category_id), /*#__PURE__*/React.createElement('td', {\n    key: 'act'\n  }, [/*#__PURE__*/React.createElement('button', {\n    key: 'edit',\n    type: 'button',\n    onClick: async () => {\n      const name = window.prompt('ชื่อหมวดหมู่ย่อยใหม่', s.subcategory_name); // ✅ ใช้ window.prompt\n      if (!name) return;\n      const newCat = window.prompt('ย้ายไปประเภทไหน? (พิมพ์ category_id เช่น ro1 | เว้นว่าง=ไม่ย้าย)', s.category_id); // ✅ ใช้ window.prompt\n      const payload = {\n        subcategory_name: name.trim()\n      };\n      if (newCat !== null && newCat.trim() !== '' && newCat !== s.category_id) {\n        payload.category_id = newCat.trim(); // ย้ายประเภทถ้ากรอกมา\n      }\n      await updateSubcategory(s.subcategory_id, payload);\n    }\n  }, 'แก้ไข'), ' ', /*#__PURE__*/React.createElement('button', {\n    key: 'del',\n    type: 'button',\n    onClick: async () => {\n      if (window.confirm(`ลบหมวดหมู่ย่อย \"${s.subcategory_name}\" ?`)) {\n        // ✅ ใช้ window.confirm\n        await deleteSubcategory(s.subcategory_id);\n      }\n    }\n  }, 'ลบ')])]))))]);\n\n  // ---------- RENDER ----------\n  return /*#__PURE__*/React.createElement('div', null,\n  /*#__PURE__*/\n  // หัวข้อ\n  React.createElement('h2', null, isEditing ? 'แก้ไขสินค้า' : 'เพิ่มสินค้าใหม่'),\n  /*#__PURE__*/\n  // ฟอร์มสินค้า (onSubmit = handleSubmit)\n  React.createElement('form', {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement('input', {\n    name: 'product_name',\n    placeholder: 'ชื่อสินค้า',\n    value: form.product_name,\n    onChange: handleChange\n  }), /*#__PURE__*/React.createElement('textarea', {\n    name: 'description',\n    placeholder: 'คำอธิบายสินค้า',\n    value: form.description,\n    onChange: handleChange\n  }), /*#__PURE__*/React.createElement('input', {\n    name: 'selling_price',\n    placeholder: 'ราคาขาย',\n    value: form.selling_price,\n    onChange: handleChange,\n    type: 'number',\n    step: '0.01'\n  }), /*#__PURE__*/React.createElement('input', {\n    name: 'cost_price',\n    placeholder: 'ต้นทุน',\n    value: form.cost_price,\n    onChange: handleChange,\n    type: 'number',\n    step: '0.01'\n  }), /*#__PURE__*/React.createElement('input', {\n    name: 'stock_quantity',\n    placeholder: 'จำนวนคงเหลือในสต็อก',\n    value: form.stock_quantity,\n    onChange: handleChange,\n    type: 'number'\n  }), /*#__PURE__*/React.createElement('input', {\n    name: 'unit',\n    placeholder: 'หน่วยสินค้า',\n    value: form.unit,\n    onChange: handleChange\n  }), /*#__PURE__*/React.createElement('input', {\n    name: 'size',\n    placeholder: 'ขนาด',\n    value: form.size,\n    onChange: handleChange\n  }), /*#__PURE__*/React.createElement('input', {\n    name: 'origin',\n    placeholder: 'แหล่งที่มา',\n    value: form.origin,\n    onChange: handleChange\n  }),\n  /*#__PURE__*/\n  // สถานะ\n  React.createElement('select', {\n    name: 'product_status_id',\n    value: form.product_status_id || '',\n    onChange: handleChange\n  }, statusOptions),\n  /*#__PURE__*/\n  // ประเภท\n  React.createElement('select', {\n    name: 'category_id',\n    value: form.category_id || '',\n    onChange: handleChange\n  }, categoryOptions),\n  /*#__PURE__*/\n  // หมวดย่อย (disabled ถ้ายังไม่เลือกประเภท)\n  React.createElement('select', {\n    name: 'subcategory_id',\n    value: form.subcategory_id || '',\n    onChange: handleChange,\n    disabled: !form.category_id\n  }, subcategoryOptions),\n  /*#__PURE__*/\n  // URL รูป (กรณีไม่อัปโหลดไฟล์)\n  React.createElement('input', {\n    name: 'image_url',\n    placeholder: 'URL รูป (หากไม่อัปโหลด)',\n    value: form.image_url,\n    onChange: handleChange\n  }),\n  /*#__PURE__*/\n  // อัปโหลดไฟล์รูป\n  React.createElement('input', {\n    type: 'file',\n    onChange: handleImageChange\n  }),\n  /*#__PURE__*/\n  // ปุ่มบันทึกสินค้า\n  React.createElement('button', {\n    type: 'submit'\n  }, isEditing ? 'อัปเดต' : 'บันทึก')),\n  /*#__PURE__*/\n  // ตารางสินค้า\n  React.createElement('h2', null, 'รายการสินค้า'), /*#__PURE__*/React.createElement('table', {\n    border: 1\n  }, /*#__PURE__*/React.createElement('thead', null, /*#__PURE__*/React.createElement('tr', null, ['สินค้า', 'ราคา', 'คงเหลือ', 'หมวดหมู่', 'สถานะ', 'จัดการ'].map(h => /*#__PURE__*/React.createElement('th', {\n    key: h\n  }, h)))), /*#__PURE__*/React.createElement('tbody', null, products.map(p => /*#__PURE__*/React.createElement('tr', {\n    key: p.product_id\n  }, /*#__PURE__*/React.createElement('td', null, p.product_name), /*#__PURE__*/React.createElement('td', null, p.selling_price), /*#__PURE__*/React.createElement('td', null, p.stock_quantity), /*#__PURE__*/React.createElement('td', null, `${p.category_name || '-'} / ${p.subcategory_name || '-'}`), /*#__PURE__*/React.createElement('td', null, p.product_status_name || p.StatusName || ''), /*#__PURE__*/React.createElement('td', null, /*#__PURE__*/React.createElement('button', {\n    onClick: () => handleEdit(p)\n  }, 'แก้ไข'), ' ', /*#__PURE__*/React.createElement('button', {\n    onClick: () => handleDelete(p.product_id)\n  }, 'ลบ')))))),\n  // บล็อกจัดการประเภท/หมวดย่อย (อยู่นอก <form> ใหญ่)\n  categoryAdmin, subcategoryAdmin);\n}\n_s(ProductManagement, \"p1e3RmseeqXiGV04T6tzk+o1uao=\");\n_c = ProductManagement;\nexport default ProductManagement;\nvar _c;\n$RefreshReg$(_c, \"ProductManagement\");","map":{"version":3,"names":["React","useState","useEffect","axios","ProductManagement","_s","products","setProducts","categories","setCategories","subcategories","setSubcategories","statuses","setStatuses","selectedFile","setSelectedFile","isEditing","setIsEditing","editProductId","setEditProductId","newCat","setNewCat","category_id","category_name","newSub","setNewSub","subcategory_id","subcategory_name","form","setForm","product_name","description","selling_price","cost_price","stock_quantity","image_url","unit","size","origin","product_status_id","fetchProducts","fetchCategories","fetchSubcategories","fetchStatuses","res","get","data","err","console","error","message","normalized","map","x","_ref","_x$ProductStatusID","_ref2","_x$StatusName","id","ProductStatusID","name","StatusName","status_name","handleChange","e","value","target","prev","handleImageChange","files","handleEdit","product","product_id","clearForm","handleSubmit","preventDefault","imageUrl","formData","FormData","append","uploadRes","post","dataToSend","put","_err$response","response","handleDelete","window","confirm","delete","statusOptions","createElement","key","s","categoryOptions","c","filteredSubcategories","filter","subcategoryOptions","createCategory","payload","Promise","all","_err$response2","_err$response3","_err$response3$data","alert","updateCategory","_err$response4","_err$response5","_err$response5$data","deleteCategory","_err$response6","_err$response6$data","createSubcategory","_err$response7","_err$response8","_err$response8$data","updateSubcategory","_err$response9","_err$response0","_err$response0$data","deleteSubcategory","_err$response1","_err$response1$data","categoryAdmin","style","marginTop","placeholder","onChange","type","title","onClick","_newCat$category_id","trim","undefined","border","prompt","trimmed","subcategoryAdmin","_newSub$subcategory_i","onSubmit","step","disabled","h","p","product_status_name","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/admin/ProductManagement.js"],"sourcesContent":["// ProductManagement.js\r\n// ✅ หน้าที่: จัดการสินค้า + ฟอร์มเพิ่ม/แก้ไข + ดรอปดาวประเภท/หมวดหมู่/สถานะ + จัดการประเภท/หมวดย่อย (CRUD)\r\n// ✅ Endpoint ที่ใช้:\r\n//    - Products:         GET/POST/PUT/DELETE  /api/admin/products\r\n//    - Categories:       GET/POST/PUT/DELETE  /api/categories\r\n//    - Subcategories:    GET/POST/PUT/DELETE  /api/subcategories\r\n//    - Product Statuses: GET                   /api/product-status\r\n//    - Upload:           POST                  /api/upload (อัปโหลดรูป)\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction ProductManagement() {\r\n  // ---------- STATE หลักของหน้า ----------\r\n  const [products, setProducts] = useState([]);            // รายการสินค้า (ใช้แสดงในตาราง)\r\n  const [categories, setCategories] = useState([]);        // ประเภทหลัก\r\n  const [subcategories, setSubcategories] = useState([]);  // หมวดหมู่ย่อย\r\n  const [statuses, setStatuses] = useState([]);            // สถานะสินค้า (normalize เป็น {id, name})\r\n  const [selectedFile, setSelectedFile] = useState(null);  // ไฟล์รูปที่เลือกอัปโหลด\r\n  const [isEditing, setIsEditing] = useState(false);       // flag โหมดแก้ไขสินค้า\r\n  const [editProductId, setEditProductId] = useState(null);// product_id ที่กำลังแก้ไข\r\n\r\n  // ---------- STATE ฟอร์มจัดการประเภท/หมวดย่อย ----------\r\n  const [newCat, setNewCat] = useState({ category_id: '', category_name: '' }); // ฟอร์มเพิ่มประเภท\r\n  const [newSub, setNewSub] = useState({ subcategory_id: '', subcategory_name: '', category_id: '' }); // ฟอร์มเพิ่มหมวดย่อย\r\n\r\n  // ---------- STATE ฟอร์มสินค้า ----------\r\n  const [form, setForm] = useState({\r\n    product_name: '',\r\n    description: '',\r\n    selling_price: '',\r\n    cost_price: '',\r\n    stock_quantity: '',\r\n    category_id: '',\r\n    subcategory_id: '',\r\n    image_url: '',\r\n    unit: '',\r\n    size: '',\r\n    origin: '',\r\n    product_status_id: '' // ใช้กับ dropdown สถานะ\r\n  });\r\n\r\n  // ---------- โหลดข้อมูลครั้งแรก ----------\r\n  useEffect(() => {\r\n    fetchProducts();\r\n    fetchCategories();\r\n    fetchSubcategories();\r\n    fetchStatuses();\r\n  }, []);\r\n\r\n  // ---------- LOADERS (เรียก API ดึงข้อมูล) ----------\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:3001/api/admin/products');\r\n      setProducts(res.data);\r\n    } catch (err) {\r\n      console.error('❌ โหลดสินค้าไม่สำเร็จ:', err.message);\r\n    }\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:3001/api/categories');\r\n      setCategories(res.data);\r\n    } catch (err) {\r\n      console.error('❌ โหลดประเภทไม่สำเร็จ:', err.message);\r\n    }\r\n  };\r\n\r\n  const fetchSubcategories = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:3001/api/subcategories');\r\n      setSubcategories(res.data);\r\n    } catch (err) {\r\n      console.error('❌ โหลดหมวดหมู่ไม่สำเร็จ:', err.message);\r\n    }\r\n  };\r\n\r\n  const fetchStatuses = async () => {\r\n    try {\r\n      const res = await axios.get('http://localhost:3001/api/product-status');\r\n      // normalize ให้เป็น {id, name} เผื่อ backend ใช้ชื่อคีย์ต่างกัน\r\n      const normalized = res.data.map(x => ({\r\n        id:   x.ProductStatusID ?? x.product_status_id ?? x.id,\r\n        name: x.StatusName      ?? x.status_name      ?? x.name\r\n      }));\r\n      setStatuses(normalized);\r\n    } catch (err) {\r\n      console.error('❌ โหลดสถานะสินค้าไม่สำเร็จ:', err.message);\r\n    }\r\n  };\r\n\r\n  // ---------- FORM HANDLERS สินค้า ----------\r\n  const handleChange = (e) => {\r\n    // เปลี่ยน category แล้วล้าง subcategory กันค้างผิดประเภท\r\n    const { name, value } = e.target;\r\n    setForm(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n      ...(name === 'category_id' ? { subcategory_id: '' } : {})\r\n    }));\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleEdit = (product) => {\r\n    // โหลดสินค้าเข้าฟอร์มเพื่อแก้ไข\r\n    setForm({\r\n      product_name: product.product_name,\r\n      description: product.description || '',\r\n      selling_price: product.selling_price,\r\n      cost_price: product.cost_price,\r\n      stock_quantity: product.stock_quantity || '',\r\n      category_id: product.category_id,\r\n      subcategory_id: product.subcategory_id,\r\n      image_url: product.image_url || '',\r\n      unit: product.unit || '',\r\n      size: product.size || '',\r\n      origin: product.origin || '',\r\n      product_status_id: product.product_status_id || product.ProductStatusID || ''\r\n    });\r\n    setIsEditing(true);\r\n    setEditProductId(product.product_id);\r\n  };\r\n\r\n  const clearForm = () => {\r\n    // เคลียร์ฟอร์ม + ออกจากโหมดแก้ไข\r\n    setForm({\r\n      product_name: '',\r\n      description: '',\r\n      selling_price: '',\r\n      cost_price: '',\r\n      stock_quantity: '',\r\n      category_id: '',\r\n      subcategory_id: '',\r\n      image_url: '',\r\n      unit: '',\r\n      size: '',\r\n      origin: '',\r\n      product_status_id: ''\r\n    });\r\n    setSelectedFile(null);\r\n    setIsEditing(false);\r\n    setEditProductId(null);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    // บันทึกสินค้า (เพิ่ม/แก้ไข)\r\n    e.preventDefault();\r\n\r\n    // อัปโหลดรูปก่อนถ้ามี\r\n    let imageUrl = form.image_url;\r\n    if (selectedFile) {\r\n      try {\r\n        const formData = new FormData();\r\n        formData.append('image', selectedFile);\r\n        const uploadRes = await axios.post('http://localhost:3001/api/upload', formData);\r\n        imageUrl = uploadRes.data.imageUrl;\r\n      } catch (err) {\r\n        console.error('❌ อัปโหลดภาพไม่สำเร็จ:', err.message);\r\n        return;\r\n      }\r\n    }\r\n\r\n    // บังคับเลขเป็น number\r\n    const dataToSend = {\r\n      ...form,\r\n      image_url: imageUrl,\r\n      selling_price:  +form.selling_price || 0,\r\n      cost_price:     +form.cost_price || 0,\r\n      stock_quantity: +form.stock_quantity || 0\r\n    };\r\n\r\n    try {\r\n      if (isEditing) {\r\n        await axios.put(`http://localhost:3001/api/admin/products/${editProductId}`, dataToSend);\r\n      } else {\r\n        await axios.post('http://localhost:3001/api/admin/products', dataToSend);\r\n      }\r\n      await fetchProducts();\r\n      clearForm();\r\n    } catch (err) {\r\n      console.error('❌ บันทึกสินค้าไม่สำเร็จ:', err.response?.data || err.message);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    // ลบสินค้า\r\n    if (window.confirm('คุณแน่ใจหรือไม่ว่าต้องการลบสินค้านี้?')) { // ✅ ใช้ window.confirm ให้ผ่าน ESLint\r\n      try {\r\n        await axios.delete(`http://localhost:3001/api/admin/products/${id}`);\r\n        await fetchProducts();\r\n      } catch (err) {\r\n        console.error('❌ ลบสินค้าไม่สำเร็จ:', err.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  // ---------- OPTIONS ของดรอปดาว ----------\r\n  const statusOptions = [\r\n    React.createElement('option', { key: '', value: '' }, '— เลือกสถานะ —'),\r\n    ...statuses.map(s =>\r\n      React.createElement('option', { key: s.id, value: s.id }, s.name || '(ไม่มีชื่อ)')\r\n    )\r\n  ];\r\n\r\n  const categoryOptions = [\r\n    React.createElement('option', { key: '', value: '' }, 'เลือกประเภท'),\r\n    ...categories.map(c =>\r\n      React.createElement('option', { key: c.category_id, value: c.category_id }, c.category_name)\r\n    )\r\n  ];\r\n\r\n  // กรองหมวดย่อยตามประเภทที่เลือก\r\n  const filteredSubcategories = form.category_id\r\n    ? subcategories.filter(s => s.category_id === form.category_id)\r\n    : [];\r\n\r\n  const subcategoryOptions = [\r\n    React.createElement('option', { key: '', value: '' }, form.category_id ? 'เลือกหมวดหมู่' : 'เลือกประเภทก่อน'),\r\n    ...filteredSubcategories.map(s =>\r\n      React.createElement('option', { key: s.subcategory_id, value: s.subcategory_id }, s.subcategory_name)\r\n    )\r\n  ];\r\n\r\n  // ---------- CRUD: Categories ----------\r\n  const createCategory = async (payload) => {\r\n    // payload = { category_name, category_id? }\r\n    try {\r\n      const res = await axios.post('http://localhost:3001/api/categories', payload);\r\n      await Promise.all([fetchCategories(), fetchProducts()]); // รีเฟรช dropdown + ตารางสินค้า\r\n      return res.data;\r\n    } catch (err) {\r\n      console.error('เพิ่มประเภทล้มเหลว:', err.response?.data || err.message);\r\n      alert(err.response?.data?.error || 'เพิ่มประเภทไม่สำเร็จ');\r\n    }\r\n  };\r\n\r\n  const updateCategory = async (id, payload) => {\r\n    try {\r\n      const res = await axios.put(`http://localhost:3001/api/categories/${id}`, payload);\r\n      await Promise.all([fetchCategories(), fetchProducts()]); // ให้ชื่อในตารางสินค้าอัปเดตทันที\r\n      return res.data;\r\n    } catch (err) {\r\n      console.error('แก้ไขประเภทล้มเหลว:', err.response?.data || err.message);\r\n      alert(err.response?.data?.error || 'แก้ไขประเภทไม่สำเร็จ');\r\n    }\r\n  };\r\n\r\n  const deleteCategory = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:3001/api/categories/${id}`);\r\n      await Promise.all([fetchCategories(), fetchProducts()]);\r\n    } catch (err) {\r\n      alert(err.response?.data?.error || 'ลบประเภทไม่สำเร็จ'); // เช่น FK constraint\r\n    }\r\n  };\r\n\r\n  // ---------- CRUD: Subcategories ----------\r\n  const createSubcategory = async (payload) => {\r\n    // payload = { subcategory_name, category_id, subcategory_id? }\r\n    try {\r\n      const res = await axios.post('http://localhost:3001/api/subcategories', payload);\r\n      await Promise.all([fetchSubcategories(), fetchProducts()]);\r\n      return res.data;\r\n    } catch (err) {\r\n      console.error('เพิ่มหมวดย่อยล้มเหลว:', err.response?.data || err.message);\r\n      alert(err.response?.data?.error || 'เพิ่มหมวดหมู่ย่อยไม่สำเร็จ');\r\n    }\r\n  };\r\n\r\n  const updateSubcategory = async (id, payload) => {\r\n    try {\r\n      const res = await axios.put(`http://localhost:3001/api/subcategories/${id}`, payload);\r\n      await Promise.all([fetchSubcategories(), fetchProducts()]);\r\n      return res.data;\r\n    } catch (err) {\r\n      console.error('แก้ไขหมวดย่อยล้มเหลว:', err.response?.data || err.message);\r\n      alert(err.response?.data?.error || 'แก้ไขหมวดหมู่ย่อยไม่สำเร็จ');\r\n    }\r\n  };\r\n\r\n  const deleteSubcategory = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:3001/api/subcategories/${id}`);\r\n      await Promise.all([fetchSubcategories(), fetchProducts()]);\r\n    } catch (err) {\r\n      alert(err.response?.data?.error || 'ลบหมวดหมู่ย่อยไม่สำเร็จ');\r\n    }\r\n  };\r\n\r\n  // ---------- บล็อก UI: จัดการ \"ประเภท\" ----------\r\n  const categoryAdmin = React.createElement('div', { key: 'cat-admin', style: { marginTop: 24 } }, [\r\n    React.createElement('h3', { key: 'h' }, 'จัดการประเภท'),\r\n\r\n    // ฟอร์มเพิ่มประเภท\r\n    React.createElement('div', { key: 'form' }, [\r\n      React.createElement('input', {\r\n        key: 'cid',\r\n        placeholder: 'category_id (เว้นได้ให้ระบบ gen)',\r\n        value: newCat.category_id,\r\n        onChange: e => setNewCat({ ...newCat, category_id: e.target.value })\r\n      }),\r\n      ' ',\r\n      React.createElement('input', {\r\n        key: 'cname',\r\n        placeholder: 'category_name',\r\n        value: newCat.category_name,\r\n        onChange: e => setNewCat({ ...newCat, category_name: e.target.value })\r\n      }),\r\n      ' ',\r\n      React.createElement('button', {\r\n        key: 'cadd',\r\n        type: 'button', // กัน submit ฟอร์มใหญ่\r\n        title: 'เพิ่มประเภทใหม่',\r\n        onClick: async () => {\r\n          if (!newCat.category_name.trim()) return alert('ใส่ category_name ก่อน');\r\n          await createCategory({\r\n            category_id:  newCat.category_id?.trim() || undefined,  // ส่ง id ถ้ามี\r\n            category_name: newCat.category_name.trim()\r\n          });\r\n          setNewCat({ category_id: '', category_name: '' });        // เคลียร์ฟอร์ม\r\n        }\r\n      }, 'เพิ่มประเภท'),\r\n    ]),\r\n\r\n    // ตารางประเภท + ปุ่มแก้ไข/ลบ\r\n    React.createElement('table', { key: 'ctbl', border: 1, style: { marginTop: 8 } },\r\n      React.createElement('tbody', { key: 'ctbody' },\r\n        categories.map(c => React.createElement('tr', { key: c.category_id }, [\r\n          React.createElement('td', { key: 'id' }, c.category_id),\r\n          React.createElement('td', { key: 'name' }, c.category_name),\r\n          React.createElement('td', { key: 'act' }, [\r\n            React.createElement('button', {\r\n              key: 'edit',\r\n              type: 'button',\r\n              onClick: async () => {\r\n                const name = window.prompt('ชื่อประเภทใหม่', c.category_name); // ✅ ใช้ window.prompt\r\n                if (name === null) return;\r\n                const trimmed = name.trim();\r\n                if (!trimmed || trimmed === c.category_name) return;\r\n                await updateCategory(c.category_id, { category_name: trimmed });\r\n              }\r\n            }, 'แก้ไข'),\r\n            ' ',\r\n            React.createElement('button', {\r\n              key: 'del',\r\n              type: 'button',\r\n              onClick: async () => {\r\n                if (window.confirm(`ลบประเภท \"${c.category_name}\" ?`)) {     // ✅ ใช้ window.confirm\r\n                  await deleteCategory(c.category_id);\r\n                }\r\n              }\r\n            }, 'ลบ'),\r\n          ])\r\n        ]))\r\n      )\r\n    )\r\n  ]);\r\n\r\n  // ---------- บล็อก UI: จัดการ \"หมวดหมู่ย่อย\" ----------\r\n  const subcategoryAdmin = React.createElement('div', { key: 'sub-admin', style: { marginTop: 24 } }, [\r\n    React.createElement('h3', { key: 'h' }, 'จัดการหมวดหมู่ย่อย'),\r\n\r\n    // ฟอร์มเพิ่มหมวดย่อย\r\n    React.createElement('div', { key: 'form' }, [\r\n      React.createElement('input', {\r\n        key: 'sid',\r\n        placeholder: 'subcategory_id (เว้นได้ให้ระบบ gen)',\r\n        value: newSub.subcategory_id,\r\n        onChange: e => setNewSub({ ...newSub, subcategory_id: e.target.value })\r\n      }),\r\n      ' ',\r\n      React.createElement('input', {\r\n        key: 'sname',\r\n        placeholder: 'subcategory_name',\r\n        value: newSub.subcategory_name,\r\n        onChange: e => setNewSub({ ...newSub, subcategory_name: e.target.value })\r\n      }),\r\n      ' ',\r\n      React.createElement('select', {\r\n        key: 'scat',\r\n        value: newSub.category_id || '',\r\n        onChange: e => setNewSub({ ...newSub, category_id: e.target.value })\r\n      }, [\r\n        React.createElement('option', { key: '', value: '' }, 'เลือกประเภทหลัก'),\r\n        ...categories.map(c =>\r\n          React.createElement('option', { key: c.category_id, value: c.category_id }, c.category_name)\r\n        )\r\n      ]),\r\n      ' ',\r\n      React.createElement('button', {\r\n        key: 'sadd',\r\n        type: 'button',\r\n        onClick: async () => {\r\n          if (!newSub.subcategory_name.trim() || !newSub.category_id) {\r\n            return alert('ใส่ชื่อหมวดย่อย + เลือกประเภทหลัก');\r\n          }\r\n          await createSubcategory({\r\n            subcategory_id:  newSub.subcategory_id?.trim() || undefined,\r\n            subcategory_name: newSub.subcategory_name.trim(),\r\n            category_id: newSub.category_id.trim()\r\n          });\r\n          setNewSub({ subcategory_id: '', subcategory_name: '', category_id: '' }); // เคลียร์ฟอร์ม\r\n        }\r\n      }, 'เพิ่มหมวดหมู่ย่อย'),\r\n    ]),\r\n\r\n    // ตารางหมวดย่อย + ปุ่มแก้ไข/ลบ\r\n    React.createElement('table', { key: 'stbl', border: 1, style: { marginTop: 8 } },\r\n      React.createElement('tbody', { key: 'stbody' },\r\n        subcategories.map(s => React.createElement('tr', { key: s.subcategory_id }, [\r\n          React.createElement('td', { key: 'id' }, s.subcategory_id),\r\n          React.createElement('td', { key: 'name' }, s.subcategory_name),\r\n          React.createElement('td', { key: 'cat' }, s.category_id),\r\n          React.createElement('td', { key: 'act' }, [\r\n            React.createElement('button', {\r\n              key: 'edit',\r\n              type: 'button',\r\n              onClick: async () => {\r\n                const name = window.prompt('ชื่อหมวดหมู่ย่อยใหม่', s.subcategory_name); // ✅ ใช้ window.prompt\r\n                if (!name) return;\r\n                const newCat = window.prompt('ย้ายไปประเภทไหน? (พิมพ์ category_id เช่น ro1 | เว้นว่าง=ไม่ย้าย)', s.category_id); // ✅ ใช้ window.prompt\r\n                const payload = { subcategory_name: name.trim() };\r\n                if (newCat !== null && newCat.trim() !== '' && newCat !== s.category_id) {\r\n                  payload.category_id = newCat.trim(); // ย้ายประเภทถ้ากรอกมา\r\n                }\r\n                await updateSubcategory(s.subcategory_id, payload);\r\n              }\r\n            }, 'แก้ไข'),\r\n            ' ',\r\n            React.createElement('button', {\r\n              key: 'del',\r\n              type: 'button',\r\n              onClick: async () => {\r\n                if (window.confirm(`ลบหมวดหมู่ย่อย \"${s.subcategory_name}\" ?`)) { // ✅ ใช้ window.confirm\r\n                  await deleteSubcategory(s.subcategory_id);\r\n                }\r\n              }\r\n            }, 'ลบ'),\r\n          ])\r\n        ]))\r\n      )\r\n    )\r\n  ]);\r\n\r\n  // ---------- RENDER ----------\r\n  return React.createElement('div', null,\r\n    // หัวข้อ\r\n    React.createElement('h2', null, isEditing ? 'แก้ไขสินค้า' : 'เพิ่มสินค้าใหม่'),\r\n\r\n    // ฟอร์มสินค้า (onSubmit = handleSubmit)\r\n    React.createElement('form', { onSubmit: handleSubmit },\r\n\r\n      React.createElement('input', {\r\n        name: 'product_name', placeholder: 'ชื่อสินค้า',\r\n        value: form.product_name, onChange: handleChange\r\n      }),\r\n\r\n      React.createElement('textarea', {\r\n        name: 'description', placeholder: 'คำอธิบายสินค้า',\r\n        value: form.description, onChange: handleChange\r\n      }),\r\n\r\n      React.createElement('input', {\r\n        name: 'selling_price', placeholder: 'ราคาขาย',\r\n        value: form.selling_price, onChange: handleChange, type: 'number', step: '0.01'\r\n      }),\r\n\r\n      React.createElement('input', {\r\n        name: 'cost_price', placeholder: 'ต้นทุน',\r\n        value: form.cost_price, onChange: handleChange, type: 'number', step: '0.01'\r\n      }),\r\n\r\n      React.createElement('input', {\r\n        name: 'stock_quantity', placeholder: 'จำนวนคงเหลือในสต็อก',\r\n        value: form.stock_quantity, onChange: handleChange, type: 'number'\r\n      }),\r\n\r\n      React.createElement('input', {\r\n        name: 'unit', placeholder: 'หน่วยสินค้า',\r\n        value: form.unit, onChange: handleChange\r\n      }),\r\n\r\n      React.createElement('input', {\r\n        name: 'size', placeholder: 'ขนาด',\r\n        value: form.size, onChange: handleChange\r\n      }),\r\n\r\n      React.createElement('input', {\r\n        name: 'origin', placeholder: 'แหล่งที่มา',\r\n        value: form.origin, onChange: handleChange\r\n      }),\r\n\r\n      // สถานะ\r\n      React.createElement('select', {\r\n        name: 'product_status_id',\r\n        value: form.product_status_id || '',\r\n        onChange: handleChange\r\n      }, statusOptions),\r\n\r\n      // ประเภท\r\n      React.createElement('select', {\r\n        name: 'category_id',\r\n        value: form.category_id || '',\r\n        onChange: handleChange\r\n      }, categoryOptions),\r\n\r\n      // หมวดย่อย (disabled ถ้ายังไม่เลือกประเภท)\r\n      React.createElement('select', {\r\n        name: 'subcategory_id',\r\n        value: form.subcategory_id || '',\r\n        onChange: handleChange,\r\n        disabled: !form.category_id\r\n      }, subcategoryOptions),\r\n\r\n      // URL รูป (กรณีไม่อัปโหลดไฟล์)\r\n      React.createElement('input', {\r\n        name: 'image_url', placeholder: 'URL รูป (หากไม่อัปโหลด)',\r\n        value: form.image_url, onChange: handleChange\r\n      }),\r\n\r\n      // อัปโหลดไฟล์รูป\r\n      React.createElement('input', { type: 'file', onChange: handleImageChange }),\r\n\r\n      // ปุ่มบันทึกสินค้า\r\n      React.createElement('button', { type: 'submit' }, isEditing ? 'อัปเดต' : 'บันทึก')\r\n    ),\r\n\r\n    // ตารางสินค้า\r\n    React.createElement('h2', null, 'รายการสินค้า'),\r\n    React.createElement('table', { border: 1 },\r\n      React.createElement('thead', null,\r\n        React.createElement('tr', null,\r\n          ['สินค้า', 'ราคา', 'คงเหลือ', 'หมวดหมู่', 'สถานะ', 'จัดการ']\r\n            .map(h => React.createElement('th', { key: h }, h))\r\n        )\r\n      ),\r\n      React.createElement('tbody', null,\r\n        products.map(p => React.createElement('tr', { key: p.product_id },\r\n          React.createElement('td', null, p.product_name),\r\n          React.createElement('td', null, p.selling_price),\r\n          React.createElement('td', null, p.stock_quantity),\r\n          React.createElement('td', null, `${p.category_name || '-'} / ${p.subcategory_name || '-'}`),\r\n          React.createElement('td', null, p.product_status_name || p.StatusName || ''),\r\n          React.createElement('td', null,\r\n            React.createElement('button', { onClick: () => handleEdit(p) }, 'แก้ไข'),\r\n            ' ',\r\n            React.createElement('button', { onClick: () => handleDelete(p.product_id) }, 'ลบ')\r\n          )\r\n        ))\r\n      )\r\n    ),\r\n\r\n    // บล็อกจัดการประเภท/หมวดย่อย (อยู่นอก <form> ใหญ่)\r\n    categoryAdmin,\r\n    subcategoryAdmin\r\n  );\r\n}\r\n\r\nexport default ProductManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}