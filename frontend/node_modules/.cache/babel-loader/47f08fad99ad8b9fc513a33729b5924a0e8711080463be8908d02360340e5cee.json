{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\HomeUser.js\",\n  _s = $RefreshSig$();\n// src/pages/HomeUser.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './HomeUser.css';\nimport { addItem as addToCart } from '../lib/cart';\n\n/* -------------------- Fallback -------------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FALLBACK_CATEGORIES = [{\n  id: 'PLT',\n  slug: 'plants',\n  name: 'ต้นไม้',\n  image: process.env.PUBLIC_URL + '/tonmai.jpg'\n}, {\n  id: 'TLS',\n  slug: 'tools',\n  name: 'อุปกรณ์เพาะปลูก',\n  image: process.env.PUBLIC_URL + '/opakorn.jpg'\n}];\nconst FALLBACK_BEST = [{\n  id: 1,\n  name: 'ต้นกล้าลำใยคริสตัล',\n  price: 250,\n  img: process.env.PUBLIC_URL + '/lamyai.jpg'\n}, {\n  id: 2,\n  name: 'ต้นพญานาคราช',\n  price: 150,\n  img: process.env.PUBLIC_URL + '/payanaka1.jpg'\n}, {\n  id: 3,\n  name: 'กระถางมินิมอล',\n  price: 300,\n  img: process.env.PUBLIC_URL + '/katar.jpeg'\n}, {\n  id: 4,\n  name: 'ดินสูตรทางร้าน',\n  price: 99,\n  img: process.env.PUBLIC_URL + '/din.jpg'\n}];\nexport default function HomeUser() {\n  _s();\n  const apiPath = p => (axios.defaults.baseURL || '').replace(/\\/+$/, '').endsWith('/api') ? p : '/api' + p;\n  const [categories, setCategories] = useState([]);\n  const [bestSellers, setBestSellers] = useState([]);\n  const [loading, setLoading] = useState({\n    cat: true,\n    best: true,\n    allByCat: false\n  });\n  const [errMsg, setErrMsg] = useState('');\n\n  // เก็บสินค้าตามหมวด: { [key]: Product[] }\n  const [productsByCat, setProductsByCat] = useState({});\n  const [loadingByCat, setLoadingByCat] = useState({}); // { [key]: boolean }\n\n  /* -------------------- โหลดหมวดหมู่จากฐานข้อมูลจริง -------------------- */\n  useEffect(() => {\n    (async () => {\n      const normalizeCat = (c, idx) => {\n        var _ref, _ref2, _ref3, _c$category_id, _ref4, _ref5, _ref6, _c$category_name, _ref7, _c$slug, _c$code;\n        const cid = (_ref = (_ref2 = (_ref3 = (_c$category_id = c.category_id) !== null && _c$category_id !== void 0 ? _c$category_id : c.id) !== null && _ref3 !== void 0 ? _ref3 : c.code) !== null && _ref2 !== void 0 ? _ref2 : c.slug) !== null && _ref !== void 0 ? _ref : `cat-${idx}`;\n        const rawName = ((_ref4 = (_ref5 = (_ref6 = (_c$category_name = c.category_name) !== null && _c$category_name !== void 0 ? _c$category_name : c.name_th) !== null && _ref6 !== void 0 ? _ref6 : c.name) !== null && _ref5 !== void 0 ? _ref5 : c.title) !== null && _ref4 !== void 0 ? _ref4 : '').toString().trim() || 'ไม่ระบุชื่อ';\n        const guessSlug = (_ref7 = (_c$slug = c.slug) !== null && _c$slug !== void 0 ? _c$slug : rawName.includes('อุปกรณ์') ? 'tools' : rawName.includes('ต้นไม้') ? 'plants' : undefined) !== null && _ref7 !== void 0 ? _ref7 : String(cid).toLowerCase();\n        return {\n          id: String(cid),\n          code: ((_c$code = c.code) !== null && _c$code !== void 0 ? _c$code : '').toString().toUpperCase(),\n          slug: guessSlug,\n          name: rawName,\n          image: c.image_url || c.image || c.cover || c.thumbnail || (guessSlug === 'tools' ? process.env.PUBLIC_URL + '/opakorn.jpg' : process.env.PUBLIC_URL + '/tonmai.jpg')\n        };\n      };\n      async function loadFromLookups() {\n        try {\n          const r = await axios.get(apiPath('/lookups?published=1'));\n          const data = r.data || {};\n          const list = Array.isArray(data.product_categories) ? data.product_categories : Array.isArray(data.categories) ? data.categories : [];\n          if (!list.length) return null;\n          return list.map(normalizeCat);\n        } catch {\n          return null;\n        }\n      }\n      async function loadFromCategoriesApi() {\n        try {\n          var _r$data;\n          const r = await axios.get(apiPath('/categories?status=active'));\n          const arr = (Array.isArray((_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.data) ? r.data.data : r.data) || [];\n          if (!arr.length) return null;\n          return arr.map(normalizeCat);\n        } catch {\n          return null;\n        }\n      }\n      try {\n        setLoading(s => ({\n          ...s,\n          cat: true\n        }));\n        let cats = (await loadFromLookups()) || (await loadFromCategoriesApi()) || [];\n\n        // เรียงให้ \"ต้นไม้/PLT\" มาก่อน \"อุปกรณ์/TLS\"\n        const priorityOrder = ['PLT', 'PLANTS', 'plants', 'TLS', 'TOOLS', 'tools'];\n        cats.sort((a, b) => {\n          const ai = priorityOrder.findIndex(k => {\n            var _a$code, _a$slug;\n            return [(_a$code = a.code) === null || _a$code === void 0 ? void 0 : _a$code.toUpperCase(), (_a$slug = a.slug) === null || _a$slug === void 0 ? void 0 : _a$slug.toLowerCase()].includes(String(k).toLowerCase());\n          });\n          const bi = priorityOrder.findIndex(k => {\n            var _b$code, _b$slug;\n            return [(_b$code = b.code) === null || _b$code === void 0 ? void 0 : _b$code.toUpperCase(), (_b$slug = b.slug) === null || _b$slug === void 0 ? void 0 : _b$slug.toLowerCase()].includes(String(k).toLowerCase());\n          });\n          return (ai === -1 ? 999 : ai) - (bi === -1 ? 999 : bi);\n        });\n\n        // เอาอย่างน้อย 2 หมวดหลัก\n        if (!cats.length) cats = FALLBACK_CATEGORIES;\n        setCategories(cats.slice(0, 2));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          cat: false\n        }));\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /* -------------------- โหลดสินค้าขายดี (แสดง 5 ชิ้น) -------------------- */\n  useEffect(() => {\n    (async () => {\n      const normalizeProduct = (p, idx) => {\n        var _ref8, _ref9, _p$product_id, _ref0, _ref1, _ref10, _p$product_name, _ref11, _ref12, _ref13, _p$selling_price;\n        return {\n          id: (_ref8 = (_ref9 = (_p$product_id = p.product_id) !== null && _p$product_id !== void 0 ? _p$product_id : p.id) !== null && _ref9 !== void 0 ? _ref9 : p._id) !== null && _ref8 !== void 0 ? _ref8 : `p-${idx}`,\n          name: (_ref0 = (_ref1 = (_ref10 = (_p$product_name = p.product_name) !== null && _p$product_name !== void 0 ? _p$product_name : p.name_th) !== null && _ref10 !== void 0 ? _ref10 : p.name) !== null && _ref1 !== void 0 ? _ref1 : p.title) !== null && _ref0 !== void 0 ? _ref0 : 'สินค้า',\n          price: Number((_ref11 = (_ref12 = (_ref13 = (_p$selling_price = p.selling_price) !== null && _p$selling_price !== void 0 ? _p$selling_price : p.price) !== null && _ref13 !== void 0 ? _ref13 : p.sale_price) !== null && _ref12 !== void 0 ? _ref12 : p.amount) !== null && _ref11 !== void 0 ? _ref11 : 0),\n          img: p.image_url || p.image || p.cover || p.thumbnail || (Array.isArray(p.images) ? p.images[0] : '') || process.env.PUBLIC_URL + '/logo.png'\n        };\n      };\n      async function tryFetch(url) {\n        try {\n          var _r$data2;\n          const r = await axios.get(url);\n          const arr = (Array.isArray((_r$data2 = r.data) === null || _r$data2 === void 0 ? void 0 : _r$data2.data) ? r.data.data : r.data) || [];\n          const mapped = arr.map((p, i) => normalizeProduct(p, i)).filter(x => x.id && x.name);\n          if (mapped.length) return mapped;\n        } catch {}\n        return null;\n      }\n      try {\n        var _products;\n        setLoading(s => ({\n          ...s,\n          best: true\n        }));\n        const urls = [apiPath('/products/best-sellers?limit=5'), apiPath('/products?sort=popular&limit=5'), apiPath('/products?featured=1&limit=5')];\n        let products = null;\n        for (const u of urls) {\n          products = await tryFetch(u);\n          if (products) break;\n        }\n        setBestSellers(((_products = products) === null || _products === void 0 ? void 0 : _products.slice(0, 5)) || FALLBACK_BEST.slice(0, 5));\n      } catch {\n        setBestSellers(FALLBACK_BEST.slice(0, 5));\n        setErrMsg('แสดงข้อมูลจากตัวอย่างชั่วคราว');\n      } finally {\n        setLoading(s => ({\n          ...s,\n          best: false\n        }));\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /* -------------------- โหลด “สินค้าทั้งหมด (แยกตามหมวด)” -------------------- */\n  const catKeys = useMemo(() => categories.map(c => ({\n    key: c.slug || c.code || c.id,\n    label: c.name,\n    image: c.image\n  })), [categories]);\n  useEffect(() => {\n    if (!catKeys.length) return;\n    (async () => {\n      setLoading(s => ({\n        ...s,\n        allByCat: true\n      }));\n      const normalizeProduct = (p, idx) => {\n        var _ref14, _ref15, _p$product_id2, _ref16, _ref17, _ref18, _p$product_name2, _ref19, _ref20, _ref21, _p$selling_price2;\n        return {\n          id: (_ref14 = (_ref15 = (_p$product_id2 = p.product_id) !== null && _p$product_id2 !== void 0 ? _p$product_id2 : p.id) !== null && _ref15 !== void 0 ? _ref15 : p._id) !== null && _ref14 !== void 0 ? _ref14 : `p-${idx}`,\n          name: (_ref16 = (_ref17 = (_ref18 = (_p$product_name2 = p.product_name) !== null && _p$product_name2 !== void 0 ? _p$product_name2 : p.name_th) !== null && _ref18 !== void 0 ? _ref18 : p.name) !== null && _ref17 !== void 0 ? _ref17 : p.title) !== null && _ref16 !== void 0 ? _ref16 : 'สินค้า',\n          price: Number((_ref19 = (_ref20 = (_ref21 = (_p$selling_price2 = p.selling_price) !== null && _p$selling_price2 !== void 0 ? _p$selling_price2 : p.price) !== null && _ref21 !== void 0 ? _ref21 : p.sale_price) !== null && _ref20 !== void 0 ? _ref20 : p.amount) !== null && _ref19 !== void 0 ? _ref19 : 0),\n          img: p.image_url || p.image || p.cover || p.thumbnail || (Array.isArray(p.images) ? p.images[0] : '') || process.env.PUBLIC_URL + '/logo.png'\n        };\n      };\n      const nextMap = {};\n      for (const {\n        key\n      } of catKeys) {\n        const q = encodeURIComponent(key);\n        setLoadingByCat(m => ({\n          ...m,\n          [key]: true\n        }));\n\n        // ลองหลาย endpoint เพื่อความเข้ากันได้\n        const urls = [apiPath(`/products?category=${q}&limit=12`), apiPath(`/products/by-category/${q}?limit=12`)];\n        let got = [];\n        for (const u of urls) {\n          try {\n            var _r$data3;\n            const r = await axios.get(u);\n            const arr = (Array.isArray((_r$data3 = r.data) === null || _r$data3 === void 0 ? void 0 : _r$data3.data) ? r.data.data : r.data) || [];\n            if (arr.length) {\n              got = arr.map(normalizeProduct);\n              break;\n            }\n          } catch {}\n        }\n        nextMap[key] = got;\n        setLoadingByCat(m => ({\n          ...m,\n          [key]: false\n        }));\n      }\n      setProductsByCat(nextMap);\n      setLoading(s => ({\n        ...s,\n        allByCat: false\n      }));\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [catKeys.length]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"search-btn\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero\",\n      style: {\n        backgroundImage: `url(${process.env.PUBLIC_URL + '/p2.png'})`,\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: 'cover'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"\\u201C\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"highlight\",\n            children: \"\\u0E23\\u0E49\\u0E32\\u0E19\\u0E1B\\u0E23\\u0E32\\u0E0A\\u0E0D\\u0E4C\\u0E41\\u0E21\\u0E48\\u0E42\\u0E08\\u0E49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 16\n          }, this), \"\\u201D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0E41\\u0E2B\\u0E25\\u0E48\\u0E07\\u0E1C\\u0E25\\u0E34\\u0E15\\u0E41\\u0E25\\u0E30\\u0E08\\u0E31\\u0E14\\u0E08\\u0E33\\u0E2B\\u0E19\\u0E48\\u0E32\\u0E22 \\u0E15\\u0E49\\u0E19\\u0E44\\u0E21\\u0E49 \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 43\n          }, this), \"\\u0E41\\u0E25\\u0E30\\u0E27\\u0E31\\u0E2A\\u0E14\\u0E38\\u0E1B\\u0E25\\u0E39\\u0E01 \\u0E21\\u0E32\\u0E01\\u0E01\\u0E27\\u0E48\\u0E32 100 \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"categories\",\n      children: (loading.cat ? FALLBACK_CATEGORIES : categories).map((cat, idx) => {\n        const q = encodeURIComponent(cat.slug || cat.code || cat.id);\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: `/products?category=${q}`,\n          className: \"category-card\",\n          title: cat.name,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: cat.image,\n            alt: cat.name,\n            onError: e => {\n              e.currentTarget.src = (cat.slug || '').toLowerCase() === 'tools' ? process.env.PUBLIC_URL + '/opakorn.jpg' : process.env.PUBLIC_URL + '/tonmai.jpg';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: cat.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this)]\n        }, cat.id || cat.slug || `cat-${idx}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"best-sellers\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDF1F \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E02\\u0E32\\u0E22\\u0E14\\u0E35\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), errMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: errMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: (loading.best ? FALLBACK_BEST.slice(0, 5) : bestSellers).map((item, idx) => {\n          var _item$id;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.img,\n              alt: item.name,\n              onError: e => {\n                e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [Number(item.price).toLocaleString(), \" \\u0E1A\\u0E32\\u0E17\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-add\",\n              onClick: () => addToCart(item),\n              children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, (_item$id = item.id) !== null && _item$id !== void 0 ? _item$id : `best-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"all-products-by-cat\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDED2 \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 (\\u0E41\\u0E22\\u0E01\\u0E15\\u0E32\\u0E21\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), catKeys.map(({\n        key,\n        label\n      }) => {\n        const list = productsByCat[key] || [];\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cat-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cat-block-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/products?category=${encodeURIComponent(key)}`,\n              className: \"see-all\",\n              children: \"\\u0E14\\u0E39\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), loadingByCat[key] ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-inline\",\n            children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u2026\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 17\n          }, this) : list.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-grid\",\n            children: list.map((p, idx) => {\n              var _p$id;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-card\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: p.img,\n                  alt: p.name,\n                  onError: e => {\n                    e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: p.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [Number(p.price).toLocaleString(), \" \\u0E1A\\u0E32\\u0E17\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-add\",\n                  onClick: () => addToCart(p),\n                  children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this)]\n              }, (_p$id = p.id) !== null && _p$id !== void 0 ? _p$id : `p-${key}-${idx}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-inline\",\n            children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E43\\u0E19\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E19\\u0E35\\u0E49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 17\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeUser, \"EKyTSPlc2EWCR6c2QtpB7yEzKhE=\");\n_c = HomeUser;\nvar _c;\n$RefreshReg$(_c, \"HomeUser\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","axios","addItem","addToCart","jsxDEV","_jsxDEV","FALLBACK_CATEGORIES","id","slug","name","image","process","env","PUBLIC_URL","FALLBACK_BEST","price","img","HomeUser","_s","apiPath","p","defaults","baseURL","replace","endsWith","categories","setCategories","bestSellers","setBestSellers","loading","setLoading","cat","best","allByCat","errMsg","setErrMsg","productsByCat","setProductsByCat","loadingByCat","setLoadingByCat","normalizeCat","c","idx","_ref","_ref2","_ref3","_c$category_id","_ref4","_ref5","_ref6","_c$category_name","_ref7","_c$slug","_c$code","cid","category_id","code","rawName","category_name","name_th","title","toString","trim","guessSlug","includes","undefined","String","toLowerCase","toUpperCase","image_url","cover","thumbnail","loadFromLookups","r","get","data","list","Array","isArray","product_categories","length","map","loadFromCategoriesApi","_r$data","arr","s","cats","priorityOrder","sort","a","b","ai","findIndex","k","_a$code","_a$slug","bi","_b$code","_b$slug","slice","normalizeProduct","_ref8","_ref9","_p$product_id","_ref0","_ref1","_ref10","_p$product_name","_ref11","_ref12","_ref13","_p$selling_price","product_id","_id","product_name","Number","selling_price","sale_price","amount","images","tryFetch","url","_r$data2","mapped","i","filter","x","_products","urls","products","u","catKeys","key","label","_ref14","_ref15","_p$product_id2","_ref16","_ref17","_ref18","_p$product_name2","_ref19","_ref20","_ref21","_p$selling_price2","nextMap","q","encodeURIComponent","m","got","_r$data3","className","children","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","to","src","alt","onError","e","currentTarget","item","_item$id","toLocaleString","onClick","_p$id","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/HomeUser.js"],"sourcesContent":["// src/pages/HomeUser.js\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './HomeUser.css';\r\nimport { addItem as addToCart } from '../lib/cart';\r\n\r\n/* -------------------- Fallback -------------------- */\r\nconst FALLBACK_CATEGORIES = [\r\n  { id: 'PLT', slug: 'plants', name: 'ต้นไม้',            image: process.env.PUBLIC_URL + '/tonmai.jpg' },\r\n  { id: 'TLS', slug: 'tools',  name: 'อุปกรณ์เพาะปลูก', image: process.env.PUBLIC_URL + '/opakorn.jpg' },\r\n];\r\n\r\nconst FALLBACK_BEST = [\r\n  { id: 1, name: 'ต้นกล้าลำใยคริสตัล', price: 250, img: process.env.PUBLIC_URL + '/lamyai.jpg' },\r\n  { id: 2, name: 'ต้นพญานาคราช',       price: 150, img: process.env.PUBLIC_URL + '/payanaka1.jpg' },\r\n  { id: 3, name: 'กระถางมินิมอล',      price: 300, img: process.env.PUBLIC_URL + '/katar.jpeg' },\r\n  { id: 4, name: 'ดินสูตรทางร้าน',      price:  99, img: process.env.PUBLIC_URL + '/din.jpg' },\r\n];\r\n\r\nexport default function HomeUser() {\r\n  const apiPath = (p) =>\r\n    (axios.defaults.baseURL || '').replace(/\\/+$/, '').endsWith('/api') ? p : '/api' + p;\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [bestSellers, setBestSellers] = useState([]);\r\n  const [loading, setLoading] = useState({ cat: true, best: true, allByCat: false });\r\n  const [errMsg, setErrMsg] = useState('');\r\n\r\n  // เก็บสินค้าตามหมวด: { [key]: Product[] }\r\n  const [productsByCat, setProductsByCat] = useState({});\r\n  const [loadingByCat, setLoadingByCat] = useState({}); // { [key]: boolean }\r\n\r\n  /* -------------------- โหลดหมวดหมู่จากฐานข้อมูลจริง -------------------- */\r\n  useEffect(() => {\r\n    (async () => {\r\n      const normalizeCat = (c, idx) => {\r\n        const cid = c.category_id ?? c.id ?? c.code ?? c.slug ?? `cat-${idx}`;\r\n        const rawName =\r\n          (c.category_name ?? c.name_th ?? c.name ?? c.title ?? '').toString().trim() || 'ไม่ระบุชื่อ';\r\n        const guessSlug =\r\n          c.slug ??\r\n          (rawName.includes('อุปกรณ์') ? 'tools' :\r\n           rawName.includes('ต้นไม้')   ? 'plants' : undefined) ??\r\n          String(cid).toLowerCase();\r\n\r\n        return {\r\n          id: String(cid),\r\n          code: (c.code ?? '').toString().toUpperCase(),\r\n          slug: guessSlug,\r\n          name: rawName,\r\n          image:\r\n            c.image_url ||\r\n            c.image ||\r\n            c.cover ||\r\n            c.thumbnail ||\r\n            (guessSlug === 'tools'\r\n              ? process.env.PUBLIC_URL + '/opakorn.jpg'\r\n              : process.env.PUBLIC_URL + '/tonmai.jpg'),\r\n        };\r\n      };\r\n\r\n      async function loadFromLookups() {\r\n        try {\r\n          const r = await axios.get(apiPath('/lookups?published=1'));\r\n          const data = r.data || {};\r\n          const list =\r\n            Array.isArray(data.product_categories)\r\n              ? data.product_categories\r\n              : Array.isArray(data.categories)\r\n              ? data.categories\r\n              : [];\r\n          if (!list.length) return null;\r\n          return list.map(normalizeCat);\r\n        } catch {\r\n          return null;\r\n        }\r\n      }\r\n\r\n      async function loadFromCategoriesApi() {\r\n        try {\r\n          const r = await axios.get(apiPath('/categories?status=active'));\r\n          const arr = (Array.isArray(r.data?.data) ? r.data.data : r.data) || [];\r\n          if (!arr.length) return null;\r\n          return arr.map(normalizeCat);\r\n        } catch {\r\n          return null;\r\n        }\r\n      }\r\n\r\n      try {\r\n        setLoading((s) => ({ ...s, cat: true }));\r\n        let cats = (await loadFromLookups()) || (await loadFromCategoriesApi()) || [];\r\n\r\n        // เรียงให้ \"ต้นไม้/PLT\" มาก่อน \"อุปกรณ์/TLS\"\r\n        const priorityOrder = ['PLT', 'PLANTS', 'plants', 'TLS', 'TOOLS', 'tools'];\r\n        cats.sort((a, b) => {\r\n          const ai = priorityOrder.findIndex((k) =>\r\n            [a.code?.toUpperCase(), a.slug?.toLowerCase()].includes(String(k).toLowerCase())\r\n          );\r\n          const bi = priorityOrder.findIndex((k) =>\r\n            [b.code?.toUpperCase(), b.slug?.toLowerCase()].includes(String(k).toLowerCase())\r\n          );\r\n          return (ai === -1 ? 999 : ai) - (bi === -1 ? 999 : bi);\r\n        });\r\n\r\n        // เอาอย่างน้อย 2 หมวดหลัก\r\n        if (!cats.length) cats = FALLBACK_CATEGORIES;\r\n        setCategories(cats.slice(0, 2));\r\n      } finally {\r\n        setLoading((s) => ({ ...s, cat: false }));\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  /* -------------------- โหลดสินค้าขายดี (แสดง 5 ชิ้น) -------------------- */\r\n  useEffect(() => {\r\n    (async () => {\r\n      const normalizeProduct = (p, idx) => ({\r\n        id: p.product_id ?? p.id ?? p._id ?? `p-${idx}`,\r\n        name: p.product_name ?? p.name_th ?? p.name ?? p.title ?? 'สินค้า',\r\n        price: Number(p.selling_price ?? p.price ?? p.sale_price ?? p.amount ?? 0),\r\n        img:\r\n          p.image_url ||\r\n          p.image ||\r\n          p.cover ||\r\n          p.thumbnail ||\r\n          (Array.isArray(p.images) ? p.images[0] : '') ||\r\n          process.env.PUBLIC_URL + '/logo.png',\r\n      });\r\n\r\n      async function tryFetch(url) {\r\n        try {\r\n          const r = await axios.get(url);\r\n          const arr = (Array.isArray(r.data?.data) ? r.data.data : r.data) || [];\r\n          const mapped = arr.map((p, i) => normalizeProduct(p, i)).filter((x) => x.id && x.name);\r\n          if (mapped.length) return mapped;\r\n        } catch {}\r\n        return null;\r\n      }\r\n\r\n      try {\r\n        setLoading((s) => ({ ...s, best: true }));\r\n        const urls = [\r\n          apiPath('/products/best-sellers?limit=5'),\r\n          apiPath('/products?sort=popular&limit=5'),\r\n          apiPath('/products?featured=1&limit=5'),\r\n        ];\r\n        let products = null;\r\n        for (const u of urls) {\r\n          products = await tryFetch(u);\r\n          if (products) break;\r\n        }\r\n        setBestSellers(products?.slice(0, 5) || FALLBACK_BEST.slice(0, 5));\r\n      } catch {\r\n        setBestSellers(FALLBACK_BEST.slice(0, 5));\r\n        setErrMsg('แสดงข้อมูลจากตัวอย่างชั่วคราว');\r\n      } finally {\r\n        setLoading((s) => ({ ...s, best: false }));\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  /* -------------------- โหลด “สินค้าทั้งหมด (แยกตามหมวด)” -------------------- */\r\n  const catKeys = useMemo(\r\n    () =>\r\n      categories.map((c) => ({\r\n        key: c.slug || c.code || c.id,\r\n        label: c.name,\r\n        image: c.image,\r\n      })),\r\n    [categories]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!catKeys.length) return;\r\n    (async () => {\r\n      setLoading((s) => ({ ...s, allByCat: true }));\r\n      const normalizeProduct = (p, idx) => ({\r\n        id: p.product_id ?? p.id ?? p._id ?? `p-${idx}`,\r\n        name: p.product_name ?? p.name_th ?? p.name ?? p.title ?? 'สินค้า',\r\n        price: Number(p.selling_price ?? p.price ?? p.sale_price ?? p.amount ?? 0),\r\n        img:\r\n          p.image_url ||\r\n          p.image ||\r\n          p.cover ||\r\n          p.thumbnail ||\r\n          (Array.isArray(p.images) ? p.images[0] : '') ||\r\n          process.env.PUBLIC_URL + '/logo.png',\r\n      });\r\n\r\n      const nextMap = {};\r\n      for (const { key } of catKeys) {\r\n        const q = encodeURIComponent(key);\r\n        setLoadingByCat((m) => ({ ...m, [key]: true }));\r\n\r\n        // ลองหลาย endpoint เพื่อความเข้ากันได้\r\n        const urls = [\r\n          apiPath(`/products?category=${q}&limit=12`),\r\n          apiPath(`/products/by-category/${q}?limit=12`),\r\n        ];\r\n\r\n        let got = [];\r\n        for (const u of urls) {\r\n          try {\r\n            const r = await axios.get(u);\r\n            const arr = (Array.isArray(r.data?.data) ? r.data.data : r.data) || [];\r\n            if (arr.length) {\r\n              got = arr.map(normalizeProduct);\r\n              break;\r\n            }\r\n          } catch {}\r\n        }\r\n        nextMap[key] = got;\r\n        setLoadingByCat((m) => ({ ...m, [key]: false }));\r\n      }\r\n      setProductsByCat(nextMap);\r\n      setLoading((s) => ({ ...s, allByCat: false }));\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [catKeys.length]);\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      {/* Search */}\r\n      <div className=\"search-box\">\r\n        <input type=\"text\" placeholder=\"ค้นหาสินค้า\" />\r\n        <button className=\"search-btn\">🔍</button>\r\n      </div>\r\n\r\n      {/* Hero */}\r\n      <section\r\n        className=\"hero\"\r\n        style={{\r\n          backgroundImage: `url(${process.env.PUBLIC_URL + '/p2.png'})`,\r\n          backgroundRepeat: 'no-repeat',\r\n          backgroundPosition: 'center',\r\n          backgroundSize: 'cover',\r\n        }}\r\n      >\r\n        <div className=\"hero-text\">\r\n          <h1>“<span className=\"highlight\">ร้านปราชญ์แม่โจ้</span>”</h1>\r\n          <p>\r\n            แหล่งผลิตและจัดจำหน่าย ต้นไม้ <br />\r\n            และวัสดุปลูก มากกว่า 100 รายการ\r\n          </p>\r\n        </div>\r\n      </section>\r\n\r\n      {/* หมวดหลัก (2 ปุ่ม) */}\r\n      <section className=\"categories\">\r\n        {(loading.cat ? FALLBACK_CATEGORIES : categories).map((cat, idx) => {\r\n          const q = encodeURIComponent(cat.slug || cat.code || cat.id);\r\n          return (\r\n            <Link\r\n              key={cat.id || cat.slug || `cat-${idx}`}\r\n              to={`/products?category=${q}`}\r\n              className=\"category-card\"\r\n              title={cat.name}\r\n            >\r\n              <img\r\n                src={cat.image}\r\n                alt={cat.name}\r\n                onError={(e) => {\r\n                  e.currentTarget.src =\r\n                    (cat.slug || '').toLowerCase() === 'tools'\r\n                      ? process.env.PUBLIC_URL + '/opakorn.jpg'\r\n                      : process.env.PUBLIC_URL + '/tonmai.jpg';\r\n                }}\r\n              />\r\n              <p>{cat.name}</p>\r\n            </Link>\r\n          );\r\n        })}\r\n      </section>\r\n\r\n      {/* Best Sellers (5 ชิ้น) */}\r\n      <section className=\"best-sellers\">\r\n        <h2>🌟 สินค้าขายดี</h2>\r\n        {errMsg && <div className=\"info-inline\">{errMsg}</div>}\r\n        <div className=\"product-grid\">\r\n          {(loading.best ? FALLBACK_BEST.slice(0, 5) : bestSellers).map((item, idx) => (\r\n            <div className=\"product-card\" key={item.id ?? `best-${idx}`}>\r\n              <img\r\n                src={item.img}\r\n                alt={item.name}\r\n                onError={(e) => { e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png'; }}\r\n              />\r\n              <h3>{item.name}</h3>\r\n              <p>{Number(item.price).toLocaleString()} บาท</p>\r\n              <button className=\"btn-add\" onClick={() => addToCart(item)}>\r\n                + เพิ่มลงตะกร้า\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* All Products by Category */}\r\n      <section className=\"all-products-by-cat\">\r\n        <h2>🛒 สินค้าทั้งหมด (แยกตามหมวดหมู่)</h2>\r\n        {catKeys.map(({ key, label }) => {\r\n          const list = productsByCat[key] || [];\r\n          return (\r\n            <div className=\"cat-block\" key={key}>\r\n              <div className=\"cat-block-header\">\r\n                <h3>{label}</h3>\r\n                <Link to={`/products?category=${encodeURIComponent(key)}`} className=\"see-all\">\r\n                  ดูทั้งหมด →\r\n                </Link>\r\n              </div>\r\n\r\n              {loadingByCat[key] ? (\r\n                <div className=\"info-inline\">กำลังโหลดสินค้า…</div>\r\n              ) : list.length ? (\r\n                <div className=\"product-grid\">\r\n                  {list.map((p, idx) => (\r\n                    <div className=\"product-card\" key={p.id ?? `p-${key}-${idx}`}>\r\n                      <img\r\n                        src={p.img}\r\n                        alt={p.name}\r\n                        onError={(e) => { e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png'; }}\r\n                      />\r\n                      <h3>{p.name}</h3>\r\n                      <p>{Number(p.price).toLocaleString()} บาท</p>\r\n                      <button className=\"btn-add\" onClick={() => addToCart(p)}>\r\n                        + เพิ่มลงตะกร้า\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"info-inline\">ยังไม่มีสินค้าในหมวดนี้</div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}