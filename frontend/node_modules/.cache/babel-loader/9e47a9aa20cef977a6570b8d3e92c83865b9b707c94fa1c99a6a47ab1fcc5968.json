{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\HomeUser.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// FRONTEND: src/pages/HomeUser.js — Search กะทัดรัด กึ่งกลาง + Live suggestions + Grid results\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { api, path, mediaSrc } from \"../lib/api\";\nimport \"./HomeUser.css\";\n\n/* ---------- debounce hook ---------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useDebounce = (value, delay = 250) => {\n  _s();\n  const [v, setV] = useState(value);\n  useEffect(() => {\n    const t = setTimeout(() => setV(value), delay);\n    return () => clearTimeout(t);\n  }, [value, delay]);\n  return v;\n};\n\n/* ---------- product card ---------- */\n_s(useDebounce, \"+XKCVDzd8rrunExeVW+YMgDw4yY=\");\nconst ProductCard = ({\n  p\n}) => {\n  var _ref, _p$price_override, _ref2, _ref3, _p$stock;\n  const img = p.image_url || p.cover_url || p.thumbnail_url;\n  const price = (_ref = (_p$price_override = p.price_override) !== null && _p$price_override !== void 0 ? _p$price_override : p.price) !== null && _ref !== void 0 ? _ref : 0;\n  const stock = (_ref2 = (_ref3 = (_p$stock = p.stock) !== null && _p$stock !== void 0 ? _p$stock : p.stock_qty) !== null && _ref3 !== void 0 ? _ref3 : p.live_stock) !== null && _ref2 !== void 0 ? _ref2 : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hu-card\",\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: `/product/${p.product_id || p.id}`,\n      className: \"hu-card-link\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hu-card-thumb\",\n        children: img ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: mediaSrc(img),\n          alt: p.product_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 18\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hu-noimg\",\n          children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 69\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hu-card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hu-card-title\",\n          title: p.product_name,\n          children: p.product_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hu-card-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"price\",\n            children: [\"\\u0E3F\", Number(price || 0).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this), Number.isFinite(Number(stock)) && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stock\",\n            children: [\"\\u0E2A\\u0E15\\u0E47\\u0E2D\\u0E01 \", Number(stock)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n};\n_c = ProductCard;\nexport default function HomeUser() {\n  _s2();\n  // ⚠️ ลบ Footer ออกจากหน้านี้แล้ว เพื่อไม่ให้ซ้อนสองชั้น\n  const [mode, setMode] = useState(\"keyword\"); // \"keyword\" | \"sku\"\n  const [q, setQ] = useState(\"\");\n  const dq = useDebounce(q, 250);\n  const [suggest, setSuggest] = useState([]);\n  const [openSug, setOpenSug] = useState(false);\n  const sugWrap = useRef(null);\n  const [loading, setLoading] = useState(false);\n  const [results, setResults] = useState([]);\n  const [fetched, setFetched] = useState(false);\n\n  // ปิด dropdown เมื่อคลิกนอก\n  useEffect(() => {\n    const onClick = e => {\n      if (sugWrap.current && !sugWrap.current.contains(e.target)) setOpenSug(false);\n    };\n    document.addEventListener(\"click\", onClick);\n    return () => document.removeEventListener(\"click\", onClick);\n  }, []);\n\n  // Live suggestions\n  useEffect(() => {\n    const run = async () => {\n      if (!dq || dq.trim().length < 2) {\n        setSuggest([]);\n        return;\n      }\n      try {\n        const params = {\n          limit: 8,\n          search: dq.trim()\n        };\n        if (mode === \"sku\") params.sku = dq.trim();\n        setLoading(true);\n        const {\n          data\n        } = await api.get(path(\"/api/products\"), {\n          params\n        });\n        const rows = Array.isArray(data === null || data === void 0 ? void 0 : data.rows) ? data.rows : Array.isArray(data) ? data : [];\n        setSuggest(rows.slice(0, 8));\n        setOpenSug(true);\n      } catch {\n        setSuggest([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    run();\n  }, [dq, mode]);\n  const doSearch = async term => {\n    const s = (term !== null && term !== void 0 ? term : q).trim();\n    if (!s) {\n      setResults([]);\n      setFetched(true);\n      setOpenSug(false);\n      return;\n    }\n    try {\n      setLoading(true);\n      const params = {\n        search: s,\n        limit: 48\n      };\n      if (mode === \"sku\") params.sku = s;\n      const {\n        data\n      } = await api.get(path(\"/api/products\"), {\n        params\n      });\n      const rows = Array.isArray(data === null || data === void 0 ? void 0 : data.rows) ? data.rows : Array.isArray(data) ? data : [];\n      setResults(rows);\n      setFetched(true);\n    } catch {\n      setResults([]);\n      setFetched(true);\n    } finally {\n      setLoading(false);\n      setOpenSug(false);\n    }\n  };\n  const onPick = p => {\n    setQ(p.product_name || p.name || \"\");\n    doSearch(p.product_name || p.name || \"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"hu\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hu-search\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hu-search-inner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hu-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"hu-label\",\n            children: \"\\u0E42\\u0E2B\\u0E21\\u0E14\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"hu-select\",\n            value: mode,\n            onChange: e => setMode(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"keyword\",\n              children: \"\\u0E04\\u0E35\\u0E22\\u0E4C\\u0E40\\u0E27\\u0E34\\u0E23\\u0E4C\\u0E14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sku\",\n              children: \"SKU\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hu-field hu-field-grow\",\n          ref: sugWrap,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"hu-label\",\n            children: \"\\u0E04\\u0E33\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"hu-input\",\n            placeholder: \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E01\\u0E38\\u0E2B\\u0E25\\u0E32\\u0E1A \\u0E01\\u0E23\\u0E30\\u0E16\\u0E32\\u0E07\\u0E40\\u0E1E\\u0E0A\\u0E23 \\u0E14\\u0E34\\u0E19\\u0E1B\\u0E25\\u0E39\\u0E01...\",\n            value: q,\n            onChange: e => setQ(e.target.value),\n            onFocus: () => suggest.length && setOpenSug(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), openSug && suggest.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hu-suggest\",\n            children: suggest.map(p => {\n              var _ref4, _p$price_override2;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"hu-suggest-item\",\n                onClick: () => onPick(p),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"name\",\n                  children: p.product_name || p.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"price\",\n                  children: [\"\\u0E3F\", Number((_ref4 = (_p$price_override2 = p.price_override) !== null && _p$price_override2 !== void 0 ? _p$price_override2 : p.price) !== null && _ref4 !== void 0 ? _ref4 : 0).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 21\n                }, this)]\n              }, p.product_id || p.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hu-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"hu-btn\",\n            type: \"button\",\n            onClick: () => doSearch(),\n            disabled: loading,\n            children: \"\\uD83D\\uDD0E \\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hu-results\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hu-info\",\n        children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }, this), !loading && fetched && results.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hu-info\",\n        children: \"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 57\n      }, this), !loading && results.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hu-grid\",\n        children: results.map(p => /*#__PURE__*/_jsxDEV(ProductCard, {\n          p: p\n        }, p.product_id || p.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 34\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s2(HomeUser, \"kvwQaEYmpKYEql+5Di4LAGw94M8=\", false, function () {\n  return [useDebounce];\n});\n_c2 = HomeUser;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProductCard\");\n$RefreshReg$(_c2, \"HomeUser\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","api","path","mediaSrc","jsxDEV","_jsxDEV","useDebounce","value","delay","_s","v","setV","t","setTimeout","clearTimeout","ProductCard","p","_ref","_p$price_override","_ref2","_ref3","_p$stock","img","image_url","cover_url","thumbnail_url","price","price_override","stock","stock_qty","live_stock","className","children","to","product_id","id","src","alt","product_name","fileName","_jsxFileName","lineNumber","columnNumber","title","Number","toLocaleString","isFinite","_c","HomeUser","_s2","mode","setMode","q","setQ","dq","suggest","setSuggest","openSug","setOpenSug","sugWrap","loading","setLoading","results","setResults","fetched","setFetched","onClick","e","current","contains","target","document","addEventListener","removeEventListener","run","trim","length","params","limit","search","sku","data","get","rows","Array","isArray","slice","doSearch","term","s","onPick","name","onChange","ref","placeholder","onFocus","map","_ref4","_p$price_override2","type","disabled","_c2","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/HomeUser.js"],"sourcesContent":["// FRONTEND: src/pages/HomeUser.js — Search กะทัดรัด กึ่งกลาง + Live suggestions + Grid results\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { api, path, mediaSrc } from \"../lib/api\";\r\nimport \"./HomeUser.css\";\r\n\r\n/* ---------- debounce hook ---------- */\r\nconst useDebounce = (value, delay = 250) => {\r\n  const [v, setV] = useState(value);\r\n  useEffect(() => { const t = setTimeout(() => setV(value), delay); return () => clearTimeout(t); }, [value, delay]);\r\n  return v;\r\n};\r\n\r\n/* ---------- product card ---------- */\r\nconst ProductCard = ({ p }) => {\r\n  const img = p.image_url || p.cover_url || p.thumbnail_url;\r\n  const price = p.price_override ?? p.price ?? 0;\r\n  const stock = p.stock ?? p.stock_qty ?? p.live_stock ?? null;\r\n  return (\r\n    <div className=\"hu-card\">\r\n      <Link to={`/product/${p.product_id || p.id}`} className=\"hu-card-link\">\r\n        <div className=\"hu-card-thumb\">\r\n          {img ? <img src={mediaSrc(img)} alt={p.product_name} /> : <div className=\"hu-noimg\">ไม่มีรูป</div>}\r\n        </div>\r\n        <div className=\"hu-card-body\">\r\n          <div className=\"hu-card-title\" title={p.product_name}>{p.product_name}</div>\r\n          <div className=\"hu-card-meta\">\r\n            <span className=\"price\">฿{Number(price || 0).toLocaleString()}</span>\r\n            {Number.isFinite(Number(stock)) && <span className=\"stock\">สต็อก {Number(stock)}</span>}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function HomeUser() {\r\n  // ⚠️ ลบ Footer ออกจากหน้านี้แล้ว เพื่อไม่ให้ซ้อนสองชั้น\r\n  const [mode, setMode] = useState(\"keyword\"); // \"keyword\" | \"sku\"\r\n  const [q, setQ] = useState(\"\");\r\n  const dq = useDebounce(q, 250);\r\n\r\n  const [suggest, setSuggest] = useState([]);\r\n  const [openSug, setOpenSug] = useState(false);\r\n  const sugWrap = useRef(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  const [fetched, setFetched] = useState(false);\r\n\r\n  // ปิด dropdown เมื่อคลิกนอก\r\n  useEffect(() => {\r\n    const onClick = (e) => { if (sugWrap.current && !sugWrap.current.contains(e.target)) setOpenSug(false); };\r\n    document.addEventListener(\"click\", onClick);\r\n    return () => document.removeEventListener(\"click\", onClick);\r\n  }, []);\r\n\r\n  // Live suggestions\r\n  useEffect(() => {\r\n    const run = async () => {\r\n      if (!dq || dq.trim().length < 2) { setSuggest([]); return; }\r\n      try {\r\n        const params = { limit: 8, search: dq.trim() };\r\n        if (mode === \"sku\") params.sku = dq.trim();\r\n        setLoading(true);\r\n        const { data } = await api.get(path(\"/api/products\"), { params });\r\n        const rows = Array.isArray(data?.rows) ? data.rows : Array.isArray(data) ? data : [];\r\n        setSuggest(rows.slice(0, 8));\r\n        setOpenSug(true);\r\n      } catch { setSuggest([]); }\r\n      finally { setLoading(false); }\r\n    };\r\n    run();\r\n  }, [dq, mode]);\r\n\r\n  const doSearch = async (term) => {\r\n    const s = (term ?? q).trim();\r\n    if (!s) { setResults([]); setFetched(true); setOpenSug(false); return; }\r\n    try {\r\n      setLoading(true);\r\n      const params = { search: s, limit: 48 };\r\n      if (mode === \"sku\") params.sku = s;\r\n      const { data } = await api.get(path(\"/api/products\"), { params });\r\n      const rows = Array.isArray(data?.rows) ? data.rows : Array.isArray(data) ? data : [];\r\n      setResults(rows);\r\n      setFetched(true);\r\n    } catch { setResults([]); setFetched(true); }\r\n    finally { setLoading(false); setOpenSug(false); }\r\n  };\r\n\r\n  const onPick = (p) => {\r\n    setQ(p.product_name || p.name || \"\");\r\n    doSearch(p.product_name || p.name || \"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"hu\">\r\n      {/* ===== Search ===== */}\r\n      <section className=\"hu-search\">\r\n        <div className=\"hu-search-inner\">\r\n          <div className=\"hu-field\">\r\n            <label className=\"hu-label\">โหมดค้นหา</label>\r\n            <select className=\"hu-select\" value={mode} onChange={(e) => setMode(e.target.value)}>\r\n              <option value=\"keyword\">คีย์เวิร์ด</option>\r\n              <option value=\"sku\">SKU</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"hu-field hu-field-grow\" ref={sugWrap}>\r\n            <label className=\"hu-label\">คำค้นหา</label>\r\n            <input\r\n              className=\"hu-input\"\r\n              placeholder=\"เช่น กุหลาบ กระถางเพชร ดินปลูก...\"\r\n              value={q}\r\n              onChange={(e) => setQ(e.target.value)}\r\n              onFocus={() => suggest.length && setOpenSug(true)}\r\n            />\r\n            {openSug && suggest.length > 0 && (\r\n              <div className=\"hu-suggest\">\r\n                {suggest.map((p) => (\r\n                  <button\r\n                    key={p.product_id || p.id}\r\n                    type=\"button\"\r\n                    className=\"hu-suggest-item\"\r\n                    onClick={() => onPick(p)}\r\n                  >\r\n                    <span className=\"name\">{p.product_name || p.name}</span>\r\n                    <span className=\"price\">฿{Number(p.price_override ?? p.price ?? 0).toLocaleString()}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"hu-actions\">\r\n            <button className=\"hu-btn\" type=\"button\" onClick={() => doSearch()} disabled={loading}>\r\n              🔎 ค้นหา\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* ===== Results ===== */}\r\n      <section className=\"hu-results\">\r\n        {loading && <div className=\"hu-info\">กำลังค้นหา…</div>}\r\n        {!loading && fetched && results.length === 0 && <div className=\"hu-info\">ไม่พบสินค้า</div>}\r\n        {!loading && results.length > 0 && (\r\n          <div className=\"hu-grid\">\r\n            {results.map((p) => (<ProductCard key={p.product_id || p.id} p={p} />))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}