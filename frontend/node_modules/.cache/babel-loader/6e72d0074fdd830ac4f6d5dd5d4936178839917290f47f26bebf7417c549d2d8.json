{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\HomeUser.js\",\n  _s = $RefreshSig$();\n// FRONTEND: src/pages/HomeUser.js ‚Äî ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ + responsive + ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤)\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./HomeUser.css\";\nimport { api, path, mediaSrc } from \"../lib/api\";\nimport { addItem as addToCart } from \"../lib/cart\";\nimport Footer from \"../components/Footer\";\n\n/* ---------------- Helpers ---------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst toArray = d => {\n  var _d$data;\n  return Array.isArray(d) ? d : Array.isArray(d === null || d === void 0 ? void 0 : d.items) ? d.items : Array.isArray(d === null || d === void 0 ? void 0 : (_d$data = d.data) === null || _d$data === void 0 ? void 0 : _d$data.items) ? d.data.items : Array.isArray(d === null || d === void 0 ? void 0 : d.data) ? d.data : [];\n};\nconst normalizeProduct = (p, idx) => {\n  var _ref, _ref2, _ref3, _ref4, _p$min_price, _ref5, _p$product_id, _ref6, _ref7, _ref8, _p$product_name, _ref9, _p$category_id, _ref0, _p$subcategory_id, _ref1, _p$category_name, _ref10, _p$subcategory_name;\n  const imgPath = p.image_url || p.cover_url || p.image || (Array.isArray(p.images) ? p.images[0] : \"\");\n  const img = mediaSrc(imgPath);\n  const price = Number((_ref = (_ref2 = (_ref3 = (_ref4 = (_p$min_price = p.min_price) !== null && _p$min_price !== void 0 ? _p$min_price : p.selling_price) !== null && _ref4 !== void 0 ? _ref4 : p.price) !== null && _ref3 !== void 0 ? _ref3 : p.unit_price) !== null && _ref2 !== void 0 ? _ref2 : p.product_price) !== null && _ref !== void 0 ? _ref : 0) || 0;\n  return {\n    id: (_ref5 = (_p$product_id = p.product_id) !== null && _p$product_id !== void 0 ? _p$product_id : p.id) !== null && _ref5 !== void 0 ? _ref5 : `p-${idx}`,\n    name: (_ref6 = (_ref7 = (_ref8 = (_p$product_name = p.product_name) !== null && _p$product_name !== void 0 ? _p$product_name : p.name_th) !== null && _ref8 !== void 0 ? _ref8 : p.name) !== null && _ref7 !== void 0 ? _ref7 : p.title) !== null && _ref6 !== void 0 ? _ref6 : \"\",\n    price,\n    img,\n    category_id: (_ref9 = (_p$category_id = p.category_id) !== null && _p$category_id !== void 0 ? _p$category_id : p.cat_id) !== null && _ref9 !== void 0 ? _ref9 : \"\",\n    subcategory_id: (_ref0 = (_p$subcategory_id = p.subcategory_id) !== null && _p$subcategory_id !== void 0 ? _p$subcategory_id : p.subcat_id) !== null && _ref0 !== void 0 ? _ref0 : \"\",\n    category_name: (_ref1 = (_p$category_name = p.category_name) !== null && _p$category_name !== void 0 ? _p$category_name : p.category) !== null && _ref1 !== void 0 ? _ref1 : \"\",\n    subcategory_name: (_ref10 = (_p$subcategory_name = p.subcategory_name) !== null && _p$subcategory_name !== void 0 ? _p$subcategory_name : p.subcategory) !== null && _ref10 !== void 0 ? _ref10 : \"\"\n  };\n};\n\n/* ---------------- API Helpers ---------------- */\nasync function fetchWithCount(url, want) {\n  const sets = [{\n    limit: want\n  }, {\n    take: want\n  }, {\n    per_page: want\n  }, {\n    pageSize: want\n  }, {\n    top: want\n  }, {}];\n  for (const ps of sets) {\n    try {\n      const r = await api.get(path(url), {\n        params: {\n          ...ps,\n          _: Date.now()\n        }\n      });\n      const arr = toArray(r);\n      if (arr.length) return arr;\n    } catch {}\n  }\n  return [];\n}\nasync function serverSearch(mode, value, want = 100) {\n  const tryList = [];\n  if (mode === \"keyword\") {\n    tryList.push([\"/products/search\", {\n      q: value,\n      limit: want\n    }]);\n    tryList.push([\"/products\", {\n      q: value,\n      limit: want\n    }]);\n    tryList.push([\"/products\", {\n      keyword: value,\n      limit: want\n    }]);\n  } else if (mode === \"category\") {\n    tryList.push([\"/products\", {\n      category_id: value,\n      limit: want\n    }]);\n    tryList.push([\"/products/by-category\", {\n      id: value,\n      limit: want\n    }]);\n  } else if (mode === \"subcategory\") {\n    tryList.push([\"/products\", {\n      subcategory_id: value,\n      limit: want\n    }]);\n    tryList.push([\"/products/by-subcategory\", {\n      id: value,\n      limit: want\n    }]);\n  }\n  for (const [ep, params] of tryList) {\n    try {\n      const r = await api.get(path(ep), {\n        params: {\n          ...params,\n          _: Date.now()\n        }\n      });\n      const arr = toArray(r);\n      if (arr.length) return arr;\n    } catch {}\n  }\n  return [];\n}\n\n/* ---------------- Component ---------------- */\nexport default function HomeUser() {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [subcategories, setSubcategories] = useState([]);\n  const [bestSellers, setBestSellers] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const [searchResults, setSearchResults] = useState(null);\n  const [loading, setLoading] = useState({\n    cat: true,\n    sub: true,\n    best: true,\n    all: true,\n    search: false\n  });\n  const [err, setErr] = useState({\n    search: \"\",\n    all: \"\"\n  });\n\n  /* ----- Search State ----- */\n  const [mode, setMode] = useState(\"keyword\");\n  const [keyword, setKeyword] = useState(\"\");\n  const [catValue, setCatValue] = useState(\"\");\n  const [subValue, setSubValue] = useState(\"\");\n\n  /* ---------------- Loaders ---------------- */\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await api.get(path(\"/categories\"), {\n          params: {\n            _: Date.now()\n          }\n        });\n        const raw = toArray(res).map((c, idx) => {\n          var _ref11, _c$category_id, _ref12, _ref13, _c$category_name;\n          return {\n            id: (_ref11 = (_c$category_id = c.category_id) !== null && _c$category_id !== void 0 ? _c$category_id : c.id) !== null && _ref11 !== void 0 ? _ref11 : `cat-${idx}`,\n            name: (_ref12 = (_ref13 = (_c$category_name = c.category_name) !== null && _c$category_name !== void 0 ? _c$category_name : c.name_th) !== null && _ref13 !== void 0 ? _ref13 : c.name) !== null && _ref12 !== void 0 ? _ref12 : \"\",\n            slug: String(c.slug || \"\").toLowerCase(),\n            image: c.image_url ? mediaSrc(c.image_url) : \"\"\n          };\n        });\n        setCategories(raw);\n      } finally {\n        setLoading(s => ({\n          ...s,\n          cat: false\n        }));\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    (async () => {\n      try {\n        const res = await api.get(path(\"/subcategories\"), {\n          params: {\n            _: Date.now()\n          }\n        });\n        setSubcategories(toArray(res).map((s, i) => {\n          var _ref14, _s$subcategory_id, _ref15, _ref16, _s$subcategory_name, _ref17, _s$category_id;\n          return {\n            id: String((_ref14 = (_s$subcategory_id = s.subcategory_id) !== null && _s$subcategory_id !== void 0 ? _s$subcategory_id : s.id) !== null && _ref14 !== void 0 ? _ref14 : `sub-${i}`),\n            name: (_ref15 = (_ref16 = (_s$subcategory_name = s.subcategory_name) !== null && _s$subcategory_name !== void 0 ? _s$subcategory_name : s.name_th) !== null && _ref16 !== void 0 ? _ref16 : s.name) !== null && _ref15 !== void 0 ? _ref15 : \"\",\n            category_id: String((_ref17 = (_s$category_id = s.category_id) !== null && _s$category_id !== void 0 ? _s$category_id : s.cat_id) !== null && _ref17 !== void 0 ? _ref17 : \"\")\n          };\n        }));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          sub: false\n        }));\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    (async () => {\n      try {\n        const got = await fetchWithCount(\"/products/best-sellers\", 8);\n        setBestSellers(got.map((p, i) => normalizeProduct(p, i)));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          best: false\n        }));\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    (async () => {\n      try {\n        const got = await fetchWithCount(\"/products\", 100);\n        setAllProducts(got.map((p, i) => normalizeProduct(p, i)));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          all: false\n        }));\n      }\n    })();\n  }, []);\n\n  /* ---------------- Search Logic ---------------- */\n  const clientFilter = useMemo(() => {\n    return (mode, value) => {\n      if (!value) return [];\n      const val = String(value).toLowerCase();\n      if (mode === \"keyword\") {\n        return allProducts.filter(p => p.name.toLowerCase().includes(val) || String(p.id).toLowerCase().includes(val));\n      }\n      if (mode === \"category\") {\n        return allProducts.filter(p => p.category_id.toLowerCase() === val || p.category_name.toLowerCase() === val);\n      }\n      if (mode === \"subcategory\") {\n        return allProducts.filter(p => p.subcategory_id.toLowerCase() === val || p.subcategory_name.toLowerCase() === val);\n      }\n      return [];\n    };\n  }, [allProducts]);\n  const onSearch = async e => {\n    e.preventDefault();\n    setSearchResults(null);\n    setErr(x => ({\n      ...x,\n      search: \"\"\n    }));\n    setLoading(s => ({\n      ...s,\n      search: true\n    }));\n    try {\n      let val = \"\";\n      if (mode === \"keyword\") val = keyword.trim();\n      if (mode === \"category\") val = catValue;\n      if (mode === \"subcategory\") val = subValue;\n      if (!val) return;\n      const srv = await serverSearch(mode, val, 100);\n      let list = srv.length ? srv.map((p, i) => normalizeProduct(p, i)) : clientFilter(mode, val);\n      setSearchResults(list);\n      if (!list.length) setErr(x => ({\n        ...x,\n        search: \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç\"\n      }));\n    } finally {\n      setLoading(s => ({\n        ...s,\n        search: false\n      }));\n    }\n  };\n  const listToShow = searchResults !== null && searchResults !== void 0 ? searchResults : allProducts;\n\n  /* ---------------- UI ---------------- */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"search-bar card\",\n      onSubmit: onSearch,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"\\u0E42\\u0E2B\\u0E21\\u0E14\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: mode,\n            onChange: e => setMode(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"keyword\",\n              children: \"\\u0E04\\u0E35\\u0E22\\u0E4C\\u0E40\\u0E27\\u0E34\\u0E23\\u0E4C\\u0E14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"category\",\n              children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"subcategory\",\n              children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), mode === \"keyword\" && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"grow\",\n          children: [\"\\u0E04\\u0E33\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E01\\u0E38\\u0E2B\\u0E25\\u0E32\\u0E1A \\u0E14\\u0E34\\u0E19\\u0E1B\\u0E25\\u0E39\\u0E01 ...\",\n            value: keyword,\n            onChange: e => setKeyword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), mode === \"category\" && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"grow\",\n          children: [\"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: catValue,\n            onChange: e => setCatValue(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u2014 \\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48 \\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: c.id,\n              children: c.name\n            }, c.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), mode === \"subcategory\" && /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"grow\",\n          children: [\"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: subValue,\n            onChange: e => setSubValue(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u2014 \\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22 \\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), subcategories.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: s.id,\n              children: s.name\n            }, s.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-search\",\n          disabled: loading.search,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn-ico\",\n            children: \"\\uD83D\\uDD0D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), loading.search ? \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...\" : \"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), !!err.search && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline warn\",\n        children: err.search\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"type-explorer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83E\\uDDED \\u0E2A\\u0E33\\u0E23\\u0E27\\u0E08\\u0E15\\u0E32\\u0E21\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"type-grid\",\n        children: categories.filter(c => [\"plants\", \"tools\"].includes(c.slug)).map(c => /*#__PURE__*/_jsxDEV(Link, {\n          to: `/${c.slug}`,\n          className: \"type-card\",\n          children: [c.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: c.image,\n            alt: c.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"noimg\",\n            children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: c.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 17\n          }, this)]\n        }, c.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"best-sellers\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDF1F \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E02\\u0E32\\u0E22\\u0E14\\u0E35\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid fullwidth\",\n        children: bestSellers.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${item.id}`,\n            children: item.img ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.img,\n              alt: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"noimg\",\n              children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/products/${item.id}`,\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.price ? `${item.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó` : \"‚Äî ‡∏ö‡∏≤‡∏ó\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add\",\n            onClick: () => addToCart(item),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"all-products\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDED2 \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid fullwidth\",\n        children: listToShow.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${p.id}`,\n            children: p.img ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: p.img,\n              alt: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"noimg\",\n              children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/products/${p.id}`,\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: p.price ? `${p.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó` : \"‚Äî ‡∏ö‡∏≤‡∏ó\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add\",\n            onClick: () => addToCart(p),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 229,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeUser, \"IE4KVtB+o2OkEQjS+IcR4zRYtng=\");\n_c = HomeUser;\nvar _c;\n$RefreshReg$(_c, \"HomeUser\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","api","path","mediaSrc","addItem","addToCart","Footer","jsxDEV","_jsxDEV","toArray","d","_d$data","Array","isArray","items","data","normalizeProduct","p","idx","_ref","_ref2","_ref3","_ref4","_p$min_price","_ref5","_p$product_id","_ref6","_ref7","_ref8","_p$product_name","_ref9","_p$category_id","_ref0","_p$subcategory_id","_ref1","_p$category_name","_ref10","_p$subcategory_name","imgPath","image_url","cover_url","image","images","img","price","Number","min_price","selling_price","unit_price","product_price","id","product_id","name","product_name","name_th","title","category_id","cat_id","subcategory_id","subcat_id","category_name","category","subcategory_name","subcategory","fetchWithCount","url","want","sets","limit","take","per_page","pageSize","top","ps","r","get","params","_","Date","now","arr","length","serverSearch","mode","value","tryList","push","q","keyword","ep","HomeUser","_s","categories","setCategories","subcategories","setSubcategories","bestSellers","setBestSellers","allProducts","setAllProducts","searchResults","setSearchResults","loading","setLoading","cat","sub","best","all","search","err","setErr","setMode","setKeyword","catValue","setCatValue","subValue","setSubValue","res","raw","map","c","_ref11","_c$category_id","_ref12","_ref13","_c$category_name","slug","String","toLowerCase","s","i","_ref14","_s$subcategory_id","_ref15","_ref16","_s$subcategory_name","_ref17","_s$category_id","got","clientFilter","val","filter","includes","onSearch","e","preventDefault","x","trim","srv","list","listToShow","className","children","onSubmit","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","disabled","to","src","alt","item","toLocaleString","onClick","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/HomeUser.js"],"sourcesContent":["// FRONTEND: src/pages/HomeUser.js ‚Äî ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ + responsive + ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤)\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./HomeUser.css\";\r\nimport { api, path, mediaSrc } from \"../lib/api\";\r\nimport { addItem as addToCart } from \"../lib/cart\";\r\nimport Footer from \"../components/Footer\";\r\n\r\n/* ---------------- Helpers ---------------- */\r\nconst toArray = (d) =>\r\n  Array.isArray(d)\r\n    ? d\r\n    : Array.isArray(d?.items)\r\n    ? d.items\r\n    : Array.isArray(d?.data?.items)\r\n    ? d.data.items\r\n    : Array.isArray(d?.data)\r\n    ? d.data\r\n    : [];\r\n\r\nconst normalizeProduct = (p, idx) => {\r\n  const imgPath =\r\n    p.image_url || p.cover_url || p.image || (Array.isArray(p.images) ? p.images[0] : \"\");\r\n  const img = mediaSrc(imgPath);\r\n  const price =\r\n    Number(\r\n      p.min_price ??\r\n        p.selling_price ??\r\n        p.price ??\r\n        p.unit_price ??\r\n        p.product_price ??\r\n        0\r\n    ) || 0;\r\n\r\n  return {\r\n    id: p.product_id ?? p.id ?? `p-${idx}`,\r\n    name: p.product_name ?? p.name_th ?? p.name ?? p.title ?? \"\",\r\n    price,\r\n    img,\r\n    category_id: p.category_id ?? p.cat_id ?? \"\",\r\n    subcategory_id: p.subcategory_id ?? p.subcat_id ?? \"\",\r\n    category_name: p.category_name ?? p.category ?? \"\",\r\n    subcategory_name: p.subcategory_name ?? p.subcategory ?? \"\",\r\n  };\r\n};\r\n\r\n/* ---------------- API Helpers ---------------- */\r\nasync function fetchWithCount(url, want) {\r\n  const sets = [\r\n    { limit: want },\r\n    { take: want },\r\n    { per_page: want },\r\n    { pageSize: want },\r\n    { top: want },\r\n    {},\r\n  ];\r\n  for (const ps of sets) {\r\n    try {\r\n      const r = await api.get(path(url), { params: { ...ps, _: Date.now() } });\r\n      const arr = toArray(r);\r\n      if (arr.length) return arr;\r\n    } catch {}\r\n  }\r\n  return [];\r\n}\r\n\r\nasync function serverSearch(mode, value, want = 100) {\r\n  const tryList = [];\r\n  if (mode === \"keyword\") {\r\n    tryList.push([\"/products/search\", { q: value, limit: want }]);\r\n    tryList.push([\"/products\", { q: value, limit: want }]);\r\n    tryList.push([\"/products\", { keyword: value, limit: want }]);\r\n  } else if (mode === \"category\") {\r\n    tryList.push([\"/products\", { category_id: value, limit: want }]);\r\n    tryList.push([\"/products/by-category\", { id: value, limit: want }]);\r\n  } else if (mode === \"subcategory\") {\r\n    tryList.push([\"/products\", { subcategory_id: value, limit: want }]);\r\n    tryList.push([\"/products/by-subcategory\", { id: value, limit: want }]);\r\n  }\r\n\r\n  for (const [ep, params] of tryList) {\r\n    try {\r\n      const r = await api.get(path(ep), { params: { ...params, _: Date.now() } });\r\n      const arr = toArray(r);\r\n      if (arr.length) return arr;\r\n    } catch {}\r\n  }\r\n  return [];\r\n}\r\n\r\n/* ---------------- Component ---------------- */\r\nexport default function HomeUser() {\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n  const [bestSellers, setBestSellers] = useState([]);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [searchResults, setSearchResults] = useState(null);\r\n  const [loading, setLoading] = useState({\r\n    cat: true,\r\n    sub: true,\r\n    best: true,\r\n    all: true,\r\n    search: false,\r\n  });\r\n  const [err, setErr] = useState({ search: \"\", all: \"\" });\r\n\r\n  /* ----- Search State ----- */\r\n  const [mode, setMode] = useState(\"keyword\");\r\n  const [keyword, setKeyword] = useState(\"\");\r\n  const [catValue, setCatValue] = useState(\"\");\r\n  const [subValue, setSubValue] = useState(\"\");\r\n\r\n  /* ---------------- Loaders ---------------- */\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await api.get(path(\"/categories\"), { params: { _: Date.now() } });\r\n        const raw = toArray(res).map((c, idx) => ({\r\n          id: c.category_id ?? c.id ?? `cat-${idx}`,\r\n          name: c.category_name ?? c.name_th ?? c.name ?? \"\",\r\n          slug: String(c.slug || \"\").toLowerCase(),\r\n          image: c.image_url ? mediaSrc(c.image_url) : \"\",\r\n        }));\r\n        setCategories(raw);\r\n      } finally {\r\n        setLoading((s) => ({ ...s, cat: false }));\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await api.get(path(\"/subcategories\"), { params: { _: Date.now() } });\r\n        setSubcategories(\r\n          toArray(res).map((s, i) => ({\r\n            id: String(s.subcategory_id ?? s.id ?? `sub-${i}`),\r\n            name: s.subcategory_name ?? s.name_th ?? s.name ?? \"\",\r\n            category_id: String(s.category_id ?? s.cat_id ?? \"\"),\r\n          }))\r\n        );\r\n      } finally {\r\n        setLoading((s) => ({ ...s, sub: false }));\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const got = await fetchWithCount(\"/products/best-sellers\", 8);\r\n        setBestSellers(got.map((p, i) => normalizeProduct(p, i)));\r\n      } finally {\r\n        setLoading((s) => ({ ...s, best: false }));\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const got = await fetchWithCount(\"/products\", 100);\r\n        setAllProducts(got.map((p, i) => normalizeProduct(p, i)));\r\n      } finally {\r\n        setLoading((s) => ({ ...s, all: false }));\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  /* ---------------- Search Logic ---------------- */\r\n  const clientFilter = useMemo(() => {\r\n    return (mode, value) => {\r\n      if (!value) return [];\r\n      const val = String(value).toLowerCase();\r\n      if (mode === \"keyword\") {\r\n        return allProducts.filter(\r\n          (p) =>\r\n            p.name.toLowerCase().includes(val) ||\r\n            String(p.id).toLowerCase().includes(val)\r\n        );\r\n      }\r\n      if (mode === \"category\") {\r\n        return allProducts.filter(\r\n          (p) =>\r\n            p.category_id.toLowerCase() === val ||\r\n            p.category_name.toLowerCase() === val\r\n        );\r\n      }\r\n      if (mode === \"subcategory\") {\r\n        return allProducts.filter(\r\n          (p) =>\r\n            p.subcategory_id.toLowerCase() === val ||\r\n            p.subcategory_name.toLowerCase() === val\r\n        );\r\n      }\r\n      return [];\r\n    };\r\n  }, [allProducts]);\r\n\r\n  const onSearch = async (e) => {\r\n    e.preventDefault();\r\n    setSearchResults(null);\r\n    setErr((x) => ({ ...x, search: \"\" }));\r\n    setLoading((s) => ({ ...s, search: true }));\r\n\r\n    try {\r\n      let val = \"\";\r\n      if (mode === \"keyword\") val = keyword.trim();\r\n      if (mode === \"category\") val = catValue;\r\n      if (mode === \"subcategory\") val = subValue;\r\n      if (!val) return;\r\n\r\n      const srv = await serverSearch(mode, val, 100);\r\n      let list = srv.length\r\n        ? srv.map((p, i) => normalizeProduct(p, i))\r\n        : clientFilter(mode, val);\r\n      setSearchResults(list);\r\n      if (!list.length)\r\n        setErr((x) => ({ ...x, search: \"‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç\" }));\r\n    } finally {\r\n      setLoading((s) => ({ ...s, search: false }));\r\n    }\r\n  };\r\n\r\n  const listToShow = searchResults ?? allProducts;\r\n\r\n  /* ---------------- UI ---------------- */\r\n  return (\r\n    <div className=\"home-container\">\r\n      {/* ‡πÅ‡∏ñ‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ */}\r\n      <form className=\"search-bar card\" onSubmit={onSearch}>\r\n        <div className=\"filters-row\">\r\n          <label>\r\n            ‡πÇ‡∏´‡∏°‡∏î‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤\r\n            <select value={mode} onChange={(e) => setMode(e.target.value)}>\r\n              <option value=\"keyword\">‡∏Ñ‡∏µ‡∏¢‡πå‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏î</option>\r\n              <option value=\"category\">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>\r\n              <option value=\"subcategory\">‡∏´‡∏°‡∏ß‡∏î‡∏¢‡πà‡∏≠‡∏¢</option>\r\n            </select>\r\n          </label>\r\n\r\n          {mode === \"keyword\" && (\r\n            <label className=\"grow\">\r\n              ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏∏‡∏´‡∏•‡∏≤‡∏ö ‡∏î‡∏¥‡∏ô‡∏õ‡∏•‡∏π‡∏Å ...\"\r\n                value={keyword}\r\n                onChange={(e) => setKeyword(e.target.value)}\r\n              />\r\n            </label>\r\n          )}\r\n\r\n          {mode === \"category\" && (\r\n            <label className=\"grow\">\r\n              ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà\r\n              <select\r\n                value={catValue}\r\n                onChange={(e) => setCatValue(e.target.value)}\r\n              >\r\n                <option value=\"\">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ‚Äî</option>\r\n                {categories.map((c) => (\r\n                  <option key={c.id} value={c.id}>\r\n                    {c.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n          )}\r\n\r\n          {mode === \"subcategory\" && (\r\n            <label className=\"grow\">\r\n              ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏¢‡πà‡∏≠‡∏¢\r\n              <select\r\n                value={subValue}\r\n                onChange={(e) => setSubValue(e.target.value)}\r\n              >\r\n                <option value=\"\">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏¢‡πà‡∏≠‡∏¢ ‚Äî</option>\r\n                {subcategories.map((s) => (\r\n                  <option key={s.id} value={s.id}>\r\n                    {s.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n          )}\r\n\r\n          <button className=\"btn-search\" disabled={loading.search}>\r\n            <span className=\"btn-ico\">üîç</span>\r\n            {loading.search ? \"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤...\" : \"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤\"}\r\n          </button>\r\n        </div>\r\n        {!!err.search && <div className=\"info-inline warn\">{err.search}</div>}\r\n      </form>\r\n\r\n      {/* ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏•‡∏±‡∏Å */}\r\n      <section className=\"type-explorer\">\r\n        <h2>üß≠ ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</h2>\r\n        <div className=\"type-grid\">\r\n          {categories\r\n            .filter((c) => [\"plants\", \"tools\"].includes(c.slug))\r\n            .map((c) => (\r\n              <Link key={c.id} to={`/${c.slug}`} className=\"type-card\">\r\n                {c.image ? (\r\n                  <img src={c.image} alt={c.name} />\r\n                ) : (\r\n                  <div className=\"noimg\">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ</div>\r\n                )}\r\n                <h3>{c.name}</h3>\r\n              </Link>\r\n            ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ */}\r\n      <section className=\"best-sellers\">\r\n        <h2>üåü ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h2>\r\n        <div className=\"product-grid fullwidth\">\r\n          {bestSellers.map((item) => (\r\n            <div className=\"product-card\" key={item.id}>\r\n              <Link to={`/products/${item.id}`}>\r\n                {item.img ? (\r\n                  <img src={item.img} alt={item.name} />\r\n                ) : (\r\n                  <div className=\"noimg\">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ</div>\r\n                )}\r\n              </Link>\r\n              <h3>\r\n                <Link to={`/products/${item.id}`}>{item.name}</Link>\r\n              </h3>\r\n              <p>\r\n                {item.price\r\n                  ? `${item.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó`\r\n                  : \"‚Äî ‡∏ö‡∏≤‡∏ó\"}\r\n              </p>\r\n              <button className=\"btn-add\" onClick={() => addToCart(item)}>\r\n                + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */}\r\n      <section className=\"all-products\">\r\n        <h2>üõí ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>\r\n        <div className=\"product-grid fullwidth\">\r\n          {listToShow.map((p) => (\r\n            <div className=\"product-card\" key={p.id}>\r\n              <Link to={`/products/${p.id}`}>\r\n                {p.img ? (\r\n                  <img src={p.img} alt={p.name} />\r\n                ) : (\r\n                  <div className=\"noimg\">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ</div>\r\n                )}\r\n              </Link>\r\n              <h3>\r\n                <Link to={`/products/${p.id}`}>{p.name}</Link>\r\n              </h3>\r\n              <p>\r\n                {p.price ? `${p.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó` : \"‚Äî ‡∏ö‡∏≤‡∏ó\"}\r\n              </p>\r\n              <button className=\"btn-add\" onClick={() => addToCart(p)}>\r\n                + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}