{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\HomeUser.js\",\n  _s = $RefreshSig$();\n// src/pages/HomeUser.js\n// ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà 404 (‡πÉ‡∏ä‡πâ mediaSrc) ‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏°‡∏≤‡∏Ñ‡∏£‡∏ö (fallback ‡∏à‡∏≤‡∏Å min_price ‚Üí selling_price ‚Üí price)\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './HomeUser.css';\nimport { api, path, mediaSrc } from '../lib/api';\nimport { addItem as addToCart } from '../lib/cart';\n\n/* ---------- helpers ---------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst toArray = d => {\n  var _d$data;\n  return Array.isArray(d) ? d : Array.isArray(d === null || d === void 0 ? void 0 : d.items) ? d.items : Array.isArray(d === null || d === void 0 ? void 0 : (_d$data = d.data) === null || _d$data === void 0 ? void 0 : _d$data.items) ? d.data.items : Array.isArray(d === null || d === void 0 ? void 0 : d.data) ? d.data : [];\n};\nconst normalizeProduct = (p, idx) => {\n  var _ref, _ref2, _ref3, _ref4, _p$min_price, _ref5, _p$product_id, _ref6, _ref7, _ref8, _p$product_name;\n  const imgPath = p.image_url || p.cover_url || p.image || (Array.isArray(p.images) ? p.images[0] : '');\n  const img = mediaSrc(imgPath); // ‚úÖ ‡∏Ñ‡∏£‡∏≠‡∏ö mediaSrc ‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏™\n\n  const priceRaw = (_ref = (_ref2 = (_ref3 = (_ref4 = (_p$min_price = p.min_price) !== null && _p$min_price !== void 0 ? _p$min_price : p.selling_price) !== null && _ref4 !== void 0 ? _ref4 : p.price) !== null && _ref3 !== void 0 ? _ref3 : p.unit_price) !== null && _ref2 !== void 0 ? _ref2 : p.product_price) !== null && _ref !== void 0 ? _ref : 0;\n  const price = Number(priceRaw) || 0;\n  return {\n    id: (_ref5 = (_p$product_id = p.product_id) !== null && _p$product_id !== void 0 ? _p$product_id : p.id) !== null && _ref5 !== void 0 ? _ref5 : `p-${idx}`,\n    name: (_ref6 = (_ref7 = (_ref8 = (_p$product_name = p.product_name) !== null && _p$product_name !== void 0 ? _p$product_name : p.name_th) !== null && _ref8 !== void 0 ? _ref8 : p.name) !== null && _ref7 !== void 0 ? _ref7 : p.title) !== null && _ref6 !== void 0 ? _ref6 : '',\n    price,\n    img\n  };\n};\nasync function fetchWithCount(url, want) {\n  const paramSets = [{\n    limit: want\n  }, {\n    take: want\n  }, {\n    per_page: want\n  }, {\n    pageSize: want\n  }, {\n    top: want\n  }, {}];\n  for (const ps of paramSets) {\n    try {\n      const r = await api.get(path(url), {\n        params: {\n          ...ps,\n          _: Date.now()\n        }\n      });\n      const arr = toArray(r);\n      if (arr.length) return arr;\n    } catch {}\n  }\n  return [];\n}\nexport default function HomeUser() {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [bestSellers, setBestSellers] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const [loading, setLoading] = useState({\n    cat: true,\n    best: true,\n    all: true\n  });\n  const [err, setErr] = useState({\n    cat: '',\n    best: '',\n    all: ''\n  });\n\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà\n  useEffect(() => {\n    (async () => {\n      try {\n        setLoading(s => ({\n          ...s,\n          cat: true\n        }));\n        let res = null;\n        try {\n          res = await api.get(path('/categories'), {\n            params: {\n              status: 'active',\n              _: Date.now()\n            }\n          });\n        } catch {\n          try {\n            res = await api.get(path('/categories'), {\n              params: {\n                published: 1,\n                _: Date.now()\n              }\n            });\n          } catch {\n            res = await api.get(path('/categories'), {\n              params: {\n                _: Date.now()\n              }\n            });\n          }\n        }\n        const raw = toArray(res).map((c, idx) => {\n          var _ref9, _ref0, _ref1, _c$category_id, _ref10, _ref11, _c$category_name;\n          const cid = (_ref9 = (_ref0 = (_ref1 = (_c$category_id = c.category_id) !== null && _c$category_id !== void 0 ? _c$category_id : c.id) !== null && _ref1 !== void 0 ? _ref1 : c.code) !== null && _ref0 !== void 0 ? _ref0 : c.slug) !== null && _ref9 !== void 0 ? _ref9 : `cat-${idx}`;\n          const name = (_ref10 = (_ref11 = (_c$category_name = c.category_name) !== null && _c$category_name !== void 0 ? _c$category_name : c.name_th) !== null && _ref11 !== void 0 ? _ref11 : c.name) !== null && _ref10 !== void 0 ? _ref10 : '';\n          const forcedSlug = String(cid) === 'ro1' ? 'plants' : String(cid) === 'ro2' ? 'tools' : null;\n          const slug = forcedSlug !== null && forcedSlug !== void 0 ? forcedSlug : c.slug ? String(c.slug).toLowerCase() : String(cid).toLowerCase();\n          const img = c.image_url || c.image || c.cover || c.thumbnail || '';\n          return {\n            id: String(cid),\n            slug,\n            name,\n            image: img ? mediaSrc(img) : ''\n          };\n        }).filter(x => x.id && x.name);\n        const order = ['plants', 'tools'];\n        raw.sort((a, b) => order.indexOf(a.slug) - order.indexOf(b.slug));\n        setCategories(raw.filter(c => ['plants', 'tools'].includes(c.slug)).slice(0, 2));\n      } catch {\n        setCategories([]);\n        setErr(e => ({\n          ...e,\n          cat: '‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'\n        }));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          cat: false\n        }));\n      }\n    })();\n  }, []);\n\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ\n  useEffect(() => {\n    (async () => {\n      try {\n        setLoading(s => ({\n          ...s,\n          best: true\n        }));\n        const endpoints = ['/products/best-sellers', '/products?sort=popular', '/products?featured=1', '/products'];\n        let bag = [];\n        for (const ep of endpoints) {\n          const got = await fetchWithCount(ep, 12);\n          if (got.length) bag = bag.concat(got);\n          if (bag.length >= 12) break;\n        }\n        const list = bag.map((p, i) => normalizeProduct(p, i)).filter(x => x.id && x.name);\n        setBestSellers(list.slice(0, 5));\n        if (!list.length) setErr(e => ({\n          ...e,\n          best: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡∏´‡∏£‡∏∑‡∏≠ API ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'\n        }));\n      } catch {\n        setBestSellers([]);\n        setErr(e => ({\n          ...e,\n          best: '‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'\n        }));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          best: false\n        }));\n      }\n    })();\n  }, []);\n\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\n  useEffect(() => {\n    (async () => {\n      try {\n        setLoading(s => ({\n          ...s,\n          all: true\n        }));\n        const got = await fetchWithCount('/products', 100);\n        const seen = new Set();\n        const list = got.map((p, i) => normalizeProduct(p, i)).filter(x => x.id && x.name && !seen.has(x.id) && seen.add(x.id));\n        list.sort((a, b) => {\n          const ai = Number(a.id),\n            bi = Number(b.id);\n          if (Number.isFinite(ai) && Number.isFinite(bi)) return bi - ai;\n          return 0;\n        });\n        setAllProducts(list);\n        if (!list.length) setErr(e => ({\n          ...e,\n          all: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠ API ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'\n        }));\n      } catch {\n        setAllProducts([]);\n        setErr(e => ({\n          ...e,\n          all: '‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à'\n        }));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          all: false\n        }));\n      }\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"best-sellers\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDF1F \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E02\\u0E32\\u0E22\\u0E14\\u0E35\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), loading.best ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this) : bestSellers.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: bestSellers.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [item.img ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.img,\n            alt: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: 180,\n              display: 'grid',\n              placeItems: 'center',\n              background: '#eef5ef'\n            },\n            children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: item.price ? `${item.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó` : '‚Äî ‡∏ö‡∏≤‡∏ó'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add\",\n            onClick: () => addToCart(item),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: err.best || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"all-products\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDED2 \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), loading.all ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this) : allProducts.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: allProducts.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [p.img ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: p.img,\n            alt: p.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: 180,\n              display: 'grid',\n              placeItems: 'center',\n              background: '#eef5ef'\n            },\n            children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: p.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: p.price ? `${p.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó` : '‚Äî ‡∏ö‡∏≤‡∏ó'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add\",\n            onClick: () => addToCart(p),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: err.all || '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 168,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeUser, \"WF3UaT92K62LWiKf3CClKX69beA=\");\n_c = HomeUser;\nvar _c;\n$RefreshReg$(_c, \"HomeUser\");","map":{"version":3,"names":["React","useEffect","useState","Link","api","path","mediaSrc","addItem","addToCart","jsxDEV","_jsxDEV","toArray","d","_d$data","Array","isArray","items","data","normalizeProduct","p","idx","_ref","_ref2","_ref3","_ref4","_p$min_price","_ref5","_p$product_id","_ref6","_ref7","_ref8","_p$product_name","imgPath","image_url","cover_url","image","images","img","priceRaw","min_price","selling_price","price","unit_price","product_price","Number","id","product_id","name","product_name","name_th","title","fetchWithCount","url","want","paramSets","limit","take","per_page","pageSize","top","ps","r","get","params","_","Date","now","arr","length","HomeUser","_s","categories","setCategories","bestSellers","setBestSellers","allProducts","setAllProducts","loading","setLoading","cat","best","all","err","setErr","s","res","status","published","raw","map","c","_ref9","_ref0","_ref1","_c$category_id","_ref10","_ref11","_c$category_name","cid","category_id","code","slug","category_name","forcedSlug","String","toLowerCase","cover","thumbnail","filter","x","order","sort","a","b","indexOf","includes","slice","e","endpoints","bag","ep","got","concat","list","i","seen","Set","has","add","ai","bi","isFinite","className","children","fileName","_jsxFileName","lineNumber","columnNumber","item","src","alt","style","height","display","placeItems","background","toLocaleString","onClick","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/HomeUser.js"],"sourcesContent":["// src/pages/HomeUser.js\r\n// ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà 404 (‡πÉ‡∏ä‡πâ mediaSrc) ‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏°‡∏≤‡∏Ñ‡∏£‡∏ö (fallback ‡∏à‡∏≤‡∏Å min_price ‚Üí selling_price ‚Üí price)\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './HomeUser.css';\r\nimport { api, path, mediaSrc } from '../lib/api';\r\nimport { addItem as addToCart } from '../lib/cart';\r\n\r\n/* ---------- helpers ---------- */\r\nconst toArray = (d) =>\r\n  Array.isArray(d) ? d\r\n  : Array.isArray(d?.items) ? d.items\r\n  : Array.isArray(d?.data?.items) ? d.data.items\r\n  : Array.isArray(d?.data) ? d.data\r\n  : [];\r\n\r\nconst normalizeProduct = (p, idx) => {\r\n  const imgPath =\r\n    p.image_url || p.cover_url || p.image || (Array.isArray(p.images) ? p.images[0] : '');\r\n  const img = mediaSrc(imgPath); // ‚úÖ ‡∏Ñ‡∏£‡∏≠‡∏ö mediaSrc ‡∏ó‡∏∏‡∏Å‡πÄ‡∏Ñ‡∏™\r\n\r\n  const priceRaw =\r\n    p.min_price ??\r\n    p.selling_price ??\r\n    p.price ??\r\n    p.unit_price ??\r\n    p.product_price ??\r\n    0;\r\n  const price = Number(priceRaw) || 0;\r\n\r\n  return {\r\n    id: p.product_id ?? p.id ?? `p-${idx}`,\r\n    name: p.product_name ?? p.name_th ?? p.name ?? p.title ?? '',\r\n    price,\r\n    img,\r\n  };\r\n};\r\n\r\nasync function fetchWithCount(url, want) {\r\n  const paramSets = [\r\n    { limit: want },\r\n    { take: want },\r\n    { per_page: want },\r\n    { pageSize: want },\r\n    { top: want },\r\n    {},\r\n  ];\r\n  for (const ps of paramSets) {\r\n    try {\r\n      const r = await api.get(path(url), { params: { ...ps, _: Date.now() } });\r\n      const arr = toArray(r);\r\n      if (arr.length) return arr;\r\n    } catch {}\r\n  }\r\n  return [];\r\n}\r\n\r\nexport default function HomeUser() {\r\n  const [categories, setCategories] = useState([]);\r\n  const [bestSellers, setBestSellers] = useState([]);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [loading, setLoading] = useState({ cat: true, best: true, all: true });\r\n  const [err, setErr] = useState({ cat: '', best: '', all: '' });\r\n\r\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading((s) => ({ ...s, cat: true }));\r\n        let res = null;\r\n        try {\r\n          res = await api.get(path('/categories'), {\r\n            params: { status: 'active', _: Date.now() },\r\n          });\r\n        } catch {\r\n          try {\r\n            res = await api.get(path('/categories'), {\r\n              params: { published: 1, _: Date.now() },\r\n            });\r\n          } catch {\r\n            res = await api.get(path('/categories'), { params: { _: Date.now() } });\r\n          }\r\n        }\r\n        const raw = toArray(res)\r\n          .map((c, idx) => {\r\n            const cid = c.category_id ?? c.id ?? c.code ?? c.slug ?? `cat-${idx}`;\r\n            const name = c.category_name ?? c.name_th ?? c.name ?? '';\r\n            const forcedSlug =\r\n              String(cid) === 'ro1' ? 'plants'\r\n                : String(cid) === 'ro2' ? 'tools'\r\n                : null;\r\n            const slug = forcedSlug ?? (c.slug ? String(c.slug).toLowerCase() : String(cid).toLowerCase());\r\n            const img = c.image_url || c.image || c.cover || c.thumbnail || '';\r\n            return { id: String(cid), slug, name, image: img ? mediaSrc(img) : '' };\r\n          })\r\n          .filter((x) => x.id && x.name);\r\n\r\n        const order = ['plants', 'tools'];\r\n        raw.sort((a, b) => order.indexOf(a.slug) - order.indexOf(b.slug));\r\n        setCategories(raw.filter((c) => ['plants', 'tools'].includes(c.slug)).slice(0, 2));\r\n      } catch {\r\n        setCategories([]);\r\n        setErr((e) => ({ ...e, cat: '‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à' }));\r\n      } finally {\r\n        setLoading((s) => ({ ...s, cat: false }));\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading((s) => ({ ...s, best: true }));\r\n        const endpoints = [\r\n          '/products/best-sellers',\r\n          '/products?sort=popular',\r\n          '/products?featured=1',\r\n          '/products',\r\n        ];\r\n        let bag = [];\r\n        for (const ep of endpoints) {\r\n          const got = await fetchWithCount(ep, 12);\r\n          if (got.length) bag = bag.concat(got);\r\n          if (bag.length >= 12) break;\r\n        }\r\n        const list = bag.map((p, i) => normalizeProduct(p, i)).filter((x) => x.id && x.name);\r\n        setBestSellers(list.slice(0, 5));\r\n        if (!list.length)\r\n          setErr((e) => ({ ...e, best: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡∏´‡∏£‡∏∑‡∏≠ API ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•' }));\r\n      } catch {\r\n        setBestSellers([]);\r\n        setErr((e) => ({ ...e, best: '‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à' }));\r\n      } finally {\r\n        setLoading((s) => ({ ...s, best: false }));\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  // ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading((s) => ({ ...s, all: true }));\r\n        const got = await fetchWithCount('/products', 100);\r\n        const seen = new Set();\r\n        const list = got\r\n          .map((p, i) => normalizeProduct(p, i))\r\n          .filter((x) => x.id && x.name && !seen.has(x.id) && seen.add(x.id));\r\n        list.sort((a, b) => {\r\n          const ai = Number(a.id), bi = Number(b.id);\r\n          if (Number.isFinite(ai) && Number.isFinite(bi)) return bi - ai;\r\n          return 0;\r\n        });\r\n        setAllProducts(list);\r\n        if (!list.length)\r\n          setErr((e) => ({ ...e, all: '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠ API ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•' }));\r\n      } catch {\r\n        setAllProducts([]);\r\n        setErr((e) => ({ ...e, all: '‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à' }));\r\n      } finally {\r\n        setLoading((s) => ({ ...s, all: false }));\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <section className=\"best-sellers\">\r\n        <h2>üåü ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h2>\r\n        {loading.best ? (\r\n          <div className=\"info-inline\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‚Ä¶</div>\r\n        ) : bestSellers.length ? (\r\n          <div className=\"product-grid\">\r\n            {bestSellers.map((item) => (\r\n              <div className=\"product-card\" key={item.id}>\r\n                {item.img ? (\r\n                  <img src={item.img} alt={item.name} />\r\n                ) : (\r\n                  <div\r\n                    style={{\r\n                      height: 180,\r\n                      display: 'grid',\r\n                      placeItems: 'center',\r\n                      background: '#eef5ef',\r\n                    }}\r\n                  >\r\n                    ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ\r\n                  </div>\r\n                )}\r\n                <h3>{item.name}</h3>\r\n                <p>{item.price ? `${item.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó` : '‚Äî ‡∏ö‡∏≤‡∏ó'}</p>\r\n                <button className=\"btn-add\" onClick={() => addToCart(item)}>\r\n                  + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"info-inline\">{err.best || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ'}</div>\r\n        )}\r\n      </section>\r\n\r\n      <section className=\"all-products\">\r\n        <h2>üõí ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>\r\n        {loading.all ? (\r\n          <div className=\"info-inline\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‚Ä¶</div>\r\n        ) : allProducts.length ? (\r\n          <div className=\"product-grid\">\r\n            {allProducts.map((p) => (\r\n              <div className=\"product-card\" key={p.id}>\r\n                {p.img ? (\r\n                  <img src={p.img} alt={p.name} />\r\n                ) : (\r\n                  <div\r\n                    style={{\r\n                      height: 180,\r\n                      display: 'grid',\r\n                      placeItems: 'center',\r\n                      background: '#eef5ef',\r\n                    }}\r\n                  >\r\n                    ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ\r\n                  </div>\r\n                )}\r\n                <h3>{p.name}</h3>\r\n                <p>{p.price ? `${p.price.toLocaleString()} ‡∏ö‡∏≤‡∏ó` : '‚Äî ‡∏ö‡∏≤‡∏ó'}</p>\r\n                <button className=\"btn-add\" onClick={() => addToCart(p)}>\r\n                  + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"info-inline\">{err.all || '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤'}</div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}