{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\CheckoutPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport CheckoutAddress from '../checkout/CheckoutAddress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CheckoutPage() {\n  _s();\n  const [shipAddr, setShipAddr] = useState(null);\n  const placeOrder = async () => {\n    if (!shipAddr) return alert('ยังไม่มีที่อยู่จัดส่ง');\n    const payload = {\n      items: [],\n      // TODO: ใส่รายการตะกร้าจริงของคุณ\n      shipping_address_id: shipAddr.address_id,\n      // ให้ backend ทำ snapshot จาก id\n      note: ''\n    };\n    try {\n      const res = await axios.post('/api/orders', payload);\n      alert('สั่งซื้อสำเร็จ: ' + res.data.order_id);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || 'สั่งซื้อไม่สำเร็จ');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 900,\n      margin: '0 auto',\n      padding: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0E0A\\u0E33\\u0E23\\u0E30\\u0E40\\u0E07\\u0E34\\u0E19\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CheckoutAddress, {\n      onSelect: setShipAddr\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: placeOrder,\n        children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutPage, \"m4cK2ZnlsYMMHFdt6KJvn97Ke68=\");\n_c = CheckoutPage;\nvar _c;\n$RefreshReg$(_c, \"CheckoutPage\");","map":{"version":3,"names":["React","useState","axios","CheckoutAddress","jsxDEV","_jsxDEV","CheckoutPage","_s","shipAddr","setShipAddr","placeOrder","alert","payload","items","shipping_address_id","address_id","note","res","post","data","order_id","e","_e$response","_e$response$data","response","error","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onSelect","marginTop","onClick","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/CheckoutPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport CheckoutAddress from '../checkout/CheckoutAddress';\r\n\r\nexport default function CheckoutPage() {\r\n  const [shipAddr, setShipAddr] = useState(null);\r\n\r\n  const placeOrder = async () => {\r\n    if (!shipAddr) return alert('ยังไม่มีที่อยู่จัดส่ง');\r\n\r\n    const payload = {\r\n      items: [], // TODO: ใส่รายการตะกร้าจริงของคุณ\r\n      shipping_address_id: shipAddr.address_id, // ให้ backend ทำ snapshot จาก id\r\n      note: '',\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post('/api/orders', payload);\r\n      alert('สั่งซื้อสำเร็จ: ' + res.data.order_id);\r\n    } catch (e) {\r\n      alert(e?.response?.data?.error || 'สั่งซื้อไม่สำเร็จ');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 900, margin: '0 auto', padding: 16 }}>\r\n      <h2>ชำระเงิน</h2>\r\n      <CheckoutAddress onSelect={setShipAddr} />\r\n      <div style={{ marginTop: 16 }}>\r\n        <button onClick={placeOrder}>ยืนยันคำสั่งซื้อ</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,eAAe,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,eAAe,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAE9C,MAAMS,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACF,QAAQ,EAAE,OAAOG,KAAK,CAAC,uBAAuB,CAAC;IAEpD,MAAMC,OAAO,GAAG;MACdC,KAAK,EAAE,EAAE;MAAE;MACXC,mBAAmB,EAAEN,QAAQ,CAACO,UAAU;MAAE;MAC1CC,IAAI,EAAE;IACR,CAAC;IAED,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,aAAa,EAAEN,OAAO,CAAC;MACpDD,KAAK,CAAC,kBAAkB,GAAGM,GAAG,CAACE,IAAI,CAACC,QAAQ,CAAC;IAC/C,CAAC,CAAC,OAAOC,CAAC,EAAE;MAAA,IAAAC,WAAA,EAAAC,gBAAA;MACVZ,KAAK,CAAC,CAAAU,CAAC,aAADA,CAAC,wBAAAC,WAAA,GAADD,CAAC,CAAEG,QAAQ,cAAAF,WAAA,wBAAAC,gBAAA,GAAXD,WAAA,CAAaH,IAAI,cAAAI,gBAAA,uBAAjBA,gBAAA,CAAmBE,KAAK,KAAI,mBAAmB,CAAC;IACxD;EACF,CAAC;EAED,oBACEpB,OAAA;IAAKqB,KAAK,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,MAAM,EAAE,QAAQ;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC3DzB,OAAA;MAAAyB,QAAA,EAAI;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjB7B,OAAA,CAACF,eAAe;MAACgC,QAAQ,EAAE1B;IAAY;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC1C7B,OAAA;MAAKqB,KAAK,EAAE;QAAEU,SAAS,EAAE;MAAG,CAAE;MAAAN,QAAA,eAC5BzB,OAAA;QAAQgC,OAAO,EAAE3B,UAAW;QAAAoB,QAAA,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC3B,EAAA,CA7BuBD,YAAY;AAAAgC,EAAA,GAAZhC,YAAY;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}