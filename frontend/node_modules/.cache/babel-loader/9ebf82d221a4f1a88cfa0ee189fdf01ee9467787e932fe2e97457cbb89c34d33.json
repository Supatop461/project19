{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\admin\\\\VariantsManager.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/admin/VariantsManager.js\n// หน้าที่: จัดการตัวเลือก (options) ค่า (values) และสร้าง/แก้/ลบ SKU ของสินค้ารายตัว\n// ใช้ร่วมกับ backend routes ใต้ /api/admin/... (ดูรายการ route ในโน้ตท้ายไฟล์)\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function VariantsManager() {\n  _s();\n  var _data$product, _data$product2;\n  const {\n    productId\n  } = useParams();\n\n  // ---------- STATE หลัก ----------\n  const [loading, setLoading] = useState(true); // สถานะกำลังโหลดหน้า\n  const [busy, setBusy] = useState(false); // กันคลิกซ้ำขณะยิง API\n  const [error, setError] = useState(''); // เก็บข้อความ error ล่าสุด\n  const [msg, setMsg] = useState(''); // เก็บข้อความสำเร็จ/แจ้งเตือน\n\n  // payload หลักจาก backend: { product, options, skus }\n  const [data, setData] = useState({\n    product: null,\n    options: [],\n    skus: []\n  });\n\n  // ฟอร์มเพิ่มออปชั่นใหม่\n  const [newOptionName, setNewOptionName] = useState('');\n\n  // ฟอร์มสร้าง SKU (draft)\n  const [skuDraft, setSkuDraft] = useState({\n    sku: '',\n    price: '',\n    stock_qty: '',\n    values: {} // เก็บ mapping { [option_id]: value_id }\n  });\n\n  // ---------- helper รวมศูนย์ error ----------\n  const boom = (e, fallback = 'เกิดข้อผิดพลาด') => {\n    var _e$response, _e$response$data;\n    const msg = (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.error) || (e === null || e === void 0 ? void 0 : e.message) || fallback;\n    setError(msg);\n    console.error(fallback, e);\n  };\n\n  // ---------- โหลดข้อมูลจาก backend ----------\n  async function load() {\n    setLoading(true);\n    setError('');\n    setMsg('');\n    try {\n      const res = await axios.get(`/api/admin/products/${productId}/variants`);\n      setData(res.data);\n    } catch (e) {\n      boom(e, 'โหลดข้อมูลไม่สำเร็จ');\n    } finally {\n      setLoading(false);\n    }\n  }\n  useEffect(() => {\n    load(); /* โหลดเมื่อ productId เปลี่ยน */\n  }, [productId]);\n\n  // ---------- ACTIONS: Option / Value ----------\n  async function addOption() {\n    if (!newOptionName.trim()) return;\n    setBusy(true);\n    setError('');\n    setMsg('');\n    try {\n      await axios.post(`/api/admin/products/${productId}/options`, {\n        option_name: newOptionName.trim()\n      });\n      setNewOptionName('');\n      await load();\n      setMsg('เพิ่มออปชั่นสำเร็จ');\n    } catch (e) {\n      boom(e, 'เพิ่มออปชั่นไม่สำเร็จ');\n    } finally {\n      setBusy(false);\n    }\n  }\n  async function addValue(option_id, value_name) {\n    if (!value_name.trim()) return;\n    setBusy(true);\n    setError('');\n    setMsg('');\n    try {\n      await axios.post(`/api/admin/options/${option_id}/values`, {\n        value_name: value_name.trim()\n      });\n      await load();\n      setMsg('เพิ่มค่าให้ตัวเลือกสำเร็จ');\n    } catch (e) {\n      boom(e, 'เพิ่มค่าไม่สำเร็จ');\n    } finally {\n      setBusy(false);\n    }\n  }\n  async function deleteOption(option_id) {\n    if (!window.confirm('ลบออปชั่นนี้ทั้งหมด?')) return;\n    setBusy(true);\n    setError('');\n    setMsg('');\n    try {\n      await axios.delete(`/api/admin/options/${option_id}`);\n      await load();\n      setMsg('ลบออปชั่นสำเร็จ');\n    } catch (e) {\n      boom(e, 'ลบออปชั่นไม่สำเร็จ (อาจมี SKU ใช้อยู่)');\n    } finally {\n      setBusy(false);\n    }\n  }\n  async function deleteValue(value_id) {\n    setBusy(true);\n    setError('');\n    setMsg('');\n    try {\n      await axios.delete(`/api/admin/values/${value_id}`);\n      await load();\n      setMsg('ลบค่าสำเร็จ');\n    } catch (e) {\n      boom(e, 'ลบไม่ได้: ค่านี้ถูกใช้ในบาง SKU');\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  // ---------- ACTIONS: SKU ----------\n  async function createSku() {\n    setError('');\n    setMsg('');\n\n    // map values จาก {option_id: value_id} → [{option_id, value_id}]\n    const values = Object.entries(skuDraft.values).map(([option_id, value_id]) => ({\n      option_id: Number(option_id),\n      value_id: Number(value_id)\n    })).filter(v => v.value_id); // เก็บเฉพาะที่เลือกจริง\n\n    if (!values.length) {\n      return setError('กรุณาเลือกค่าอย่างน้อย 1 รายการ');\n    }\n    const body = {\n      sku: skuDraft.sku || null,\n      price: Number(skuDraft.price || 0),\n      stock_qty: Number(skuDraft.stock_qty || 0),\n      values\n    };\n    setBusy(true);\n    try {\n      var _res$data, _res$data$sku, _res$data2;\n      const res = await axios.post(`/api/admin/products/${productId}/skus`, body);\n      setMsg(`สร้าง/อัปเดต SKU สำเร็จ: ${((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$sku = _res$data.sku) === null || _res$data$sku === void 0 ? void 0 : _res$data$sku.sku) || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.sku_code) || '(auto)'}`);\n      setSkuDraft({\n        sku: '',\n        price: '',\n        stock_qty: '',\n        values: {}\n      });\n      await load();\n    } catch (e) {\n      boom(e, 'สร้าง/อัปเดต SKU ไม่สำเร็จ');\n    } finally {\n      setBusy(false);\n    }\n  }\n  async function updateSku(sku_id, row) {\n    setBusy(true);\n    setError('');\n    setMsg('');\n    try {\n      await axios.put(`/api/admin/skus/${sku_id}`, row); // { price, stock_qty, is_active } อย่างใดอย่างหนึ่ง\n      await load();\n      setMsg('อัปเดต SKU สำเร็จ');\n    } catch (e) {\n      boom(e, 'อัปเดต SKU ไม่สำเร็จ');\n    } finally {\n      setBusy(false);\n    }\n  }\n  async function deleteSku(sku_id) {\n    if (!window.confirm('ลบ SKU นี้?')) return;\n    setBusy(true);\n    setError('');\n    setMsg('');\n    try {\n      await axios.delete(`/api/admin/skus/${sku_id}`);\n      await load();\n      setMsg('ลบ SKU สำเร็จ');\n    } catch (e) {\n      boom(e, 'ลบ SKU ไม่สำเร็จ');\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  // ---------- RENDER ----------\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16\n    },\n    children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16,\n      display: 'grid',\n      gap: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0\n        },\n        children: [\"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01 \\u2014 \", (_data$product = data.product) === null || _data$product === void 0 ? void 0 : _data$product.product_name, \" (#\", (_data$product2 = data.product) === null || _data$product2 === void 0 ? void 0 : _data$product2.product_id, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        style: {\n          marginLeft: 'auto'\n        },\n        children: \"\\u2190 \\u0E01\\u0E25\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), (error || msg) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 12\n      },\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#fff',\n          background: '#d33',\n          padding: '8px 12px',\n          borderRadius: 8\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#fff',\n          background: 'green',\n          padding: '8px 12px',\n          borderRadius: 8\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        border: '1px solid #eee',\n        borderRadius: 12,\n        padding: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0E2D\\u0E2D\\u0E1B\\u0E0A\\u0E31\\u0E48\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8,\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E2D\\u0E1B\\u0E0A\\u0E31\\u0E48\\u0E19 \\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E02\\u0E19\\u0E32\\u0E14 / \\u0E40\\u0E2A\\u0E23\\u0E34\\u0E21\\u0E23\\u0E32\\u0E01\",\n          value: newOptionName,\n          onChange: e => setNewOptionName(e.target.value),\n          style: {\n            flex: 1,\n            padding: 8\n          },\n          disabled: busy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addOption,\n          disabled: busy,\n          children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2D\\u0E2D\\u0E1B\\u0E0A\\u0E31\\u0E48\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), data.options.map(opt => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderTop: '1px dashed #ddd',\n          paddingTop: 10,\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: opt.option_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => deleteOption(opt.option_id),\n            style: {\n              marginLeft: 'auto'\n            },\n            disabled: busy,\n            children: \"\\u0E25\\u0E1A\\u0E2D\\u0E2D\\u0E1B\\u0E0A\\u0E31\\u0E48\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            flexWrap: 'wrap',\n            marginTop: 8\n          },\n          children: (opt.values || []).map(v => /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              background: '#f5f5f5',\n              padding: '6px 10px',\n              borderRadius: 8\n            },\n            children: [v.value_name, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteValue(v.value_id),\n              style: {\n                marginLeft: 8\n              },\n              disabled: busy,\n              children: \"x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this)]\n          }, v.value_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddValueInline, {\n          onAdd: name => addValue(opt.option_id, name),\n          disabled: busy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)]\n      }, opt.option_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        border: '1px solid #eee',\n        borderRadius: 12,\n        padding: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07 SKU\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gap: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"SKU code (\\u0E44\\u0E21\\u0E48\\u0E1A\\u0E31\\u0E07\\u0E04\\u0E31\\u0E1A)\",\n          value: skuDraft.sku,\n          onChange: e => setSkuDraft(s => ({\n            ...s,\n            sku: e.target.value\n          })),\n          disabled: busy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), data.options.map(opt => {\n          var _skuDraft$values$opt$;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                width: 120\n              },\n              children: opt.option_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: (_skuDraft$values$opt$ = skuDraft.values[opt.option_id]) !== null && _skuDraft$values$opt$ !== void 0 ? _skuDraft$values$opt$ : '',\n              onChange: e => {\n                const val = e.target.value ? Number(e.target.value) : '';\n                setSkuDraft(s => ({\n                  ...s,\n                  values: {\n                    ...s.values,\n                    [opt.option_id]: val\n                  }\n                }));\n              },\n              disabled: busy,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- \\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E04\\u0E48\\u0E32 --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), (opt.values || []).map(v => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: v.value_id,\n                children: v.value_name\n              }, v.value_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, opt.option_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"\\u0E23\\u0E32\\u0E04\\u0E32\",\n            value: skuDraft.price,\n            onChange: e => setSkuDraft(s => ({\n              ...s,\n              price: e.target.value\n            })),\n            disabled: busy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"\\u0E2A\\u0E15\\u0E47\\u0E2D\\u0E01\",\n            value: skuDraft.stock_qty,\n            onChange: e => setSkuDraft(s => ({\n              ...s,\n              stock_qty: e.target.value\n            })),\n            disabled: busy\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: createSku,\n            disabled: busy,\n            children: \"+ \\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07/\\u0E2D\\u0E31\\u0E1B\\u0E40\\u0E14\\u0E15 SKU\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        border: '1px solid #eee',\n        borderRadius: 12,\n        padding: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"SKU \\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        width: \"100%\",\n        cellPadding: \"8\",\n        style: {\n          borderCollapse: 'collapse'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              background: '#fafafa'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"left\",\n              children: \"SKU\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"right\",\n              children: \"\\u0E23\\u0E32\\u0E04\\u0E32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              align: \"right\",\n              children: \"\\u0E2A\\u0E15\\u0E47\\u0E2D\\u0E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.skus.map(s => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              borderTop: '1px solid #eee'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: s.sku || /*#__PURE__*/_jsxDEV(\"em\", {\n                children: \"(auto)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 31\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(InlineNumber, {\n                value: s.price,\n                onSave: v => updateSku(s.sku_id, {\n                  price: Number(v)\n                }),\n                disabled: busy\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(InlineNumber, {\n                value: s.stock_qty,\n                onSave: v => updateSku(s.sku_id, {\n                  stock_qty: Number(v)\n                }),\n                disabled: busy\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: s.is_active ? '1' : '0',\n                onChange: e => updateSku(s.sku_id, {\n                  is_active: e.target.value === '1'\n                }),\n                disabled: busy,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: \"\\u0E40\\u0E1B\\u0E34\\u0E14\\u0E02\\u0E32\\u0E22\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"0\",\n                  children: \"\\u0E1B\\u0E34\\u0E14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => deleteSku(s.sku_id),\n                disabled: busy,\n                children: \"\\u0E25\\u0E1A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, s.sku_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n}\n\n/* ---------- คอมโพเนนต์ย่อย ---------- */\n_s(VariantsManager, \"9bDgSRQxZ9ZmRtKl8Xuk1Y8NV2o=\", false, function () {\n  return [useParams];\n});\n_c = VariantsManager;\nfunction AddValueInline({\n  onAdd,\n  disabled\n}) {\n  _s2();\n  const [val, setVal] = useState('');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      gap: 8,\n      marginTop: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E04\\u0E48\\u0E32\\u0E43\\u0E2B\\u0E21\\u0E48 \\u0E40\\u0E0A\\u0E48\\u0E19 150\\u0E0B\\u0E21.\",\n      value: val,\n      onChange: e => setVal(e.target.value),\n      disabled: disabled\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        if (val.trim()) {\n          onAdd(val);\n          setVal('');\n        }\n      },\n      disabled: disabled,\n      children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E04\\u0E48\\u0E32\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n}\n_s2(AddValueInline, \"V6SIQC3+2Sl42l4zs35zB3hiCfs=\");\n_c2 = AddValueInline;\nfunction InlineNumber({\n  value,\n  onSave,\n  disabled\n}) {\n  _s3();\n  const [v, setV] = useState(value);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: v,\n      onChange: e => setV(e.target.value),\n      style: {\n        width: 90\n      },\n      disabled: disabled\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => onSave(v),\n      style: {\n        marginLeft: 6\n      },\n      disabled: disabled,\n      children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 352,\n    columnNumber: 5\n  }, this);\n}\n_s3(InlineNumber, \"alOTYkZZa7V9BRNYIfRV8G1EEgM=\");\n_c3 = InlineNumber;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"VariantsManager\");\n$RefreshReg$(_c2, \"AddValueInline\");\n$RefreshReg$(_c3, \"InlineNumber\");","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","Link","jsxDEV","_jsxDEV","VariantsManager","_s","_data$product","_data$product2","productId","loading","setLoading","busy","setBusy","error","setError","msg","setMsg","data","setData","product","options","skus","newOptionName","setNewOptionName","skuDraft","setSkuDraft","sku","price","stock_qty","values","boom","e","fallback","_e$response","_e$response$data","response","message","console","load","res","get","addOption","trim","post","option_name","addValue","option_id","value_name","deleteOption","window","confirm","delete","deleteValue","value_id","createSku","Object","entries","map","Number","filter","v","length","body","_res$data","_res$data$sku","_res$data2","sku_code","updateSku","sku_id","row","put","deleteSku","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","alignItems","margin","product_name","product_id","to","marginLeft","color","background","borderRadius","border","marginBottom","placeholder","value","onChange","target","flex","disabled","onClick","opt","borderTop","paddingTop","marginTop","flexWrap","AddValueInline","onAdd","name","s","_skuDraft$values$opt$","width","val","type","cellPadding","borderCollapse","align","InlineNumber","onSave","is_active","_c","_s2","setVal","_c2","_s3","setV","_c3","$RefreshReg$"],"sources":["D:/project19/frontend/src/admin/VariantsManager.js"],"sourcesContent":["// src/admin/VariantsManager.js\r\n// หน้าที่: จัดการตัวเลือก (options) ค่า (values) และสร้าง/แก้/ลบ SKU ของสินค้ารายตัว\r\n// ใช้ร่วมกับ backend routes ใต้ /api/admin/... (ดูรายการ route ในโน้ตท้ายไฟล์)\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, Link } from 'react-router-dom';\r\n\r\nexport default function VariantsManager() {\r\n  const { productId } = useParams();\r\n\r\n  // ---------- STATE หลัก ----------\r\n  const [loading, setLoading]   = useState(true);  // สถานะกำลังโหลดหน้า\r\n  const [busy, setBusy]         = useState(false); // กันคลิกซ้ำขณะยิง API\r\n  const [error, setError]       = useState('');    // เก็บข้อความ error ล่าสุด\r\n  const [msg, setMsg]           = useState('');    // เก็บข้อความสำเร็จ/แจ้งเตือน\r\n\r\n  // payload หลักจาก backend: { product, options, skus }\r\n  const [data, setData] = useState({ product: null, options: [], skus: [] });\r\n\r\n  // ฟอร์มเพิ่มออปชั่นใหม่\r\n  const [newOptionName, setNewOptionName] = useState('');\r\n\r\n  // ฟอร์มสร้าง SKU (draft)\r\n  const [skuDraft, setSkuDraft] = useState({\r\n    sku: '',\r\n    price: '',\r\n    stock_qty: '',\r\n    values: {} // เก็บ mapping { [option_id]: value_id }\r\n  });\r\n\r\n  // ---------- helper รวมศูนย์ error ----------\r\n  const boom = (e, fallback = 'เกิดข้อผิดพลาด') => {\r\n    const msg = e?.response?.data?.error || e?.message || fallback;\r\n    setError(msg);\r\n    console.error(fallback, e);\r\n  };\r\n\r\n  // ---------- โหลดข้อมูลจาก backend ----------\r\n  async function load() {\r\n    setLoading(true);\r\n    setError('');\r\n    setMsg('');\r\n    try {\r\n      const res = await axios.get(`/api/admin/products/${productId}/variants`);\r\n      setData(res.data);\r\n    } catch (e) {\r\n      boom(e, 'โหลดข้อมูลไม่สำเร็จ');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { load(); /* โหลดเมื่อ productId เปลี่ยน */ }, [productId]);\r\n\r\n  // ---------- ACTIONS: Option / Value ----------\r\n  async function addOption() {\r\n    if (!newOptionName.trim()) return;\r\n    setBusy(true); setError(''); setMsg('');\r\n    try {\r\n      await axios.post(`/api/admin/products/${productId}/options`, {\r\n        option_name: newOptionName.trim()\r\n      });\r\n      setNewOptionName('');\r\n      await load();\r\n      setMsg('เพิ่มออปชั่นสำเร็จ');\r\n    } catch (e) {\r\n      boom(e, 'เพิ่มออปชั่นไม่สำเร็จ');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  async function addValue(option_id, value_name) {\r\n    if (!value_name.trim()) return;\r\n    setBusy(true); setError(''); setMsg('');\r\n    try {\r\n      await axios.post(`/api/admin/options/${option_id}/values`, {\r\n        value_name: value_name.trim()\r\n      });\r\n      await load();\r\n      setMsg('เพิ่มค่าให้ตัวเลือกสำเร็จ');\r\n    } catch (e) {\r\n      boom(e, 'เพิ่มค่าไม่สำเร็จ');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  async function deleteOption(option_id) {\r\n    if (!window.confirm('ลบออปชั่นนี้ทั้งหมด?')) return;\r\n    setBusy(true); setError(''); setMsg('');\r\n    try {\r\n      await axios.delete(`/api/admin/options/${option_id}`);\r\n      await load();\r\n      setMsg('ลบออปชั่นสำเร็จ');\r\n    } catch (e) {\r\n      boom(e, 'ลบออปชั่นไม่สำเร็จ (อาจมี SKU ใช้อยู่)');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  async function deleteValue(value_id) {\r\n    setBusy(true); setError(''); setMsg('');\r\n    try {\r\n      await axios.delete(`/api/admin/values/${value_id}`);\r\n      await load();\r\n      setMsg('ลบค่าสำเร็จ');\r\n    } catch (e) {\r\n      boom(e, 'ลบไม่ได้: ค่านี้ถูกใช้ในบาง SKU');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  // ---------- ACTIONS: SKU ----------\r\n  async function createSku() {\r\n    setError(''); setMsg('');\r\n\r\n    // map values จาก {option_id: value_id} → [{option_id, value_id}]\r\n    const values = Object.entries(skuDraft.values)\r\n      .map(([option_id, value_id]) => ({\r\n        option_id: Number(option_id),\r\n        value_id: Number(value_id)\r\n      }))\r\n      .filter(v => v.value_id); // เก็บเฉพาะที่เลือกจริง\r\n\r\n    if (!values.length) {\r\n      return setError('กรุณาเลือกค่าอย่างน้อย 1 รายการ');\r\n    }\r\n\r\n    const body = {\r\n      sku:       skuDraft.sku || null,\r\n      price:     Number(skuDraft.price || 0),\r\n      stock_qty: Number(skuDraft.stock_qty || 0),\r\n      values\r\n    };\r\n\r\n    setBusy(true);\r\n    try {\r\n      const res = await axios.post(`/api/admin/products/${productId}/skus`, body);\r\n      setMsg(`สร้าง/อัปเดต SKU สำเร็จ: ${res.data?.sku?.sku || res.data?.sku_code || '(auto)'}`);\r\n      setSkuDraft({ sku: '', price: '', stock_qty: '', values: {} });\r\n      await load();\r\n    } catch (e) {\r\n      boom(e, 'สร้าง/อัปเดต SKU ไม่สำเร็จ');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  async function updateSku(sku_id, row) {\r\n    setBusy(true); setError(''); setMsg('');\r\n    try {\r\n      await axios.put(`/api/admin/skus/${sku_id}`, row); // { price, stock_qty, is_active } อย่างใดอย่างหนึ่ง\r\n      await load();\r\n      setMsg('อัปเดต SKU สำเร็จ');\r\n    } catch (e) {\r\n      boom(e, 'อัปเดต SKU ไม่สำเร็จ');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  async function deleteSku(sku_id) {\r\n    if (!window.confirm('ลบ SKU นี้?')) return;\r\n    setBusy(true); setError(''); setMsg('');\r\n    try {\r\n      await axios.delete(`/api/admin/skus/${sku_id}`);\r\n      await load();\r\n      setMsg('ลบ SKU สำเร็จ');\r\n    } catch (e) {\r\n      boom(e, 'ลบ SKU ไม่สำเร็จ');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  // ---------- RENDER ----------\r\n  if (loading) return <div style={{ padding: 16 }}>กำลังโหลด...</div>;\r\n\r\n  return (\r\n    <div style={{ padding: 16, display: 'grid', gap: 16 }}>\r\n      {/* ส่วนหัว + ปุ่มกลับ */}\r\n      <div style={{ display:'flex', alignItems:'center', gap:10 }}>\r\n        <h2 style={{ margin:0 }}>\r\n          จัดการตัวเลือก — {data.product?.product_name} (#{data.product?.product_id})\r\n        </h2>\r\n        <Link to=\"/\" style={{ marginLeft:'auto' }}>← กลับหน้าแรก</Link>\r\n      </div>\r\n\r\n      {/* แจ้งสถานะ */}\r\n      {(error || msg) && (\r\n        <div style={{ display:'flex', gap: 12 }}>\r\n          {error && <div style={{ color:'#fff', background:'#d33', padding:'8px 12px', borderRadius:8 }}>{error}</div>}\r\n          {msg &&   <div style={{ color:'#fff', background:'green', padding:'8px 12px', borderRadius:8 }}>{msg}</div>}\r\n        </div>\r\n      )}\r\n\r\n      {/* OPTIONS */}\r\n      <section style={{ border:'1px solid #eee', borderRadius:12, padding:12 }}>\r\n        <h3>ออปชั่น</h3>\r\n        <div style={{ display:'flex', gap:8, marginBottom:8 }}>\r\n          <input\r\n            placeholder=\"ชื่อออปชั่น เช่น ขนาด / เสริมราก\"\r\n            value={newOptionName}\r\n            onChange={e=>setNewOptionName(e.target.value)}\r\n            style={{ flex:1, padding:8 }}\r\n            disabled={busy}\r\n          />\r\n          <button onClick={addOption} disabled={busy}>+ เพิ่มออปชั่น</button>\r\n        </div>\r\n\r\n        {data.options.map(opt => (\r\n          <div key={opt.option_id} style={{ borderTop:'1px dashed #ddd', paddingTop:10, marginTop:10 }}>\r\n            <div style={{ display:'flex', alignItems:'center', gap:8 }}>\r\n              <strong>{opt.option_name}</strong>\r\n              <button onClick={()=>deleteOption(opt.option_id)} style={{ marginLeft:'auto' }} disabled={busy}>\r\n                ลบออปชั่น\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ display:'flex', gap:8, flexWrap:'wrap', marginTop:8 }}>\r\n              {(opt.values || []).map(v => (\r\n                <span key={v.value_id} style={{ background:'#f5f5f5', padding:'6px 10px', borderRadius:8 }}>\r\n                  {v.value_name}\r\n                  <button onClick={()=>deleteValue(v.value_id)} style={{ marginLeft:8 }} disabled={busy}>x</button>\r\n                </span>\r\n              ))}\r\n            </div>\r\n\r\n            <AddValueInline onAdd={(name)=>addValue(opt.option_id, name)} disabled={busy} />\r\n          </div>\r\n        ))}\r\n      </section>\r\n\r\n      {/* CREATE SKU */}\r\n      <section style={{ border:'1px solid #eee', borderRadius:12, padding:12 }}>\r\n        <h3>สร้าง SKU</h3>\r\n        <div style={{ display:'grid', gap:10 }}>\r\n          <input\r\n            placeholder=\"SKU code (ไม่บังคับ)\"\r\n            value={skuDraft.sku}\r\n            onChange={e=>setSkuDraft(s=>({ ...s, sku: e.target.value }))}\r\n            disabled={busy}\r\n          />\r\n\r\n          {/* เลือกค่าให้ครบตามออปชั่นที่มี */}\r\n          {data.options.map(opt => (\r\n            <div key={opt.option_id} style={{ display:'flex', gap:10 }}>\r\n              <label style={{ width:120 }}>{opt.option_name}</label>\r\n              <select\r\n                value={skuDraft.values[opt.option_id] ?? ''}\r\n                onChange={e=>{\r\n                  const val = e.target.value ? Number(e.target.value) : '';\r\n                  setSkuDraft(s=>({ ...s, values: { ...s.values, [opt.option_id]: val } }));\r\n                }}\r\n                disabled={busy}\r\n              >\r\n                <option value=\"\">-- เลือกค่า --</option>\r\n                {(opt.values || []).map(v => (\r\n                  <option key={v.value_id} value={v.value_id}>{v.value_name}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          ))}\r\n\r\n          <div style={{ display:'flex', gap:8 }}>\r\n            <input\r\n              type=\"number\" placeholder=\"ราคา\" value={skuDraft.price}\r\n              onChange={e=>setSkuDraft(s=>({ ...s, price: e.target.value }))}\r\n              disabled={busy}\r\n            />\r\n            <input\r\n              type=\"number\" placeholder=\"สต็อก\" value={skuDraft.stock_qty}\r\n              onChange={e=>setSkuDraft(s=>({ ...s, stock_qty: e.target.value }))}\r\n              disabled={busy}\r\n            />\r\n            <button onClick={createSku} disabled={busy}>+ สร้าง/อัปเดต SKU</button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* SKUs LIST */}\r\n      <section style={{ border:'1px solid #eee', borderRadius:12, padding:12 }}>\r\n        <h3>SKU ทั้งหมด</h3>\r\n        <table width=\"100%\" cellPadding=\"8\" style={{ borderCollapse:'collapse' }}>\r\n          <thead>\r\n            <tr style={{ background:'#fafafa' }}>\r\n              <th align=\"left\">SKU</th>\r\n              <th align=\"right\">ราคา</th>\r\n              <th align=\"right\">สต็อก</th>\r\n              <th>สถานะ</th>\r\n              <th>คำสั่ง</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.skus.map(s => (\r\n              <tr key={s.sku_id} style={{ borderTop:'1px solid #eee' }}>\r\n                <td>{s.sku || <em>(auto)</em>}</td>\r\n                <td align=\"right\">\r\n                  <InlineNumber value={s.price} onSave={v=>updateSku(s.sku_id,{price:Number(v)})} disabled={busy} />\r\n                </td>\r\n                <td align=\"right\">\r\n                  <InlineNumber value={s.stock_qty} onSave={v=>updateSku(s.sku_id,{stock_qty:Number(v)})} disabled={busy} />\r\n                </td>\r\n                <td>\r\n                  <select\r\n                    value={s.is_active ? '1':'0'}\r\n                    onChange={e=>updateSku(s.sku_id,{is_active: e.target.value==='1'})}\r\n                    disabled={busy}\r\n                  >\r\n                    <option value=\"1\">เปิดขาย</option>\r\n                    <option value=\"0\">ปิด</option>\r\n                  </select>\r\n                </td>\r\n                <td><button onClick={()=>deleteSku(s.sku_id)} disabled={busy}>ลบ</button></td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---------- คอมโพเนนต์ย่อย ---------- */\r\nfunction AddValueInline({ onAdd, disabled }) {\r\n  const [val, setVal] = useState('');\r\n  return (\r\n    <div style={{ display:'flex', gap:8, marginTop:8 }}>\r\n      <input\r\n        placeholder=\"เพิ่มค่าใหม่ เช่น 150ซม.\"\r\n        value={val}\r\n        onChange={e=>setVal(e.target.value)}\r\n        disabled={disabled}\r\n      />\r\n      <button\r\n        onClick={()=>{ if (val.trim()) { onAdd(val); setVal(''); } }}\r\n        disabled={disabled}\r\n      >\r\n        + เพิ่มค่า\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction InlineNumber({ value, onSave, disabled }) {\r\n  const [v, setV] = useState(value);\r\n  return (\r\n    <span>\r\n      <input type=\"number\" value={v} onChange={e=>setV(e.target.value)} style={{ width:90 }} disabled={disabled} />\r\n      <button onClick={()=>onSave(v)} style={{ marginLeft:6 }} disabled={disabled}>บันทึก</button>\r\n    </span>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}