{"ast":null,"code":"// src/lib/api.js\n// รวมศูนย์การเรียก API ฝั่ง frontend ให้สะอาด/ปลอดภัย/ยืดหยุ่น\n// - คงฟังก์ชันเดิมทั้งหมดของคุณ + เพิ่ม Units/Size-Units CRUD\n// - มี interceptors แนบ Authorization ทั้ง instance และ global\n// - ✅ มี searchItems()/ensureVariant() สำหรับ Inventory Picker\n// - คง searchVariants() เป็น alias ชี้ไป searchItems() เพื่อ compatibility\n\nimport axios from 'axios';\n\n/* ---------- Base URL ---------- */\nconst VITE = typeof import.meta !== 'undefined' && import.meta.env || {};\nexport const BASE_URL = VITE.VITE_API_BASE || process.env.REACT_APP_API_BASE || 'http://localhost:3001/api';\n\n// alias เพื่อความเข้ากันได้กับโค้ดเดิมบางส่วน (ถ้ามี)\nexport const API_BASE = BASE_URL;\n\n/* ---------- Path helper ---------- */\nexport const path = p => {\n  const str = String(p || '');\n  if (/^https?:\\/\\//i.test(str) || /^\\/\\//.test(str)) return str;\n  const base = String((BASE_URL || '').replace(/\\/+$/, ''));\n  const endsWithApi = base.endsWith('/api');\n  let s = '/' + str.replace(/^\\/+/, '');\n  s = s.replace(/\\/+/g, '/');\n  return endsWithApi ? s.replace(/^\\/api\\//, '/') : s.startsWith('/api/') ? s : '/api' + s;\n};\n\n/* ---------- Axios instance ---------- */\nexport const api = axios.create({\n  baseURL: BASE_URL,\n  timeout: 15000,\n  validateStatus: s => s >= 200 && s < 400,\n  // 4xx/5xx ไปที่ response interceptor\n  headers: {\n    Accept: 'application/json'\n  }\n});\n\n/* ---------- Interceptors (instance) ---------- */\napi.interceptors.request.use(config => {\n  try {\n    const token = localStorage.getItem('token') || sessionStorage.getItem('token') || typeof window !== 'undefined' && window.__TOKEN__;\n    if (token) {\n      config.headers = config.headers || {};\n      if (!config.headers.Authorization) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n  } catch {}\n  return config;\n});\nlet retried = new WeakSet();\napi.interceptors.response.use(r => r, async err => {\n  var _err$response, _cfg$method, _err$response2;\n  const s = err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status;\n  const cfg = err === null || err === void 0 ? void 0 : err.config;\n  if (s === 404) console.warn('[API 404]', cfg === null || cfg === void 0 ? void 0 : (_cfg$method = cfg.method) === null || _cfg$method === void 0 ? void 0 : _cfg$method.toUpperCase(), cfg === null || cfg === void 0 ? void 0 : cfg.url, (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data);\n  if (s === 401) {\n    try {\n      localStorage.removeItem('token');\n    } catch {}\n  }\n\n  // เน็ตหลุด/timeout: ลองซ้ำ 1 ครั้ง\n  if (!err.response && cfg && !retried.has(cfg)) {\n    retried.add(cfg);\n    try {\n      return await api.request(cfg);\n    } catch {}\n  }\n  return Promise.reject(err);\n});\n\n/* ---------- Global axios defaults (กันเคสเรียก axios ตรง ๆ) ---------- */\naxios.defaults.baseURL = BASE_URL;\naxios.interceptors.request.use(cfg => {\n  try {\n    const t = localStorage.getItem('token') || sessionStorage.getItem('token') || typeof window !== 'undefined' && window.__TOKEN__;\n    if (t) {\n      cfg.headers = cfg.headers || {};\n      if (!cfg.headers.Authorization) {\n        cfg.headers.Authorization = `Bearer ${t}`;\n      }\n    }\n  } catch {}\n  return cfg;\n});\n\n/* ---------- unwrap + normalize ---------- */\nconst unwrap = p => p.then(r => r.data);\nexport const toArray = x => {\n  if (Array.isArray(x)) return x;\n  if (x && Array.isArray(x.data)) return x.data; // { data: [...] }\n  return [];\n};\nexport const toObject = x => {\n  if (x && x.data && !Array.isArray(x.data) && typeof x.data === 'object') return x.data;\n  if (x && !Array.isArray(x) && typeof x === 'object') return x;\n  return {};\n};\n\n/* ---------- generic wrappers ---------- */\nconst GET = (url, params) => unwrap(api.get(path(url), {\n  params\n}));\n_c = GET;\nconst POST = (url, body) => unwrap(api.post(path(url), body));\n_c2 = POST;\nconst PUT = (url, body) => unwrap(api.put(path(url), body));\n_c3 = PUT;\nconst PATCH = (url, body) => unwrap(api.patch(path(url), body));\n_c4 = PATCH;\nconst DEL = url => unwrap(api.delete(path(url)));\n\n/* ---------- “Safe getters” สำหรับ UI ---------- */\n_c5 = DEL;\nconst GET_A = (url, params) => GET(url, params).then(toArray);\n_c6 = GET_A;\nconst GET_O = (url, params) => GET(url, params).then(toObject);\n\n/* ====================================================================== */\n/*                               Auth                                     */\n/* ====================================================================== */\n_c7 = GET_O;\nexport const login = (email_or_username, password) => POST('/auth/login', {\n  email_or_username,\n  password\n});\nexport const me = () => GET('/me');\n\n/* ====================================================================== */\n/*                               Public                                   */\n/* ====================================================================== */\nexport const getBestSellers = (limit = 8) => GET('/products/best-sellers', {\n  limit\n});\nexport const getProducts = (params = {}) => GET('/products', params);\nexport const getCategories = (status = 'active') => GET('/categories', {\n  status\n});\n\n/* ====================================================================== */\n/*                          Admin: Products                               */\n/* ====================================================================== */\nexport const listAdminProducts = (params = {}) => GET('/admin/products', params);\n\n/** ✅ สร้างสินค้า + ตัวเลือก + Variants + รูป แบบครั้งเดียวจบ (Shopee-style) */\nexport const createProductFull = payload => POST('/admin/products/full', payload);\n\n/* ====================================================================== */\n/*                          Variants (admin)                              */\n/* ====================================================================== */\nexport const getProductMeta = productId => GET(`/admin/products/${productId}/variants`);\nexport const addOption = (productId, option_name) => POST(`/admin/products/${productId}/options`, {\n  option_name\n});\nexport const renameOption = (productId, optionId, option_name) => PUT(`/admin/products/${productId}/options/${optionId}`, {\n  option_name\n});\nexport const addValue = (option_id, value_name) => POST(`/admin/options/${option_id}/values`, {\n  value_name\n});\nexport const renameValue = (valueId, value_name) => PUT(`/admin/values/${valueId}`, {\n  value_name\n});\nexport const createVariant = (productId, payload) => POST(`/admin/products/${productId}/variants`, payload);\nexport const generateVariants = (productId, body) => POST(`/admin/products/${productId}/variants/generate`, body);\nexport const updateVariant = (variantId, patch) => PUT(`/admin/variants/${variantId}`, patch);\nexport const deleteVariant = variantId => DEL(`/admin/variants/${variantId}`);\nexport const deleteOption = option_id => DEL(`/admin/options/${option_id}`);\nexport const deleteValue = value_id => DEL(`/admin/values/${value_id}`);\n\n/* ====================================================================== */\n/*                           Inventory (เก่า)                             */\n/* ====================================================================== */\nexport const listInventory = (params = {}) => GET('/inventory', params);\nexport const listMoves = (params = {}) => GET('/inventory/moves', params);\nexport const receiveInventory = ({\n  variant_id,\n  qty,\n  unit_cost,\n  received_at,\n  note\n}) => POST('/inventory/receive', {\n  variant_id,\n  qty,\n  unit_cost,\n  received_at,\n  note\n});\nexport const issueInventory = ({\n  variant_id,\n  qty,\n  note,\n  ref_order_detail_id,\n  reason_code\n}) => POST('/inventory/issue', {\n  variant_id,\n  qty,\n  note,\n  ref_order_detail_id,\n  reason_code\n});\nexport const adjustInventory = (productId, variant_id, delta, note) => PATCH(`/inventory/${productId}/adjust`, {\n  variant_id,\n  delta,\n  note\n});\nexport const setInventory = (productId, variant_id, stock, note) => PUT(`/inventory/${productId}`, {\n  variant_id,\n  stock,\n  note\n});\n\n/* ====================================================================== */\n/*                ✅ Inventory (ใหม่): searchItems + ensureVariant        */\n/* ====================================================================== */\n/**\r\n * ค้นหา “ทุกแหล่งสินค้า”:\r\n * - variants (ที่มี SKU อยู่แล้ว)\r\n * - products ที่ยังไม่มี variant เลย (โหมด OUT จะไม่คืนอันนี้)\r\n * Response:\r\n *  - { kind:'variant', product_id, product_name, variant_id, sku, stock_qty }\r\n *  - { kind:'product', product_id, product_name, stock_qty:0 }\r\n */\nexport async function searchItems(q, {\n  mode = 'in',\n  limit = 20\n} = {}) {\n  if (!q || !q.trim()) return [];\n  const params = new URLSearchParams({\n    q: q.trim(),\n    mode,\n    limit: String(limit)\n  });\n  const url = path(`/inventory/search/items?${params.toString()}`);\n  const data = await unwrap(api.get(url));\n  const arr = toArray(data || (data === null || data === void 0 ? void 0 : data.data) || []);\n  return mode === 'out' ? arr.filter(x => Number(x.stock_qty || 0) > 0) : arr;\n}\n\n/**\r\n * สร้าง/ยืนยันว่า product_id นี้ “มี SKU แน่ๆ”\r\n * - ถ้ามีอยู่แล้ว: คืนตัวแรกที่ active\r\n * - ถ้ายังไม่มี: จะสร้าง SKU ใหม่ แล้วคืนข้อมูล variant\r\n */\nexport async function ensureVariant(product_id) {\n  return POST('/inventory/variants/ensure', {\n    product_id\n  });\n}\n\n/* (คงไว้เพื่อ compatibility) VariantPicker เดิมเรียกอันนี้ */\nexport async function searchVariants(q, {\n  mode = 'in',\n  limit = 20\n} = {}) {\n  return searchItems(q, {\n    mode,\n    limit\n  });\n}\n\n/* ====================================================================== */\n/*                       Units & Size-Units (อัปเดตใหม่)                  */\n/* ====================================================================== */\n/** Units (public list) */\nexport const listUnits = (params = {}) => GET_A('/units', params);\n/** Units (public options) */\nexport const unitOptionsPublic = () => GET_A('/units/options');\n\n/** Units (admin) — ใช้ :id ตาม backend ล่าสุด */\nexport const listUnitsAdmin = (params = {}) => GET('/admin/units', params);\nexport const unitOptionsAdmin = () => GET_A('/admin/units/options');\nexport const createUnit = payload => POST('/admin/units', payload);\nexport const updateUnit = (id, payload) => PUT(`/admin/units/${encodeURIComponent(id)}`, payload);\nexport const deleteUnit = id => DEL(`/admin/units/${encodeURIComponent(id)}`);\nexport const publishUnit = id => PATCH(`/admin/units/${encodeURIComponent(id)}/publish`);\nexport const unpublishUnit = id => PATCH(`/admin/units/${encodeURIComponent(id)}/unpublish`);\n\n/** Size-Units (list public) */\nexport const listSizeUnits = (params = {}) => GET_A('/size-units', params);\n\n/** Size-Units (admin) — ฝั่งนี้อิง code ตาม router ของคุณ */\nexport const updateSizeUnit = (code, payload) => PUT(`/admin/size-units/${encodeURIComponent(code)}`, payload);\nexport const createSizeUnit = payload => POST('/admin/size-units', payload);\nexport const deleteSizeUnit = code => DEL(`/admin/size-units/${encodeURIComponent(code)}`);\nexport const publishSizeUnit = code => PATCH(`/admin/size-units/${encodeURIComponent(code)}/publish`, {\n  published: true\n});\nexport const unpublishSizeUnit = code => PATCH(`/admin/size-units/${encodeURIComponent(code)}/publish`, {\n  published: false\n});\n\n/* ====================================================================== */\n/*                    Orders / Dashboard (เดิม)                           */\n/* ====================================================================== */\nexport async function getNewOrdersCount({\n  updatedSince\n} = {}) {\n  var _data$count;\n  const url = new URL(path('/orders/new-count'), window.location.origin);\n  if (updatedSince) url.searchParams.set('updated_since', updatedSince);\n  const {\n    data\n  } = await axios.get(url.toString());\n  return (_data$count = data === null || data === void 0 ? void 0 : data.count) !== null && _data$count !== void 0 ? _data$count : 0;\n}\n\n/* ---------- Dashboard APIs ---------- */\nexport const dashSummary = (params = {}) => GET_O('/dashboard/summary', params);\nexport const dashSalesByMonth = (params = {}) => GET_A('/dashboard/sales-by-month', params);\nexport const dashOrdersByStatus = (params = {}) => GET_A('/dashboard/orders-by-status', params);\nexport const dashCustomersByProvince = (params = {}) => GET_A('/dashboard/customers-by-province', params);\nexport const dashTopCategories = (params = {}) => GET_A('/dashboard/top-categories-by-purchased', params);\nexport const dashProductCountByCategory = (params = {}) => GET_A('/dashboard/product-count-by-category', params);\nexport const dashRecentOrders = () => GET_A('/dashboard/recent-orders');\nexport const dashRecentProducts = () => GET_A('/dashboard/recent-products');\nexport const dashRecentAddresses = () => GET_A('/dashboard/recent-addresses');\n\n/* ====================================================================== */\n/*                 (ออปชัน) Address helpers ฝั่งลูกค้า                  */\n/* ====================================================================== */\nexport const listMyAddresses = () => GET_A('/addresses/me');\nexport const listAddresses = () => GET_A('/addresses');\nexport const getDefaultAddress = () => GET_O('/addresses/default');\nexport const createAddress = payload => POST('/addresses', payload);\nexport const updateAddress = (id, patch) => PUT(`/addresses/${id}`, patch);\nexport const setDefaultAddress = id => PATCH(`/addresses/${id}/default`);\nexport const deleteAddress = id => DEL(`/addresses/${id}`);\n\n/* ---------- Export default ---------- */\nexport default api;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"GET\");\n$RefreshReg$(_c2, \"POST\");\n$RefreshReg$(_c3, \"PUT\");\n$RefreshReg$(_c4, \"PATCH\");\n$RefreshReg$(_c5, \"DEL\");\n$RefreshReg$(_c6, \"GET_A\");\n$RefreshReg$(_c7, \"GET_O\");","map":{"version":3,"names":["axios","VITE","import","meta","env","BASE_URL","VITE_API_BASE","process","REACT_APP_API_BASE","API_BASE","path","p","str","String","test","base","replace","endsWithApi","endsWith","s","startsWith","api","create","baseURL","timeout","validateStatus","headers","Accept","interceptors","request","use","config","token","localStorage","getItem","sessionStorage","window","__TOKEN__","Authorization","retried","WeakSet","response","r","err","_err$response","_cfg$method","_err$response2","status","cfg","console","warn","method","toUpperCase","url","data","removeItem","has","add","Promise","reject","defaults","t","unwrap","then","toArray","x","Array","isArray","toObject","GET","params","get","_c","POST","body","post","_c2","PUT","put","_c3","PATCH","patch","_c4","DEL","delete","_c5","GET_A","_c6","GET_O","_c7","login","email_or_username","password","me","getBestSellers","limit","getProducts","getCategories","listAdminProducts","createProductFull","payload","getProductMeta","productId","addOption","option_name","renameOption","optionId","addValue","option_id","value_name","renameValue","valueId","createVariant","generateVariants","updateVariant","variantId","deleteVariant","deleteOption","deleteValue","value_id","listInventory","listMoves","receiveInventory","variant_id","qty","unit_cost","received_at","note","issueInventory","ref_order_detail_id","reason_code","adjustInventory","delta","setInventory","stock","searchItems","q","mode","trim","URLSearchParams","toString","arr","filter","Number","stock_qty","ensureVariant","product_id","searchVariants","listUnits","unitOptionsPublic","listUnitsAdmin","unitOptionsAdmin","createUnit","updateUnit","id","encodeURIComponent","deleteUnit","publishUnit","unpublishUnit","listSizeUnits","updateSizeUnit","code","createSizeUnit","deleteSizeUnit","publishSizeUnit","published","unpublishSizeUnit","getNewOrdersCount","updatedSince","_data$count","URL","location","origin","searchParams","set","count","dashSummary","dashSalesByMonth","dashOrdersByStatus","dashCustomersByProvince","dashTopCategories","dashProductCountByCategory","dashRecentOrders","dashRecentProducts","dashRecentAddresses","listMyAddresses","listAddresses","getDefaultAddress","createAddress","updateAddress","setDefaultAddress","deleteAddress","$RefreshReg$"],"sources":["D:/project19/frontend/src/lib/api.js"],"sourcesContent":["// src/lib/api.js\r\n// รวมศูนย์การเรียก API ฝั่ง frontend ให้สะอาด/ปลอดภัย/ยืดหยุ่น\r\n// - คงฟังก์ชันเดิมทั้งหมดของคุณ + เพิ่ม Units/Size-Units CRUD\r\n// - มี interceptors แนบ Authorization ทั้ง instance และ global\r\n// - ✅ มี searchItems()/ensureVariant() สำหรับ Inventory Picker\r\n// - คง searchVariants() เป็น alias ชี้ไป searchItems() เพื่อ compatibility\r\n\r\nimport axios from 'axios';\r\n\r\n/* ---------- Base URL ---------- */\r\nconst VITE = (typeof import.meta !== 'undefined' && import.meta.env) || {};\r\nexport const BASE_URL =\r\n  VITE.VITE_API_BASE ||\r\n  process.env.REACT_APP_API_BASE ||\r\n  'http://localhost:3001/api';\r\n\r\n// alias เพื่อความเข้ากันได้กับโค้ดเดิมบางส่วน (ถ้ามี)\r\nexport const API_BASE = BASE_URL;\r\n\r\n/* ---------- Path helper ---------- */\r\nexport const path = (p) => {\r\n  const str = String(p || '');\r\n  if (/^https?:\\/\\//i.test(str) || /^\\/\\//.test(str)) return str;\r\n\r\n  const base = String((BASE_URL || '').replace(/\\/+$/, ''));\r\n  const endsWithApi = base.endsWith('/api');\r\n\r\n  let s = '/' + str.replace(/^\\/+/, '');\r\n  s = s.replace(/\\/+/g, '/');\r\n\r\n  return endsWithApi\r\n    ? s.replace(/^\\/api\\//, '/')\r\n    : (s.startsWith('/api/') ? s : '/api' + s);\r\n};\r\n\r\n/* ---------- Axios instance ---------- */\r\nexport const api = axios.create({\r\n  baseURL: BASE_URL,\r\n  timeout: 15000,\r\n  validateStatus: (s) => s >= 200 && s < 400, // 4xx/5xx ไปที่ response interceptor\r\n  headers: { Accept: 'application/json' },\r\n});\r\n\r\n/* ---------- Interceptors (instance) ---------- */\r\napi.interceptors.request.use((config) => {\r\n  try {\r\n    const token =\r\n      localStorage.getItem('token') ||\r\n      sessionStorage.getItem('token') ||\r\n      (typeof window !== 'undefined' && window.__TOKEN__);\r\n    if (token) {\r\n      config.headers = config.headers || {};\r\n      if (!config.headers.Authorization) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n  } catch {}\r\n  return config;\r\n});\r\n\r\nlet retried = new WeakSet();\r\napi.interceptors.response.use(\r\n  (r) => r,\r\n  async (err) => {\r\n    const s = err?.response?.status;\r\n    const cfg = err?.config;\r\n\r\n    if (s === 404) console.warn('[API 404]', cfg?.method?.toUpperCase(), cfg?.url, err.response?.data);\r\n    if (s === 401) { try { localStorage.removeItem('token'); } catch {} }\r\n\r\n    // เน็ตหลุด/timeout: ลองซ้ำ 1 ครั้ง\r\n    if (!err.response && cfg && !retried.has(cfg)) {\r\n      retried.add(cfg);\r\n      try { return await api.request(cfg); } catch {}\r\n    }\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\n/* ---------- Global axios defaults (กันเคสเรียก axios ตรง ๆ) ---------- */\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.interceptors.request.use((cfg) => {\r\n  try {\r\n    const t =\r\n      localStorage.getItem('token') ||\r\n      sessionStorage.getItem('token') ||\r\n      (typeof window !== 'undefined' && window.__TOKEN__);\r\n    if (t) {\r\n      cfg.headers = cfg.headers || {};\r\n      if (!cfg.headers.Authorization) {\r\n        cfg.headers.Authorization = `Bearer ${t}`;\r\n      }\r\n    }\r\n  } catch {}\r\n  return cfg;\r\n});\r\n\r\n/* ---------- unwrap + normalize ---------- */\r\nconst unwrap = (p) => p.then((r) => r.data);\r\n\r\nexport const toArray = (x) => {\r\n  if (Array.isArray(x)) return x;\r\n  if (x && Array.isArray(x.data)) return x.data; // { data: [...] }\r\n  return [];\r\n};\r\n\r\nexport const toObject = (x) => {\r\n  if (x && x.data && !Array.isArray(x.data) && typeof x.data === 'object') return x.data;\r\n  if (x && !Array.isArray(x) && typeof x === 'object') return x;\r\n  return {};\r\n};\r\n\r\n/* ---------- generic wrappers ---------- */\r\nconst GET  = (url, params) => unwrap(api.get(path(url), { params }));\r\nconst POST = (url, body)   => unwrap(api.post(path(url), body));\r\nconst PUT  = (url, body)   => unwrap(api.put(path(url), body));\r\nconst PATCH= (url, body)   => unwrap(api.patch(path(url), body));\r\nconst DEL  = (url)         => unwrap(api.delete(path(url)));\r\n\r\n/* ---------- “Safe getters” สำหรับ UI ---------- */\r\nconst GET_A = (url, params) => GET(url, params).then(toArray);\r\nconst GET_O = (url, params) => GET(url, params).then(toObject);\r\n\r\n/* ====================================================================== */\r\n/*                               Auth                                     */\r\n/* ====================================================================== */\r\nexport const login = (email_or_username, password) =>\r\n  POST('/auth/login', { email_or_username, password });\r\nexport const me = () => GET('/me');\r\n\r\n/* ====================================================================== */\r\n/*                               Public                                   */\r\n/* ====================================================================== */\r\nexport const getBestSellers = (limit = 8) =>\r\n  GET('/products/best-sellers', { limit });\r\nexport const getProducts = (params = {}) =>\r\n  GET('/products', params);\r\nexport const getCategories = (status = 'active') =>\r\n  GET('/categories', { status });\r\n\r\n/* ====================================================================== */\r\n/*                          Admin: Products                               */\r\n/* ====================================================================== */\r\nexport const listAdminProducts = (params = {}) =>\r\n  GET('/admin/products', params);\r\n\r\n/** ✅ สร้างสินค้า + ตัวเลือก + Variants + รูป แบบครั้งเดียวจบ (Shopee-style) */\r\nexport const createProductFull = (payload) =>\r\n  POST('/admin/products/full', payload);\r\n\r\n/* ====================================================================== */\r\n/*                          Variants (admin)                              */\r\n/* ====================================================================== */\r\nexport const getProductMeta = (productId) =>\r\n  GET(`/admin/products/${productId}/variants`);\r\nexport const addOption = (productId, option_name) =>\r\n  POST(`/admin/products/${productId}/options`, { option_name });\r\nexport const renameOption = (productId, optionId, option_name) =>\r\n  PUT(`/admin/products/${productId}/options/${optionId}`, { option_name });\r\nexport const addValue = (option_id, value_name) =>\r\n  POST(`/admin/options/${option_id}/values`, { value_name });\r\nexport const renameValue = (valueId, value_name) =>\r\n  PUT(`/admin/values/${valueId}`, { value_name });\r\nexport const createVariant = (productId, payload) =>\r\n  POST(`/admin/products/${productId}/variants`, payload);\r\nexport const generateVariants = (productId, body) =>\r\n  POST(`/admin/products/${productId}/variants/generate`, body);\r\nexport const updateVariant = (variantId, patch) =>\r\n  PUT(`/admin/variants/${variantId}`, patch);\r\nexport const deleteVariant = (variantId) =>\r\n  DEL(`/admin/variants/${variantId}`);\r\nexport const deleteOption = (option_id) =>\r\n  DEL(`/admin/options/${option_id}`);\r\nexport const deleteValue = (value_id) =>\r\n  DEL(`/admin/values/${value_id}`);\r\n\r\n/* ====================================================================== */\r\n/*                           Inventory (เก่า)                             */\r\n/* ====================================================================== */\r\nexport const listInventory = (params = {}) =>\r\n  GET('/inventory', params);\r\nexport const listMoves = (params = {}) =>\r\n  GET('/inventory/moves', params);\r\nexport const receiveInventory = ({ variant_id, qty, unit_cost, received_at, note }) =>\r\n  POST('/inventory/receive', { variant_id, qty, unit_cost, received_at, note });\r\nexport const issueInventory = ({ variant_id, qty, note, ref_order_detail_id, reason_code }) =>\r\n  POST('/inventory/issue', { variant_id, qty, note, ref_order_detail_id, reason_code });\r\nexport const adjustInventory = (productId, variant_id, delta, note) =>\r\n  PATCH(`/inventory/${productId}/adjust`, { variant_id, delta, note });\r\nexport const setInventory = (productId, variant_id, stock, note) =>\r\n  PUT(`/inventory/${productId}`, { variant_id, stock, note });\r\n\r\n/* ====================================================================== */\r\n/*                ✅ Inventory (ใหม่): searchItems + ensureVariant        */\r\n/* ====================================================================== */\r\n/**\r\n * ค้นหา “ทุกแหล่งสินค้า”:\r\n * - variants (ที่มี SKU อยู่แล้ว)\r\n * - products ที่ยังไม่มี variant เลย (โหมด OUT จะไม่คืนอันนี้)\r\n * Response:\r\n *  - { kind:'variant', product_id, product_name, variant_id, sku, stock_qty }\r\n *  - { kind:'product', product_id, product_name, stock_qty:0 }\r\n */\r\nexport async function searchItems(q, { mode = 'in', limit = 20 } = {}) {\r\n  if (!q || !q.trim()) return [];\r\n  const params = new URLSearchParams({\r\n    q: q.trim(),\r\n    mode,\r\n    limit: String(limit),\r\n  });\r\n  const url = path(`/inventory/search/items?${params.toString()}`);\r\n  const data = await unwrap(api.get(url));\r\n  const arr = toArray(data || data?.data || []);\r\n  return mode === 'out' ? arr.filter((x) => Number(x.stock_qty || 0) > 0) : arr;\r\n}\r\n\r\n/**\r\n * สร้าง/ยืนยันว่า product_id นี้ “มี SKU แน่ๆ”\r\n * - ถ้ามีอยู่แล้ว: คืนตัวแรกที่ active\r\n * - ถ้ายังไม่มี: จะสร้าง SKU ใหม่ แล้วคืนข้อมูล variant\r\n */\r\nexport async function ensureVariant(product_id) {\r\n  return POST('/inventory/variants/ensure', { product_id });\r\n}\r\n\r\n/* (คงไว้เพื่อ compatibility) VariantPicker เดิมเรียกอันนี้ */\r\nexport async function searchVariants(q, { mode = 'in', limit = 20 } = {}) {\r\n  return searchItems(q, { mode, limit });\r\n}\r\n\r\n/* ====================================================================== */\r\n/*                       Units & Size-Units (อัปเดตใหม่)                  */\r\n/* ====================================================================== */\r\n/** Units (public list) */\r\nexport const listUnits = (params = {}) => GET_A('/units', params);\r\n/** Units (public options) */\r\nexport const unitOptionsPublic = () => GET_A('/units/options');\r\n\r\n/** Units (admin) — ใช้ :id ตาม backend ล่าสุด */\r\nexport const listUnitsAdmin = (params = {}) => GET('/admin/units', params);\r\nexport const unitOptionsAdmin = () => GET_A('/admin/units/options');\r\nexport const createUnit = (payload) => POST('/admin/units', payload);\r\nexport const updateUnit = (id, payload) => PUT(`/admin/units/${encodeURIComponent(id)}`, payload);\r\nexport const deleteUnit = (id) => DEL(`/admin/units/${encodeURIComponent(id)}`);\r\nexport const publishUnit = (id) => PATCH(`/admin/units/${encodeURIComponent(id)}/publish`);\r\nexport const unpublishUnit = (id) => PATCH(`/admin/units/${encodeURIComponent(id)}/unpublish`);\r\n\r\n/** Size-Units (list public) */\r\nexport const listSizeUnits = (params = {}) => GET_A('/size-units', params);\r\n\r\n/** Size-Units (admin) — ฝั่งนี้อิง code ตาม router ของคุณ */\r\nexport const updateSizeUnit = (code, payload) =>\r\n  PUT(`/admin/size-units/${encodeURIComponent(code)}`, payload);\r\nexport const createSizeUnit = (payload) =>\r\n  POST('/admin/size-units', payload);\r\nexport const deleteSizeUnit = (code) =>\r\n  DEL(`/admin/size-units/${encodeURIComponent(code)}`);\r\nexport const publishSizeUnit = (code) =>\r\n  PATCH(`/admin/size-units/${encodeURIComponent(code)}/publish`, { published: true });\r\nexport const unpublishSizeUnit = (code) =>\r\n  PATCH(`/admin/size-units/${encodeURIComponent(code)}/publish`, { published: false });\r\n\r\n/* ====================================================================== */\r\n/*                    Orders / Dashboard (เดิม)                           */\r\n/* ====================================================================== */\r\nexport async function getNewOrdersCount({ updatedSince } = {}) {\r\n  const url = new URL(path('/orders/new-count'), window.location.origin);\r\n  if (updatedSince) url.searchParams.set('updated_since', updatedSince);\r\n  const { data } = await axios.get(url.toString());\r\n  return data?.count ?? 0;\r\n}\r\n\r\n/* ---------- Dashboard APIs ---------- */\r\nexport const dashSummary = (params = {}) =>\r\n  GET_O('/dashboard/summary', params);\r\nexport const dashSalesByMonth = (params = {}) =>\r\n  GET_A('/dashboard/sales-by-month', params);\r\nexport const dashOrdersByStatus = (params = {}) =>\r\n  GET_A('/dashboard/orders-by-status', params);\r\nexport const dashCustomersByProvince = (params = {}) =>\r\n  GET_A('/dashboard/customers-by-province', params);\r\nexport const dashTopCategories = (params = {}) =>\r\n  GET_A('/dashboard/top-categories-by-purchased', params);\r\nexport const dashProductCountByCategory = (params = {}) =>\r\n  GET_A('/dashboard/product-count-by-category', params);\r\nexport const dashRecentOrders = () => GET_A('/dashboard/recent-orders');\r\nexport const dashRecentProducts = () => GET_A('/dashboard/recent-products');\r\nexport const dashRecentAddresses = () => GET_A('/dashboard/recent-addresses');\r\n\r\n/* ====================================================================== */\r\n/*                 (ออปชัน) Address helpers ฝั่งลูกค้า                  */\r\n/* ====================================================================== */\r\nexport const listMyAddresses = () => GET_A('/addresses/me');\r\nexport const listAddresses = () => GET_A('/addresses');\r\nexport const getDefaultAddress = () => GET_O('/addresses/default');\r\nexport const createAddress = (payload) => POST('/addresses', payload);\r\nexport const updateAddress = (id, patch) => PUT(`/addresses/${id}`, patch);\r\nexport const setDefaultAddress = (id) => PATCH(`/addresses/${id}/default`);\r\nexport const deleteAddress = (id) => DEL(`/addresses/${id}`);\r\n\r\n/* ---------- Export default ---------- */\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}