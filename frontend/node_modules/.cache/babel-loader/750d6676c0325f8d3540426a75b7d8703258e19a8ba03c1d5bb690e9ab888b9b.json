{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\ProductList.js\",\n  _s = $RefreshSig$();\n// src/pages/ProductList.js\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { useSearchParams, Link } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport { addItem } from \"../lib/cart\";\n\n/** ===================== API BASE (no import.meta) =====================\r\n * ลำดับการเลือกค่า:\r\n * 1) axios.defaults.baseURL (ถ้าตั้งไว้ตอนบูตแอป)\r\n * 2) process.env.REACT_APP_API_BASE (สไตล์ CRA)\r\n * 3) 'http://localhost:3001' (fallback)\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst pickApiBase = () => {\n  const fromAxios = axios.defaults && axios.defaults.baseURL || \"\";\n  if (fromAxios) return fromAxios;\n  const fromCRA = process.env.REACT_APP_API_BASE;\n  if (fromCRA) return fromCRA;\n  return \"http://localhost:3001\";\n};\nconst API_BASE = pickApiBase();\nexport default function ProductList() {\n  _s();\n  const [searchParams] = useSearchParams();\n  const category = (searchParams.get(\"category\") || \"\").toLowerCase(); // plants | tools | \"\"\n  const sub = (searchParams.get(\"sub\") || \"\").toLowerCase(); // fruit | ornamental | ...\n  const page = parseInt(searchParams.get(\"page\") || \"1\", 10);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const axiosClient = useMemo(() => {\n    const token = localStorage.getItem(\"token\") || \"\";\n    return axios.create({\n      baseURL: API_BASE,\n      headers: token ? {\n        Authorization: `Bearer ${token}`\n      } : {},\n      timeout: 10000\n    });\n  }, []);\n\n  // ป้องกัน /api/api ซ้อน: เช็คจาก API_BASE ที่คงที่ด้านบน\n  const apiPath = p => String(API_BASE || \"\").replace(/\\/+$/, \"\").endsWith(\"/api\") ? p : \"/api\" + p;\n  useEffect(() => {\n    const controller = new AbortController();\n    setLoading(true);\n    setError(\"\");\n    (async () => {\n      const params = {\n        page,\n        page_size: 24\n      };\n      if (category) params.category = category;\n      if (sub) params.sub = sub;\n\n      // ลองหลาย endpoint เผื่อแบ็กเอนด์ไม่ได้ใช้ /api/products\n      const endpoints = [\"/products\", \"/public/products\", \"/shop/products\"];\n      let got = null;\n      for (const ep of endpoints) {\n        try {\n          const r = await axiosClient.get(apiPath(ep), {\n            params,\n            signal: controller.signal\n          });\n          const payload = r.data;\n          const items = (payload === null || payload === void 0 ? void 0 : payload.items) || (payload === null || payload === void 0 ? void 0 : payload.data) || (Array.isArray(payload) ? payload : []) || [];\n          got = items;\n          break; // เจอแล้วหยุด\n        } catch (e) {\n          var _e$response;\n          // ถ้าไม่ใช่ 404 ให้หยุดและแสดงเออเร่อทันที\n          if (e !== null && e !== void 0 && (_e$response = e.response) !== null && _e$response !== void 0 && _e$response.status && e.response.status !== 404) {\n            var _e$response2, _e$response2$data;\n            setError((e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.message) || e.message);\n            break;\n          }\n          // ถ้า 404 ให้ลอง endpoint ถัดไป\n        }\n      }\n      if (got) setProducts(got);else if (!error) setError(\"ไม่พบ endpoint สำหรับดึงสินค้า (/api/products)\");\n    })().catch(e => setError((e === null || e === void 0 ? void 0 : e.message) || \"เกิดข้อผิดพลาด\")).finally(() => setLoading(false));\n    return () => controller.abort();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [category, sub, page]); // axiosClient/API_BASE คงที่อยู่แล้ว ไม่ต้องใส่ใน deps\n\n  const title = category === \"plants\" ? `ต้นไม้${sub ? \" • \" + subLabel(sub) : \"\"}` : category === \"tools\" ? `อุปกรณ์เพาะปลูก${sub ? \" • \" + subLabel(sub) : \"\"}` : \"รายการสินค้าทั้งหมด\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 1120,\n      margin: \"0 auto\",\n      padding: \"16px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 8,\n        color: \"#6b7280\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        style: {\n          color: \"#6b7280\",\n          textDecoration: \"none\"\n        },\n        children: \"\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E41\\u0E23\\u0E01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), \" \", \"\\u203A\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#111827\"\n        },\n        children: [category ? category === \"plants\" ? \"ต้นไม้\" : \"อุปกรณ์เพาะปลูก\" : \"สินค้า\", sub ? \" › \" + subLabel(sub) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        fontSize: 22,\n        fontWeight: 700,\n        marginBottom: 10\n      },\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }, this), error && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: \"#b91c1c\",\n        marginBottom: 10\n      },\n      children: [\"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this), !loading && !error && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: products.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"#6b7280\"\n        },\n        children: \"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E43\\u0E19\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E19\\u0E35\\u0E49\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(2, minmax(0, 1fr))\",\n          gap: 12\n        },\n        children: products.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"1px solid #e5e7eb\",\n            borderRadius: 12,\n            overflow: \"hidden\",\n            background: \"#fff\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: p.cover_image_url || p.image_url || p.image || (Array.isArray(p.images) ? p.images[0] : \"\") || \"/logo.png\",\n            alt: p.name || p.product_name || \"สินค้า\",\n            style: {\n              width: \"100%\",\n              height: 140,\n              objectFit: \"cover\",\n              background: \"#f9fafb\"\n            },\n            onError: e => e.currentTarget.src = \"/logo.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              title: p.name || p.product_name,\n              style: {\n                fontWeight: 600,\n                color: \"#111827\",\n                marginBottom: 6,\n                lineHeight: 1.35,\n                display: \"-webkit-box\",\n                WebkitLineClamp: 2,\n                WebkitBoxOrient: \"vertical\",\n                overflow: \"hidden\"\n              },\n              children: p.name || p.product_name || \"สินค้า\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: \"#047857\",\n                fontWeight: 700\n              },\n              children: new Intl.NumberFormat(\"th-TH\", {\n                style: \"currency\",\n                currency: \"THB\"\n              }).format(Number(p.price || p.selling_price || p.sale_price || 0))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 19\n          }, this)]\n        }, p.id || p.product_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n\n// label ไทยของ sub\n_s(ProductList, \"UMCWc4BP7UsaP6z917ekVkqFQ4w=\", false, function () {\n  return [useSearchParams];\n});\n_c = ProductList;\nfunction subLabel(s) {\n  switch (s) {\n    case \"fruit\":\n      return \"ไม้ผล\";\n    case \"ornamental\":\n      return \"ไม้ดอก/ประดับ\";\n    case \"herb\":\n      return \"ไม้สมุนไพร\";\n    case \"econ\":\n    case \"economic\":\n      return \"ไม้เศรษฐกิจ\";\n    case \"pot\":\n      return \"กระถาง\";\n    case \"bag\":\n      return \"ถุงเพาะ\";\n    case \"soil\":\n      return \"วัสดุปลูก/ปรับปรุงดิน\";\n    default:\n      return s;\n  }\n}\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","useSearchParams","Link","toast","addItem","jsxDEV","_jsxDEV","Fragment","_Fragment","pickApiBase","fromAxios","defaults","baseURL","fromCRA","process","env","REACT_APP_API_BASE","API_BASE","ProductList","_s","searchParams","category","get","toLowerCase","sub","page","parseInt","products","setProducts","loading","setLoading","error","setError","axiosClient","token","localStorage","getItem","create","headers","Authorization","timeout","apiPath","p","String","replace","endsWith","controller","AbortController","params","page_size","endpoints","got","ep","r","signal","payload","data","items","Array","isArray","e","_e$response","response","status","_e$response2","_e$response2$data","message","catch","finally","abort","title","subLabel","style","maxWidth","margin","padding","children","marginBottom","color","to","textDecoration","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","fontWeight","length","display","gridTemplateColumns","gap","map","border","borderRadius","overflow","background","src","cover_image_url","image_url","image","images","alt","name","product_name","width","height","objectFit","onError","currentTarget","lineHeight","WebkitLineClamp","WebkitBoxOrient","Intl","NumberFormat","currency","format","Number","price","selling_price","sale_price","id","product_id","_c","s","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/ProductList.js"],"sourcesContent":["// src/pages/ProductList.js\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSearchParams, Link } from \"react-router-dom\";\r\nimport toast from \"react-hot-toast\";\r\nimport { addItem } from \"../lib/cart\";\r\n\r\n/** ===================== API BASE (no import.meta) =====================\r\n * ลำดับการเลือกค่า:\r\n * 1) axios.defaults.baseURL (ถ้าตั้งไว้ตอนบูตแอป)\r\n * 2) process.env.REACT_APP_API_BASE (สไตล์ CRA)\r\n * 3) 'http://localhost:3001' (fallback)\r\n */\r\nconst pickApiBase = () => {\r\n  const fromAxios = (axios.defaults && axios.defaults.baseURL) || \"\";\r\n  if (fromAxios) return fromAxios;\r\n  const fromCRA = process.env.REACT_APP_API_BASE;\r\n  if (fromCRA) return fromCRA;\r\n  return \"http://localhost:3001\";\r\n};\r\nconst API_BASE = pickApiBase();\r\n\r\nexport default function ProductList() {\r\n  const [searchParams] = useSearchParams();\r\n  const category = (searchParams.get(\"category\") || \"\").toLowerCase(); // plants | tools | \"\"\r\n  const sub = (searchParams.get(\"sub\") || \"\").toLowerCase();           // fruit | ornamental | ...\r\n  const page = parseInt(searchParams.get(\"page\") || \"1\", 10);\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading]   = useState(true);\r\n  const [error, setError]       = useState(\"\");\r\n\r\n  const axiosClient = useMemo(() => {\r\n    const token = localStorage.getItem(\"token\") || \"\";\r\n    return axios.create({\r\n      baseURL: API_BASE,\r\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      timeout: 10000,\r\n    });\r\n  }, []);\r\n\r\n  // ป้องกัน /api/api ซ้อน: เช็คจาก API_BASE ที่คงที่ด้านบน\r\n  const apiPath = (p) =>\r\n    String(API_BASE || \"\").replace(/\\/+$/, \"\").endsWith(\"/api\") ? p : \"/api\" + p;\r\n\r\n  useEffect(() => {\r\n    const controller = new AbortController();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    (async () => {\r\n      const params = { page, page_size: 24 };\r\n      if (category) params.category = category;\r\n      if (sub) params.sub = sub;\r\n\r\n      // ลองหลาย endpoint เผื่อแบ็กเอนด์ไม่ได้ใช้ /api/products\r\n      const endpoints = [\"/products\", \"/public/products\", \"/shop/products\"];\r\n\r\n      let got = null;\r\n      for (const ep of endpoints) {\r\n        try {\r\n          const r = await axiosClient.get(apiPath(ep), { params, signal: controller.signal });\r\n          const payload = r.data;\r\n          const items =\r\n            payload?.items ||\r\n            payload?.data ||\r\n            (Array.isArray(payload) ? payload : []) ||\r\n            [];\r\n          got = items;\r\n          break; // เจอแล้วหยุด\r\n        } catch (e) {\r\n          // ถ้าไม่ใช่ 404 ให้หยุดและแสดงเออเร่อทันที\r\n          if (e?.response?.status && e.response.status !== 404) {\r\n            setError(e?.response?.data?.message || e.message);\r\n            break;\r\n          }\r\n          // ถ้า 404 ให้ลอง endpoint ถัดไป\r\n        }\r\n      }\r\n\r\n      if (got) setProducts(got);\r\n      else if (!error) setError(\"ไม่พบ endpoint สำหรับดึงสินค้า (/api/products)\");\r\n    })()\r\n      .catch((e) => setError(e?.message || \"เกิดข้อผิดพลาด\"))\r\n      .finally(() => setLoading(false));\r\n\r\n    return () => controller.abort();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [category, sub, page]); // axiosClient/API_BASE คงที่อยู่แล้ว ไม่ต้องใส่ใน deps\r\n\r\n  const title =\r\n    category === \"plants\"\r\n      ? `ต้นไม้${sub ? \" • \" + subLabel(sub) : \"\"}`\r\n      : category === \"tools\"\r\n      ? `อุปกรณ์เพาะปลูก${sub ? \" • \" + subLabel(sub) : \"\"}`\r\n      : \"รายการสินค้าทั้งหมด\";\r\n\r\n  return (\r\n    <div style={{ maxWidth: 1120, margin: \"0 auto\", padding: \"16px\" }}>\r\n      {/* breadcrumb ง่าย ๆ */}\r\n      <div style={{ marginBottom: 8, color: \"#6b7280\" }}>\r\n        <Link to=\"/\" style={{ color: \"#6b7280\", textDecoration: \"none\" }}>\r\n          หน้าแรก\r\n        </Link>{\" \"}\r\n        ›{\" \"}\r\n        <span style={{ color: \"#111827\" }}>\r\n          {category ? (category === \"plants\" ? \"ต้นไม้\" : \"อุปกรณ์เพาะปลูก\") : \"สินค้า\"}\r\n          {sub ? \" › \" + subLabel(sub) : \"\"}\r\n        </span>\r\n      </div>\r\n\r\n      <h1 style={{ fontSize: 22, fontWeight: 700, marginBottom: 10 }}>{title}</h1>\r\n\r\n      {loading && <div>กำลังโหลดสินค้า…</div>}\r\n      {error && !loading && (\r\n        <div style={{ color: \"#b91c1c\", marginBottom: 10 }}>เกิดข้อผิดพลาด: {error}</div>\r\n      )}\r\n\r\n      {!loading && !error && (\r\n        <>\r\n          {products.length === 0 ? (\r\n            <div style={{ color: \"#6b7280\" }}>ไม่พบสินค้าในหมวดนี้</div>\r\n          ) : (\r\n            <div\r\n              style={{\r\n                display: \"grid\",\r\n                gridTemplateColumns: \"repeat(2, minmax(0, 1fr))\",\r\n                gap: 12,\r\n              }}\r\n            >\r\n              {products.map((p) => (\r\n                <div\r\n                  key={p.id || p.product_id}\r\n                  style={{\r\n                    border: \"1px solid #e5e7eb\",\r\n                    borderRadius: 12,\r\n                    overflow: \"hidden\",\r\n                    background: \"#fff\",\r\n                  }}\r\n                >\r\n                  <img\r\n                    src={\r\n                      p.cover_image_url ||\r\n                      p.image_url ||\r\n                      p.image ||\r\n                      (Array.isArray(p.images) ? p.images[0] : \"\") ||\r\n                      \"/logo.png\"\r\n                    }\r\n                    alt={p.name || p.product_name || \"สินค้า\"}\r\n                    style={{ width: \"100%\", height: 140, objectFit: \"cover\", background: \"#f9fafb\" }}\r\n                    onError={(e) => (e.currentTarget.src = \"/logo.png\")}\r\n                  />\r\n                  <div style={{ padding: 10 }}>\r\n                    <div\r\n                      title={p.name || p.product_name}\r\n                      style={{\r\n                        fontWeight: 600,\r\n                        color: \"#111827\",\r\n                        marginBottom: 6,\r\n                        lineHeight: 1.35,\r\n                        display: \"-webkit-box\",\r\n                        WebkitLineClamp: 2,\r\n                        WebkitBoxOrient: \"vertical\",\r\n                        overflow: \"hidden\",\r\n                      }}\r\n                    >\r\n                      {p.name || p.product_name || \"สินค้า\"}\r\n                    </div>\r\n                    <div style={{ color: \"#047857\", fontWeight: 700 }}>\r\n                      {new Intl.NumberFormat(\"th-TH\", {\r\n                        style: \"currency\",\r\n                        currency: \"THB\",\r\n                      }).format(Number(p.price || p.selling_price || p.sale_price || 0))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// label ไทยของ sub\r\nfunction subLabel(s) {\r\n  switch (s) {\r\n    case \"fruit\": return \"ไม้ผล\";\r\n    case \"ornamental\": return \"ไม้ดอก/ประดับ\";\r\n    case \"herb\": return \"ไม้สมุนไพร\";\r\n    case \"econ\":\r\n    case \"economic\": return \"ไม้เศรษฐกิจ\";\r\n    case \"pot\": return \"กระถาง\";\r\n    case \"bag\": return \"ถุงเพาะ\";\r\n    case \"soil\": return \"วัสดุปลูก/ปรับปรุงดิน\";\r\n    default: return s;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}