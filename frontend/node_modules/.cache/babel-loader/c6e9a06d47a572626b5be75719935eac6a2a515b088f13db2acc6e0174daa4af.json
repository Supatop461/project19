{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\HomeUser.js\",\n  _s = $RefreshSig$();\n// src/pages/HomeUser.js\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './HomeUser.css';\nimport { addItem as addToCart } from '../lib/cart';\n\n/* -------------------- Fallback -------------------- */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FALLBACK_CATEGORIES = [{\n  id: 'PLT',\n  slug: 'plants',\n  name: '‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ',\n  image: process.env.PUBLIC_URL + '/tonmai.jpg'\n}, {\n  id: 'TLS',\n  slug: 'tools',\n  name: '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å',\n  image: process.env.PUBLIC_URL + '/opakorn.jpg'\n}];\nconst FALLBACK_BEST = [{\n  id: 1,\n  name: '‡∏ï‡πâ‡∏ô‡∏Å‡∏•‡πâ‡∏≤‡∏•‡∏≥‡πÉ‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•',\n  price: 250,\n  img: process.env.PUBLIC_URL + '/lamyai.jpg'\n}, {\n  id: 2,\n  name: '‡∏ï‡πâ‡∏ô‡∏û‡∏ç‡∏≤‡∏ô‡∏≤‡∏Ñ‡∏£‡∏≤‡∏ä',\n  price: 150,\n  img: process.env.PUBLIC_URL + '/payanaka1.jpg'\n}, {\n  id: 3,\n  name: '‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•',\n  price: 300,\n  img: process.env.PUBLIC_URL + '/katar.jpeg'\n}, {\n  id: 4,\n  name: '‡∏î‡∏¥‡∏ô‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô',\n  price: 99,\n  img: process.env.PUBLIC_URL + '/din.jpg'\n}, {\n  id: 5,\n  name: '‡∏´‡∏¥‡∏ô‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡πÑ‡∏ü‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏°‡πâ',\n  price: 129,\n  img: process.env.PUBLIC_URL + '/logo.png'\n}];\nexport default function HomeUser() {\n  _s();\n  const apiPath = p => (axios.defaults.baseURL || '').replace(/\\/+$/, '').endsWith('/api') ? p : '/api' + p;\n  const [categories, setCategories] = useState([]);\n  const [bestSellers, setBestSellers] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const [loading, setLoading] = useState({\n    cat: true,\n    best: true,\n    all: true\n  });\n  const [errMsg, setErrMsg] = useState('');\n\n  /* -------------------- Helpers -------------------- */\n  const normalizeProduct = (p, idx) => {\n    var _ref, _ref2, _p$product_id, _ref3, _ref4, _ref5, _p$product_name, _ref6, _ref7, _ref8, _ref9, _p$selling_price;\n    return {\n      id: (_ref = (_ref2 = (_p$product_id = p.product_id) !== null && _p$product_id !== void 0 ? _p$product_id : p.id) !== null && _ref2 !== void 0 ? _ref2 : p._id) !== null && _ref !== void 0 ? _ref : `p-${idx}`,\n      name: (_ref3 = (_ref4 = (_ref5 = (_p$product_name = p.product_name) !== null && _p$product_name !== void 0 ? _p$product_name : p.name_th) !== null && _ref5 !== void 0 ? _ref5 : p.name) !== null && _ref4 !== void 0 ? _ref4 : p.title) !== null && _ref3 !== void 0 ? _ref3 : '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',\n      price: Number((_ref6 = (_ref7 = (_ref8 = (_ref9 = (_p$selling_price = p.selling_price) !== null && _p$selling_price !== void 0 ? _p$selling_price : p.price) !== null && _ref9 !== void 0 ? _ref9 : p.sale_price) !== null && _ref8 !== void 0 ? _ref8 : p.amount) !== null && _ref7 !== void 0 ? _ref7 : p.product_price) !== null && _ref6 !== void 0 ? _ref6 : 0),\n      img: p.image_url || p.cover_url || p.main_image_url || p.image || p.thumbnail || (Array.isArray(p.images) ? p.images[0] : '') || process.env.PUBLIC_URL + '/logo.png'\n    };\n  };\n  const toArray = data => {\n    if (Array.isArray(data)) return data;\n    if (Array.isArray(data === null || data === void 0 ? void 0 : data.data)) return data.data;\n    if (Array.isArray(data === null || data === void 0 ? void 0 : data.rows)) return data.rows;\n    return [];\n  };\n\n  /* -------------------- ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (2 ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏ô) -------------------- */\n  useEffect(() => {\n    (async () => {\n      const normalizeCat = (c, idx) => {\n        var _ref0, _ref1, _ref10, _c$category_id, _ref11, _ref12, _ref13, _c$category_name, _ref14, _c$slug, _c$code;\n        const cid = (_ref0 = (_ref1 = (_ref10 = (_c$category_id = c.category_id) !== null && _c$category_id !== void 0 ? _c$category_id : c.id) !== null && _ref10 !== void 0 ? _ref10 : c.code) !== null && _ref1 !== void 0 ? _ref1 : c.slug) !== null && _ref0 !== void 0 ? _ref0 : `cat-${idx}`;\n        const rawName = ((_ref11 = (_ref12 = (_ref13 = (_c$category_name = c.category_name) !== null && _c$category_name !== void 0 ? _c$category_name : c.name_th) !== null && _ref13 !== void 0 ? _ref13 : c.name) !== null && _ref12 !== void 0 ? _ref12 : c.title) !== null && _ref11 !== void 0 ? _ref11 : '').toString().trim() || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠';\n        const guessSlug = (_ref14 = (_c$slug = c.slug) !== null && _c$slug !== void 0 ? _c$slug : rawName.includes('‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå') ? 'tools' : rawName.includes('‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ') ? 'plants' : undefined) !== null && _ref14 !== void 0 ? _ref14 : String(cid).toLowerCase();\n        return {\n          id: String(cid),\n          code: ((_c$code = c.code) !== null && _c$code !== void 0 ? _c$code : '').toString().toUpperCase(),\n          slug: guessSlug,\n          name: rawName,\n          image: c.image_url || c.image || c.cover || c.thumbnail || (guessSlug === 'tools' ? process.env.PUBLIC_URL + '/opakorn.jpg' : process.env.PUBLIC_URL + '/tonmai.jpg')\n        };\n      };\n      async function loadFromLookups() {\n        try {\n          const r = await axios.get(apiPath('/lookups?published=1'));\n          const data = r.data || {};\n          const list = Array.isArray(data.product_categories) ? data.product_categories : Array.isArray(data.categories) ? data.categories : [];\n          if (!list.length) return null;\n          return list.map(normalizeCat);\n        } catch {\n          return null;\n        }\n      }\n      async function loadFromCategoriesApi() {\n        try {\n          var _r$data;\n          const r = await axios.get(apiPath('/categories?status=active'));\n          const arr = (Array.isArray((_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.data) ? r.data.data : r.data) || [];\n          if (!arr.length) return null;\n          return arr.map(normalizeCat);\n        } catch {\n          return null;\n        }\n      }\n      try {\n        setLoading(s => ({\n          ...s,\n          cat: true\n        }));\n        let cats = (await loadFromLookups()) || (await loadFromCategoriesApi()) || [];\n        const order = ['PLT', 'PLANTS', 'plants', 'TLS', 'TOOLS', 'tools'];\n        cats.sort((a, b) => {\n          const ai = order.findIndex(k => {\n            var _a$code, _a$slug;\n            return [(_a$code = a.code) === null || _a$code === void 0 ? void 0 : _a$code.toUpperCase(), (_a$slug = a.slug) === null || _a$slug === void 0 ? void 0 : _a$slug.toLowerCase()].includes(String(k).toLowerCase());\n          });\n          const bi = order.findIndex(k => {\n            var _b$code, _b$slug;\n            return [(_b$code = b.code) === null || _b$code === void 0 ? void 0 : _b$code.toUpperCase(), (_b$slug = b.slug) === null || _b$slug === void 0 ? void 0 : _b$slug.toLowerCase()].includes(String(k).toLowerCase());\n          });\n          return (ai === -1 ? 999 : ai) - (bi === -1 ? 999 : bi);\n        });\n        if (!cats.length) cats = FALLBACK_CATEGORIES;\n        setCategories(cats.slice(0, 2));\n      } finally {\n        setLoading(s => ({\n          ...s,\n          cat: false\n        }));\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /* -------------------- Best Sellers (5 ‡∏ä‡∏¥‡πâ‡∏ô) -------------------- */\n  useEffect(() => {\n    (async () => {\n      async function tryFetch(url) {\n        try {\n          const r = await axios.get(url, {\n            headers: {\n              'Cache-Control': 'no-cache'\n            },\n            params: {\n              _: Date.now()\n            }\n          });\n          const arr = toArray(r.data);\n          const mapped = arr.map((p, i) => normalizeProduct(p, i)).filter(x => x.id && x.name);\n          if (mapped.length) return mapped;\n        } catch {}\n        return null;\n      }\n      try {\n        var _products;\n        setLoading(s => ({\n          ...s,\n          best: true\n        }));\n        const urls = [apiPath('/products/best-sellers?limit=5'), apiPath('/products?sort=popular&limit=5'), apiPath('/products?featured=1&limit=5')];\n        let products = null;\n        for (const u of urls) {\n          products = await tryFetch(u);\n          if (products) break;\n        }\n        setBestSellers(((_products = products) === null || _products === void 0 ? void 0 : _products.slice(0, 5)) || FALLBACK_BEST.slice(0, 5));\n      } catch {\n        setBestSellers(FALLBACK_BEST.slice(0, 5));\n        setErrMsg('‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß');\n      } finally {\n        setLoading(s => ({\n          ...s,\n          best: false\n        }));\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  /* -------------------- ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏Å‡∏£‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á) -------------------- */\n  useEffect(() => {\n    (async () => {\n      const bust = Date.now();\n      async function loadAllDirect() {\n        const urls = [apiPath(`/products?limit=60`), apiPath(`/products/all?limit=60`), apiPath(`/products/list?limit=60`)];\n        for (const u of urls) {\n          try {\n            const r = await axios.get(u, {\n              headers: {\n                'Cache-Control': 'no-cache'\n              },\n              params: {\n                _: bust\n              }\n            });\n            const arr = toArray(r.data);\n            if (arr.length) return arr.map((p, i) => normalizeProduct(p, i));\n          } catch {}\n        }\n        return null;\n      }\n      async function loadFromEachCategory(keys) {\n        let bag = [];\n        for (const key of keys) {\n          const q = encodeURIComponent(key);\n          const urls = [apiPath(`/products?category=${q}&limit=30`), apiPath(`/products/by-category/${q}?limit=30`)];\n          for (const u of urls) {\n            try {\n              const r = await axios.get(u, {\n                headers: {\n                  'Cache-Control': 'no-cache'\n                },\n                params: {\n                  _: bust\n                }\n              });\n              const arr = toArray(r.data);\n              if (arr.length) {\n                bag = bag.concat(arr.map((p, i) => normalizeProduct(p, i)));\n                break;\n              }\n            } catch {}\n          }\n        }\n        const seen = new Set();\n        return bag.filter(x => x.id && !seen.has(x.id) && seen.add(x.id));\n      }\n      try {\n        setLoading(s => ({\n          ...s,\n          all: true\n        }));\n        // ‡∏•‡∏≠‡∏á‡∏î‡∏∂‡∏á‡∏£‡∏ß‡∏°‡∏Å‡πà‡∏≠‡∏ô\n        let items = await loadAllDirect();\n\n        // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‚Üí ‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏´‡∏°‡∏ß‡∏î (‡πÉ‡∏ä‡πâ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô)\n        if (!items || !items.length) {\n          const keys = categories.map(c => c.slug || c.code || c.id).filter(Boolean);\n          if (keys.length) items = await loadFromEachCategory(keys);\n        }\n\n        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á id ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)\n        if (items && items.length) {\n          items.sort((a, b) => {\n            const ai = Number(a.id),\n              bi = Number(b.id);\n            if (Number.isFinite(ai) && Number.isFinite(bi)) return bi - ai;\n            return 0;\n          });\n        }\n        setAllProducts(items || []);\n      } finally {\n        setLoading(s => ({\n          ...s,\n          all: false\n        }));\n      }\n    })();\n  }, [categories]); // ‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö fallback ‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏´‡∏°‡∏ß‡∏î)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"search-btn\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero\",\n      style: {\n        backgroundImage: `url(${process.env.PUBLIC_URL + '/p2.png'})`,\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: 'cover'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"\\u201C\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"highlight\",\n            children: \"\\u0E23\\u0E49\\u0E32\\u0E19\\u0E1B\\u0E23\\u0E32\\u0E0A\\u0E0D\\u0E4C\\u0E41\\u0E21\\u0E48\\u0E42\\u0E08\\u0E49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 16\n          }, this), \"\\u201D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0E41\\u0E2B\\u0E25\\u0E48\\u0E07\\u0E1C\\u0E25\\u0E34\\u0E15\\u0E41\\u0E25\\u0E30\\u0E08\\u0E31\\u0E14\\u0E08\\u0E33\\u0E2B\\u0E19\\u0E48\\u0E32\\u0E22 \\u0E15\\u0E49\\u0E19\\u0E44\\u0E21\\u0E49 \\u0E41\\u0E25\\u0E30\\u0E27\\u0E31\\u0E2A\\u0E14\\u0E38\\u0E1B\\u0E25\\u0E39\\u0E01 \\u0E21\\u0E32\\u0E01\\u0E01\\u0E27\\u0E48\\u0E32 100 \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"categories\",\n      children: (loading.cat ? FALLBACK_CATEGORIES : categories).map((cat, idx) => {\n        const q = encodeURIComponent(cat.slug || cat.code || cat.id);\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: `/products?category=${q}`,\n          className: \"category-card\",\n          title: cat.name,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: cat.image,\n            alt: cat.name,\n            onError: e => {\n              e.currentTarget.src = (cat.slug || cat.code || '').toString().toLowerCase().includes('tool') ? process.env.PUBLIC_URL + '/opakorn.jpg' : process.env.PUBLIC_URL + '/tonmai.jpg';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: cat.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 15\n          }, this)]\n        }, cat.id || cat.slug || `cat-${idx}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"best-sellers\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDF1F \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E02\\u0E32\\u0E22\\u0E14\\u0E35\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), errMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: errMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: (loading.best ? FALLBACK_BEST.slice(0, 5) : bestSellers).map((item, idx) => {\n          var _item$id;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.img,\n              alt: item.name,\n              onError: e => {\n                e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [Number(item.price).toLocaleString(), \" \\u0E1A\\u0E32\\u0E17\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-add\",\n              onClick: () => addToCart(item),\n              children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)]\n          }, (_item$id = item.id) !== null && _item$id !== void 0 ? _item$id : `best-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"all-products\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDED2 \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), loading.all ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this) : allProducts && allProducts.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: allProducts.map((p, idx) => {\n          var _p$id;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: p.img,\n              alt: p.name,\n              onError: e => {\n                e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [Number(p.price).toLocaleString(), \" \\u0E1A\\u0E32\\u0E17\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-add\",\n              onClick: () => addToCart(p),\n              children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, (_p$id = p.id) !== null && _p$id !== void 0 ? _p$id : `all-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E43\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E08\\u0E32\\u0E01 API\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeUser, \"gln+wmKNkm2fz2sJzS+Da9wGd3g=\");\n_c = HomeUser;\nvar _c;\n$RefreshReg$(_c, \"HomeUser\");","map":{"version":3,"names":["React","useEffect","useState","Link","axios","addItem","addToCart","jsxDEV","_jsxDEV","FALLBACK_CATEGORIES","id","slug","name","image","process","env","PUBLIC_URL","FALLBACK_BEST","price","img","HomeUser","_s","apiPath","p","defaults","baseURL","replace","endsWith","categories","setCategories","bestSellers","setBestSellers","allProducts","setAllProducts","loading","setLoading","cat","best","all","errMsg","setErrMsg","normalizeProduct","idx","_ref","_ref2","_p$product_id","_ref3","_ref4","_ref5","_p$product_name","_ref6","_ref7","_ref8","_ref9","_p$selling_price","product_id","_id","product_name","name_th","title","Number","selling_price","sale_price","amount","product_price","image_url","cover_url","main_image_url","thumbnail","Array","isArray","images","toArray","data","rows","normalizeCat","c","_ref0","_ref1","_ref10","_c$category_id","_ref11","_ref12","_ref13","_c$category_name","_ref14","_c$slug","_c$code","cid","category_id","code","rawName","category_name","toString","trim","guessSlug","includes","undefined","String","toLowerCase","toUpperCase","cover","loadFromLookups","r","get","list","product_categories","length","map","loadFromCategoriesApi","_r$data","arr","s","cats","order","sort","a","b","ai","findIndex","k","_a$code","_a$slug","bi","_b$code","_b$slug","slice","tryFetch","url","headers","params","_","Date","now","mapped","i","filter","x","_products","urls","products","u","bust","loadAllDirect","loadFromEachCategory","keys","bag","key","q","encodeURIComponent","concat","seen","Set","has","add","items","Boolean","isFinite","className","children","type","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","to","src","alt","onError","e","currentTarget","item","_item$id","toLocaleString","onClick","_p$id","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/HomeUser.js"],"sourcesContent":["// src/pages/HomeUser.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './HomeUser.css';\r\nimport { addItem as addToCart } from '../lib/cart';\r\n\r\n/* -------------------- Fallback -------------------- */\r\nconst FALLBACK_CATEGORIES = [\r\n  { id: 'PLT', slug: 'plants', name: '‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ',            image: process.env.PUBLIC_URL + '/tonmai.jpg' },\r\n  { id: 'TLS', slug: 'tools',  name: '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏û‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å', image: process.env.PUBLIC_URL + '/opakorn.jpg' },\r\n];\r\n\r\nconst FALLBACK_BEST = [\r\n  { id: 1, name: '‡∏ï‡πâ‡∏ô‡∏Å‡∏•‡πâ‡∏≤‡∏•‡∏≥‡πÉ‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•', price: 250, img: process.env.PUBLIC_URL + '/lamyai.jpg' },\r\n  { id: 2, name: '‡∏ï‡πâ‡∏ô‡∏û‡∏ç‡∏≤‡∏ô‡∏≤‡∏Ñ‡∏£‡∏≤‡∏ä',       price: 150, img: process.env.PUBLIC_URL + '/payanaka1.jpg' },\r\n  { id: 3, name: '‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•',      price: 300, img: process.env.PUBLIC_URL + '/katar.jpeg' },\r\n  { id: 4, name: '‡∏î‡∏¥‡∏ô‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô',      price:  99, img: process.env.PUBLIC_URL + '/din.jpg' },\r\n  { id: 5, name: '‡∏´‡∏¥‡∏ô‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡πÑ‡∏ü‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏°‡πâ',   price: 129, img: process.env.PUBLIC_URL + '/logo.png' },\r\n];\r\n\r\nexport default function HomeUser() {\r\n  const apiPath = (p) =>\r\n    (axios.defaults.baseURL || '').replace(/\\/+$/, '').endsWith('/api') ? p : '/api' + p;\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [bestSellers, setBestSellers] = useState([]);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n  const [loading, setLoading] = useState({ cat: true, best: true, all: true });\r\n  const [errMsg, setErrMsg] = useState('');\r\n\r\n  /* -------------------- Helpers -------------------- */\r\n  const normalizeProduct = (p, idx) => ({\r\n    id: p.product_id ?? p.id ?? p._id ?? `p-${idx}`,\r\n    name: p.product_name ?? p.name_th ?? p.name ?? p.title ?? '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',\r\n    price: Number(p.selling_price ?? p.price ?? p.sale_price ?? p.amount ?? p.product_price ?? 0),\r\n    img:\r\n      p.image_url ||\r\n      p.cover_url ||\r\n      p.main_image_url ||\r\n      p.image ||\r\n      p.thumbnail ||\r\n      (Array.isArray(p.images) ? p.images[0] : '') ||\r\n      process.env.PUBLIC_URL + '/logo.png',\r\n  });\r\n  const toArray = (data) => {\r\n    if (Array.isArray(data)) return data;\r\n    if (Array.isArray(data?.data)) return data.data;\r\n    if (Array.isArray(data?.rows)) return data.rows;\r\n    return [];\r\n  };\r\n\r\n  /* -------------------- ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (2 ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏ô) -------------------- */\r\n  useEffect(() => {\r\n    (async () => {\r\n      const normalizeCat = (c, idx) => {\r\n        const cid = c.category_id ?? c.id ?? c.code ?? c.slug ?? `cat-${idx}`;\r\n        const rawName =\r\n          (c.category_name ?? c.name_th ?? c.name ?? c.title ?? '').toString().trim() || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠';\r\n        const guessSlug =\r\n          c.slug ??\r\n          (rawName.includes('‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå') ? 'tools' :\r\n           rawName.includes('‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ')   ? 'plants' : undefined) ??\r\n          String(cid).toLowerCase();\r\n\r\n        return {\r\n          id: String(cid),\r\n          code: (c.code ?? '').toString().toUpperCase(),\r\n          slug: guessSlug,\r\n          name: rawName,\r\n          image:\r\n            c.image_url ||\r\n            c.image ||\r\n            c.cover ||\r\n            c.thumbnail ||\r\n            (guessSlug === 'tools'\r\n              ? process.env.PUBLIC_URL + '/opakorn.jpg'\r\n              : process.env.PUBLIC_URL + '/tonmai.jpg'),\r\n        };\r\n      };\r\n\r\n      async function loadFromLookups() {\r\n        try {\r\n          const r = await axios.get(apiPath('/lookups?published=1'));\r\n          const data = r.data || {};\r\n          const list =\r\n            Array.isArray(data.product_categories)\r\n              ? data.product_categories\r\n              : Array.isArray(data.categories)\r\n              ? data.categories\r\n              : [];\r\n          if (!list.length) return null;\r\n          return list.map(normalizeCat);\r\n        } catch { return null; }\r\n      }\r\n      async function loadFromCategoriesApi() {\r\n        try {\r\n          const r = await axios.get(apiPath('/categories?status=active'));\r\n          const arr = (Array.isArray(r.data?.data) ? r.data.data : r.data) || [];\r\n          if (!arr.length) return null;\r\n          return arr.map(normalizeCat);\r\n        } catch { return null; }\r\n      }\r\n\r\n      try {\r\n        setLoading((s) => ({ ...s, cat: true }));\r\n        let cats = (await loadFromLookups()) || (await loadFromCategoriesApi()) || [];\r\n\r\n        const order = ['PLT', 'PLANTS', 'plants', 'TLS', 'TOOLS', 'tools'];\r\n        cats.sort((a, b) => {\r\n          const ai = order.findIndex((k) =>\r\n            [a.code?.toUpperCase(), a.slug?.toLowerCase()].includes(String(k).toLowerCase())\r\n          );\r\n          const bi = order.findIndex((k) =>\r\n            [b.code?.toUpperCase(), b.slug?.toLowerCase()].includes(String(k).toLowerCase())\r\n          );\r\n          return (ai === -1 ? 999 : ai) - (bi === -1 ? 999 : bi);\r\n        });\r\n\r\n        if (!cats.length) cats = FALLBACK_CATEGORIES;\r\n        setCategories(cats.slice(0, 2));\r\n      } finally {\r\n        setLoading((s) => ({ ...s, cat: false }));\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  /* -------------------- Best Sellers (5 ‡∏ä‡∏¥‡πâ‡∏ô) -------------------- */\r\n  useEffect(() => {\r\n    (async () => {\r\n      async function tryFetch(url) {\r\n        try {\r\n          const r = await axios.get(url, {\r\n            headers: { 'Cache-Control': 'no-cache' },\r\n            params: { _: Date.now() },\r\n          });\r\n        const arr = toArray(r.data);\r\n          const mapped = arr.map((p, i) => normalizeProduct(p, i)).filter((x) => x.id && x.name);\r\n          if (mapped.length) return mapped;\r\n        } catch {}\r\n        return null;\r\n      }\r\n\r\n      try {\r\n        setLoading((s) => ({ ...s, best: true }));\r\n        const urls = [\r\n          apiPath('/products/best-sellers?limit=5'),\r\n          apiPath('/products?sort=popular&limit=5'),\r\n          apiPath('/products?featured=1&limit=5'),\r\n        ];\r\n        let products = null;\r\n        for (const u of urls) {\r\n          products = await tryFetch(u);\r\n          if (products) break;\r\n        }\r\n        setBestSellers(products?.slice(0, 5) || FALLBACK_BEST.slice(0, 5));\r\n      } catch {\r\n        setBestSellers(FALLBACK_BEST.slice(0, 5));\r\n        setErrMsg('‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß');\r\n      } finally {\r\n        setLoading((s) => ({ ...s, best: false }));\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  /* -------------------- ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏Å‡∏£‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á) -------------------- */\r\n  useEffect(() => {\r\n    (async () => {\r\n      const bust = Date.now();\r\n\r\n      async function loadAllDirect() {\r\n        const urls = [\r\n          apiPath(`/products?limit=60`),\r\n          apiPath(`/products/all?limit=60`),\r\n          apiPath(`/products/list?limit=60`),\r\n        ];\r\n        for (const u of urls) {\r\n          try {\r\n            const r = await axios.get(u, {\r\n              headers: { 'Cache-Control': 'no-cache' },\r\n              params: { _: bust },\r\n            });\r\n            const arr = toArray(r.data);\r\n            if (arr.length) return arr.map((p, i) => normalizeProduct(p, i));\r\n          } catch {}\r\n        }\r\n        return null;\r\n      }\r\n\r\n      async function loadFromEachCategory(keys) {\r\n        let bag = [];\r\n        for (const key of keys) {\r\n          const q = encodeURIComponent(key);\r\n          const urls = [\r\n            apiPath(`/products?category=${q}&limit=30`),\r\n            apiPath(`/products/by-category/${q}?limit=30`),\r\n          ];\r\n          for (const u of urls) {\r\n            try {\r\n              const r = await axios.get(u, {\r\n                headers: { 'Cache-Control': 'no-cache' },\r\n                params: { _: bust },\r\n              });\r\n              const arr = toArray(r.data);\r\n              if (arr.length) {\r\n                bag = bag.concat(arr.map((p, i) => normalizeProduct(p, i)));\r\n                break;\r\n              }\r\n            } catch {}\r\n          }\r\n        }\r\n        const seen = new Set();\r\n        return bag.filter((x) => x.id && !seen.has(x.id) && seen.add(x.id));\r\n      }\r\n\r\n      try {\r\n        setLoading((s) => ({ ...s, all: true }));\r\n        // ‡∏•‡∏≠‡∏á‡∏î‡∏∂‡∏á‡∏£‡∏ß‡∏°‡∏Å‡πà‡∏≠‡∏ô\r\n        let items = await loadAllDirect();\r\n\r\n        // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‚Üí ‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏´‡∏°‡∏ß‡∏î (‡πÉ‡∏ä‡πâ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô)\r\n        if (!items || !items.length) {\r\n          const keys = categories.map((c) => c.slug || c.code || c.id).filter(Boolean);\r\n          if (keys.length) items = await loadFromEachCategory(keys);\r\n        }\r\n\r\n        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á id ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)\r\n        if (items && items.length) {\r\n          items.sort((a, b) => {\r\n            const ai = Number(a.id), bi = Number(b.id);\r\n            if (Number.isFinite(ai) && Number.isFinite(bi)) return bi - ai;\r\n            return 0;\r\n          });\r\n        }\r\n        setAllProducts(items || []);\r\n      } finally {\r\n        setLoading((s) => ({ ...s, all: false }));\r\n      }\r\n    })();\r\n  }, [categories]); // ‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏° (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö fallback ‡∏£‡∏ß‡∏°‡∏à‡∏≤‡∏Å‡∏´‡∏°‡∏ß‡∏î)\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      {/* Search */}\r\n      <div className=\"search-box\">\r\n        <input type=\"text\" placeholder=\"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\" />\r\n        <button className=\"search-btn\">üîç</button>\r\n      </div>\r\n\r\n      {/* Hero */}\r\n      <section\r\n        className=\"hero\"\r\n        style={{\r\n          backgroundImage: `url(${process.env.PUBLIC_URL + '/p2.png'})`,\r\n          backgroundRepeat: 'no-repeat',\r\n          backgroundPosition: 'center',\r\n          backgroundSize: 'cover',\r\n        }}\r\n      >\r\n        <div className=\"hero-text\">\r\n          <h1>‚Äú<span className=\"highlight\">‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏£‡∏≤‡∏ä‡∏ç‡πå‡πÅ‡∏°‡πà‡πÇ‡∏à‡πâ</span>‚Äù</h1>\r\n          <p>‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢ ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏õ‡∏•‡∏π‡∏Å ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 100 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>\r\n        </div>\r\n      </section>\r\n\r\n      {/* ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏°‡∏ß‡∏î 2 ‡πÉ‡∏ö */}\r\n      <section className=\"categories\">\r\n        {(loading.cat ? FALLBACK_CATEGORIES : categories).map((cat, idx) => {\r\n          const q = encodeURIComponent(cat.slug || cat.code || cat.id);\r\n          return (\r\n            <Link\r\n              key={cat.id || cat.slug || `cat-${idx}`}\r\n              to={`/products?category=${q}`}\r\n              className=\"category-card\"\r\n              title={cat.name}\r\n            >\r\n              <img\r\n                src={cat.image}\r\n                alt={cat.name}\r\n                onError={(e) => {\r\n                  e.currentTarget.src =\r\n                    (cat.slug || cat.code || '')\r\n                      .toString()\r\n                      .toLowerCase()\r\n                      .includes('tool')\r\n                      ? process.env.PUBLIC_URL + '/opakorn.jpg'\r\n                      : process.env.PUBLIC_URL + '/tonmai.jpg';\r\n                }}\r\n              />\r\n              <p>{cat.name}</p>\r\n            </Link>\r\n          );\r\n        })}\r\n      </section>\r\n\r\n      {/* Best Sellers (5 ‡∏ä‡∏¥‡πâ‡∏ô) */}\r\n      <section className=\"best-sellers\">\r\n        <h2>üåü ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h2>\r\n        {errMsg && <div className=\"info-inline\">{errMsg}</div>}\r\n        <div className=\"product-grid\">\r\n          {(loading.best ? FALLBACK_BEST.slice(0, 5) : bestSellers).map((item, idx) => (\r\n            <div className=\"product-card\" key={item.id ?? `best-${idx}`}>\r\n              <img\r\n                src={item.img}\r\n                alt={item.name}\r\n                onError={(e) => { e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png'; }}\r\n              />\r\n              <h3>{item.name}</h3>\r\n              <p>{Number(item.price).toLocaleString()} ‡∏ö‡∏≤‡∏ó</p>\r\n              <button className=\"btn-add\" onClick={() => addToCart(item)}>\r\n                + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* All products (‡∏Å‡∏£‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á) */}\r\n      <section className=\"all-products\">\r\n        <h2>üõí ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h2>\r\n        {loading.all ? (\r\n          <div className=\"info-inline\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‚Ä¶</div>\r\n        ) : (allProducts && allProducts.length) ? (\r\n          <div className=\"product-grid\">\r\n            {allProducts.map((p, idx) => (\r\n              <div className=\"product-card\" key={p.id ?? `all-${idx}`}>\r\n                <img\r\n                  src={p.img}\r\n                  alt={p.name}\r\n                  onError={(e) => { e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png'; }}\r\n                />\r\n                <h3>{p.name}</h3>\r\n                <p>{Number(p.price).toLocaleString()} ‡∏ö‡∏≤‡∏ó</p>\r\n                <button className=\"btn-add\" onClick={() => addToCart(p)}>\r\n                  + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"info-inline\">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å API</div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}