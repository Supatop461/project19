{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\admin\\\\OrderManagement.js\",\n  _s = $RefreshSig$();\n// frontend/src/admin/OrderManagement.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport './OrderManagement.css'; // << ใช้ไฟล์ CSS แยก\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_CLASS = id => `status-${String(id || '').toLowerCase()}`;\n_c = STATUS_CLASS;\nexport default function OrderManagement() {\n  _s();\n  var _detail$order, _detail$order2, _detail$order3, _detail$order4, _detail$order5, _detail$order6;\n  const [orders, setOrders] = useState([]);\n  const [statuses, setStatuses] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [err, setErr] = useState('');\n\n  // filters\n  const [q, setQ] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [dateFrom, setDateFrom] = useState('');\n  const [dateTo, setDateTo] = useState('');\n\n  // pagination\n  const [page, setPage] = useState(1);\n  const [pageSize] = useState(20);\n  const [total, setTotal] = useState(0);\n\n  // tracking inline\n  const [trackingDraft, setTrackingDraft] = useState({});\n\n  // detail modal\n  const [detail, setDetail] = useState({\n    open: false,\n    order: null,\n    items: []\n  });\n  const fmtCurrency = n => Number(n !== null && n !== void 0 ? n : 0).toLocaleString(undefined, {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  });\n  const fmtDate = d => d ? new Date(d).toLocaleDateString() : '-';\n  const totalPages = useMemo(() => Math.max(1, Math.ceil((total || 0) / pageSize)), [total, pageSize]);\n  const currentParams = useMemo(() => ({\n    page,\n    pageSize,\n    status_id: statusFilter || undefined,\n    q: q || undefined,\n    date_from: dateFrom || undefined,\n    date_to: dateTo || undefined\n  }), [page, pageSize, statusFilter, q, dateFrom, dateTo]);\n  async function fetchStatuses() {\n    try {\n      const res = await axios.get('/api/orders/statuses');\n      setStatuses(res.data || []);\n    } catch {}\n  }\n  async function fetchOrders(params = currentParams) {\n    setLoading(true);\n    setErr('');\n    try {\n      var _res$data, _res$data2, _res$data3, _res$data4;\n      const res = await axios.get('/api/orders', {\n        params\n      });\n      setOrders(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.rows) || []);\n      setTotal(((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.total) || 0);\n      setPage(((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.page) || params.page || 1);\n      const nextDraft = {};\n      (((_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.rows) || []).forEach(o => nextDraft[o.order_id] = o.tracking_number || '');\n      setTrackingDraft(nextDraft);\n    } catch (e) {\n      setErr('โหลดรายการคำสั่งซื้อไม่สำเร็จ');\n    } finally {\n      setLoading(false);\n    }\n  }\n  async function openDetail(orderId) {\n    try {\n      const res = await axios.get(`/api/orders/${orderId}`);\n      setDetail({\n        open: true,\n        order: res.data.order,\n        items: res.data.items || []\n      });\n    } catch {\n      alert('ดึงรายละเอียดไม่สำเร็จ');\n    }\n  }\n  function closeDetail() {\n    setDetail({\n      open: false,\n      order: null,\n      items: []\n    });\n  }\n  useEffect(() => {\n    fetchStatuses();\n    fetchOrders({\n      ...currentParams,\n      page: 1\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  async function handleStatusChange(orderId, newStatusId) {\n    try {\n      var _res$data5;\n      const res = await axios.put(`/api/orders/${orderId}/status`, {\n        order_status_id: newStatusId\n      });\n      const updated = (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.row;\n      if (updated) {\n        setOrders(prev => prev.map(o => o.order_id === orderId ? {\n          ...o,\n          ...updated\n        } : o));\n      }\n    } catch {\n      alert('อัปเดตสถานะไม่สำเร็จ');\n    }\n  }\n  async function handleTrackingSave(orderId) {\n    var _trackingDraft$orderI;\n    const newTracking = ((_trackingDraft$orderI = trackingDraft[orderId]) !== null && _trackingDraft$orderI !== void 0 ? _trackingDraft$orderI : '').trim();\n    try {\n      var _res$data6;\n      const res = await axios.put(`/api/orders/${orderId}/tracking`, {\n        tracking_number: newTracking || null\n      });\n      const updated = (_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.row;\n      if (updated) {\n        setOrders(prev => prev.map(o => o.order_id === orderId ? {\n          ...o,\n          ...updated\n        } : o));\n        setTrackingDraft(prev => ({\n          ...prev,\n          [orderId]: updated.tracking_number || ''\n        }));\n      }\n    } catch {\n      alert('อัปเดตเลขพัสดุไม่สำเร็จ');\n    }\n  }\n  function doSearch() {\n    setPage(1);\n    fetchOrders({\n      ...currentParams,\n      page: 1\n    });\n  }\n  function resetFilters() {\n    setQ('');\n    setStatusFilter('');\n    setDateFrom('');\n    setDateTo('');\n    setPage(1);\n    fetchOrders({\n      page: 1,\n      pageSize\n    });\n  }\n  function exportCSV() {\n    const params = new URLSearchParams({\n      q: q || '',\n      status_id: statusFilter || '',\n      date_from: dateFrom || '',\n      date_to: dateTo || ''\n    });\n    window.open(`/api/orders/export?${params.toString()}`, '_blank');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"om-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"om-title\",\n      children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"om-filter\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"om-input\",\n        placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32: \\u0E40\\u0E25\\u0E02\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D / \\u0E40\\u0E25\\u0E02\\u0E1E\\u0E31\\u0E2A\\u0E14\\u0E38 / user_id\",\n        value: q,\n        onChange: e => setQ(e.target.value),\n        onKeyDown: e => e.key === 'Enter' && doSearch()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"om-input\",\n        value: statusFilter,\n        onChange: e => setStatusFilter(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u2014 \\u0E17\\u0E38\\u0E01\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30 \\u2014\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), statuses.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: s.order_status_id,\n          children: s.order_status_name\n        }, s.order_status_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"om-input\",\n        type: \"date\",\n        value: dateFrom,\n        onChange: e => setDateFrom(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"om-input\",\n        type: \"date\",\n        value: dateTo,\n        onChange: e => setDateTo(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"om-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"om-btn\",\n          onClick: doSearch,\n          children: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"om-btn om-btn-secondary\",\n          onClick: resetFilters,\n          children: \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E15\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"om-btn om-btn-outline\",\n          onClick: exportCSV,\n          children: \"Export CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"om-pagination\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"om-btn\",\n        disabled: page <= 1,\n        onClick: () => {\n          const p = page - 1;\n          setPage(p);\n          fetchOrders({\n            ...currentParams,\n            page: p\n          });\n        },\n        children: \"\\u0E01\\u0E48\\u0E2D\\u0E19\\u0E2B\\u0E19\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"om-pageinfo\",\n        children: [\"\\u0E2B\\u0E19\\u0E49\\u0E32 \", page, \" / \", totalPages, \" (\\u0E23\\u0E27\\u0E21 \", total, \" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"om-btn\",\n        disabled: page >= totalPages,\n        onClick: () => {\n          const p = page + 1;\n          setPage(p);\n          fetchOrders({\n            ...currentParams,\n            page: p\n          });\n        },\n        children: \"\\u0E16\\u0E31\\u0E14\\u0E44\\u0E1B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"om-error\",\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 15\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"om-loading\",\n      children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"om-tablewrap\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"om-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E2D\\u0E31\\u0E1B\\u0E40\\u0E14\\u0E15\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E40\\u0E25\\u0E02\\u0E1E\\u0E31\\u0E2A\\u0E14\\u0E38\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"om-th\",\n              children: \"\\u0E14\\u0E39\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [orders.map(o => {\n            var _trackingDraft$o$orde;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"om-tr\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td\",\n                children: [\"#\", o.order_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td\",\n                children: [\"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49 #\", o.user_id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td\",\n                children: fmtDate(o.order_date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td om-num\",\n                children: fmtCurrency(o.total_amount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `om-badge ${STATUS_CLASS(o.order_status_id)}`,\n                  children: o.order_status_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"om-input\",\n                  value: o.order_status_id,\n                  onChange: e => handleStatusChange(o.order_id, e.target.value),\n                  children: statuses.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: s.order_status_id,\n                    children: s.order_status_name\n                  }, s.order_status_id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"om-trk\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"om-input\",\n                    placeholder: \"\\u0E43\\u0E2A\\u0E48\\u0E40\\u0E25\\u0E02\\u0E1E\\u0E31\\u0E2A\\u0E14\\u0E38\",\n                    value: (_trackingDraft$o$orde = trackingDraft[o.order_id]) !== null && _trackingDraft$o$orde !== void 0 ? _trackingDraft$o$orde : o.tracking_number || '',\n                    onChange: e => setTrackingDraft(prev => ({\n                      ...prev,\n                      [o.order_id]: e.target.value\n                    })),\n                    onKeyDown: e => {\n                      if (e.key === 'Enter') handleTrackingSave(o.order_id);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"om-btn\",\n                    onClick: () => handleTrackingSave(o.order_id),\n                    children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"om-td\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"om-btn om-btn-secondary\",\n                  onClick: () => openDetail(o.order_id),\n                  children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this)]\n            }, o.order_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this);\n          }), !orders.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"om-td\",\n              colSpan: 8,\n              style: {\n                textAlign: 'center',\n                color: '#777',\n                padding: 24\n              },\n              children: \"\\u0E44\\u0E21\\u0E48\\u0E1E\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), detail.open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"om-modal-backdrop\",\n      onClick: closeDetail,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"om-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"om-modal-title\",\n          children: [\"\\u0E2D\\u0E2D\\u0E40\\u0E14\\u0E2D\\u0E23\\u0E4C #\", (_detail$order = detail.order) === null || _detail$order === void 0 ? void 0 : _detail$order.order_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"om-order-meta\",\n          children: [\"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49 #\", (_detail$order2 = detail.order) === null || _detail$order2 === void 0 ? void 0 : _detail$order2.user_id, \" \\xB7 \\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", fmtDate((_detail$order3 = detail.order) === null || _detail$order3 === void 0 ? void 0 : _detail$order3.order_date), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 92\n          }, this), \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30: \", (_detail$order4 = detail.order) === null || _detail$order4 === void 0 ? void 0 : _detail$order4.order_status_name, \" \\xB7 \\u0E40\\u0E25\\u0E02\\u0E1E\\u0E31\\u0E2A\\u0E14\\u0E38: \", ((_detail$order5 = detail.order) === null || _detail$order5 === void 0 ? void 0 : _detail$order5.tracking_number) || '-', \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 107\n          }, this), \"\\u0E22\\u0E2D\\u0E14\\u0E23\\u0E27\\u0E21: \", fmtCurrency((_detail$order6 = detail.order) === null || _detail$order6 === void 0 ? void 0 : _detail$order6.total_amount)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"om-tablewrap\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"om-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"om-th\",\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"om-th\",\n                  children: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"om-th\",\n                  children: \"SKU\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"om-th\",\n                  children: \"\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"om-th\",\n                  children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"om-th\",\n                  children: \"\\u0E23\\u0E32\\u0E04\\u0E32/\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"om-th\",\n                  children: \"\\u0E23\\u0E27\\u0E21\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [detail.items.map((it, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"om-tr\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td\",\n                  children: idx + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"om-item\",\n                    children: [it.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      alt: \"\",\n                      src: it.image,\n                      className: \"om-thumb\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"om-thumb om-thumb-na\",\n                      children: \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"om-item-name\",\n                        children: it.product_name || `#${it.product_id}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"om-item-sub\",\n                        children: [\"variant_id: \", it.variant_id]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td\",\n                  children: it.sku || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td om-ellipsis\",\n                  children: it.options || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td\",\n                  children: it.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td om-num\",\n                  children: fmtCurrency(it.price_each)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td om-num\",\n                  children: fmtCurrency(it.line_total)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this)]\n              }, it.order_detail_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 21\n              }, this)), !detail.items.length && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"om-td\",\n                  colSpan: 7,\n                  style: {\n                    textAlign: 'center',\n                    color: '#777',\n                    padding: 24\n                  },\n                  children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"om-modal-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"om-btn om-btn-secondary\",\n            onClick: closeDetail,\n            children: \"\\u0E1B\\u0E34\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderManagement, \"j4dixGoLcNWrEXxXGS3UMadVykI=\");\n_c2 = OrderManagement;\nvar _c, _c2;\n$RefreshReg$(_c, \"STATUS_CLASS\");\n$RefreshReg$(_c2, \"OrderManagement\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","jsxDEV","_jsxDEV","STATUS_CLASS","id","String","toLowerCase","_c","OrderManagement","_s","_detail$order","_detail$order2","_detail$order3","_detail$order4","_detail$order5","_detail$order6","orders","setOrders","statuses","setStatuses","loading","setLoading","err","setErr","q","setQ","statusFilter","setStatusFilter","dateFrom","setDateFrom","dateTo","setDateTo","page","setPage","pageSize","total","setTotal","trackingDraft","setTrackingDraft","detail","setDetail","open","order","items","fmtCurrency","n","Number","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","fmtDate","d","Date","toLocaleDateString","totalPages","Math","max","ceil","currentParams","status_id","date_from","date_to","fetchStatuses","res","get","data","fetchOrders","params","_res$data","_res$data2","_res$data3","_res$data4","rows","nextDraft","forEach","o","order_id","tracking_number","e","openDetail","orderId","alert","closeDetail","handleStatusChange","newStatusId","_res$data5","put","order_status_id","updated","row","prev","map","handleTrackingSave","_trackingDraft$orderI","newTracking","trim","_res$data6","doSearch","resetFilters","exportCSV","URLSearchParams","window","toString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","target","onKeyDown","key","s","order_status_name","type","onClick","disabled","p","_trackingDraft$o$orde","user_id","order_date","total_amount","length","colSpan","style","textAlign","color","padding","stopPropagation","it","idx","image","alt","src","product_name","product_id","variant_id","sku","options","quantity","price_each","line_total","order_detail_id","_c2","$RefreshReg$"],"sources":["D:/project19/frontend/src/admin/OrderManagement.js"],"sourcesContent":["// frontend/src/admin/OrderManagement.js\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './OrderManagement.css'; // << ใช้ไฟล์ CSS แยก\r\n\r\nconst STATUS_CLASS = (id) => `status-${String(id || '').toLowerCase()}`;\r\n\r\nexport default function OrderManagement() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [statuses, setStatuses] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState('');\r\n\r\n  // filters\r\n  const [q, setQ] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('');\r\n  const [dateFrom, setDateFrom] = useState('');\r\n  const [dateTo, setDateTo] = useState('');\r\n\r\n  // pagination\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize] = useState(20);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  // tracking inline\r\n  const [trackingDraft, setTrackingDraft] = useState({});\r\n\r\n  // detail modal\r\n  const [detail, setDetail] = useState({ open: false, order: null, items: [] });\r\n\r\n  const fmtCurrency = (n) =>\r\n    Number(n ?? 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n  const fmtDate = (d) => (d ? new Date(d).toLocaleDateString() : '-');\r\n\r\n  const totalPages = useMemo(\r\n    () => Math.max(1, Math.ceil((total || 0) / pageSize)),\r\n    [total, pageSize]\r\n  );\r\n\r\n  const currentParams = useMemo(\r\n    () => ({\r\n      page,\r\n      pageSize,\r\n      status_id: statusFilter || undefined,\r\n      q: q || undefined,\r\n      date_from: dateFrom || undefined,\r\n      date_to: dateTo || undefined,\r\n    }),\r\n    [page, pageSize, statusFilter, q, dateFrom, dateTo]\r\n  );\r\n\r\n  async function fetchStatuses() {\r\n    try {\r\n      const res = await axios.get('/api/orders/statuses');\r\n      setStatuses(res.data || []);\r\n    } catch {}\r\n  }\r\n\r\n  async function fetchOrders(params = currentParams) {\r\n    setLoading(true);\r\n    setErr('');\r\n    try {\r\n      const res = await axios.get('/api/orders', { params });\r\n      setOrders(res.data?.rows || []);\r\n      setTotal(res.data?.total || 0);\r\n      setPage(res.data?.page || params.page || 1);\r\n      const nextDraft = {};\r\n      (res.data?.rows || []).forEach((o) => (nextDraft[o.order_id] = o.tracking_number || ''));\r\n      setTrackingDraft(nextDraft);\r\n    } catch (e) {\r\n      setErr('โหลดรายการคำสั่งซื้อไม่สำเร็จ');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function openDetail(orderId) {\r\n    try {\r\n      const res = await axios.get(`/api/orders/${orderId}`);\r\n      setDetail({ open: true, order: res.data.order, items: res.data.items || [] });\r\n    } catch {\r\n      alert('ดึงรายละเอียดไม่สำเร็จ');\r\n    }\r\n  }\r\n  function closeDetail() {\r\n    setDetail({ open: false, order: null, items: [] });\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchStatuses();\r\n    fetchOrders({ ...currentParams, page: 1 });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  async function handleStatusChange(orderId, newStatusId) {\r\n    try {\r\n      const res = await axios.put(`/api/orders/${orderId}/status`, { order_status_id: newStatusId });\r\n      const updated = res.data?.row;\r\n      if (updated) {\r\n        setOrders((prev) => prev.map((o) => (o.order_id === orderId ? { ...o, ...updated } : o)));\r\n      }\r\n    } catch {\r\n      alert('อัปเดตสถานะไม่สำเร็จ');\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  async function handleTrackingSave(orderId) {\r\n    const newTracking = (trackingDraft[orderId] ?? '').trim();\r\n    try {\r\n      const res = await axios.put(`/api/orders/${orderId}/tracking`, {\r\n        tracking_number: newTracking || null,\r\n      });\r\n      const updated = res.data?.row;\r\n      if (updated) {\r\n        setOrders((prev) => prev.map((o) => (o.order_id === orderId ? { ...o, ...updated } : o)));\r\n        setTrackingDraft((prev) => ({ ...prev, [orderId]: updated.tracking_number || '' }));\r\n      }\r\n    } catch {\r\n      alert('อัปเดตเลขพัสดุไม่สำเร็จ');\r\n    }\r\n  }\r\n\r\n  function doSearch() {\r\n    setPage(1);\r\n    fetchOrders({ ...currentParams, page: 1 });\r\n  }\r\n  function resetFilters() {\r\n    setQ('');\r\n    setStatusFilter('');\r\n    setDateFrom('');\r\n    setDateTo('');\r\n    setPage(1);\r\n    fetchOrders({ page: 1, pageSize });\r\n  }\r\n  function exportCSV() {\r\n    const params = new URLSearchParams({\r\n      q: q || '',\r\n      status_id: statusFilter || '',\r\n      date_from: dateFrom || '',\r\n      date_to: dateTo || '',\r\n    });\r\n    window.open(`/api/orders/export?${params.toString()}`, '_blank');\r\n  }\r\n\r\n  return (\r\n    <div className=\"om-container\">\r\n      <h2 className=\"om-title\">จัดการคำสั่งซื้อ</h2>\r\n\r\n      {/* Filter bar */}\r\n      <div className=\"om-filter\">\r\n        <input\r\n          className=\"om-input\"\r\n          placeholder=\"ค้นหา: เลขคำสั่งซื้อ / เลขพัสดุ / user_id\"\r\n          value={q}\r\n          onChange={(e) => setQ(e.target.value)}\r\n          onKeyDown={(e) => e.key === 'Enter' && doSearch()}\r\n        />\r\n        <select\r\n          className=\"om-input\"\r\n          value={statusFilter}\r\n          onChange={(e) => setStatusFilter(e.target.value)}\r\n        >\r\n          <option value=\"\">— ทุกสถานะ —</option>\r\n          {statuses.map((s) => (\r\n            <option key={s.order_status_id} value={s.order_status_id}>\r\n              {s.order_status_name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <input className=\"om-input\" type=\"date\" value={dateFrom} onChange={(e) => setDateFrom(e.target.value)} />\r\n        <input className=\"om-input\" type=\"date\" value={dateTo} onChange={(e) => setDateTo(e.target.value)} />\r\n\r\n        <div className=\"om-actions\">\r\n          <button className=\"om-btn\" onClick={doSearch}>ค้นหา</button>\r\n          <button className=\"om-btn om-btn-secondary\" onClick={resetFilters}>รีเซ็ต</button>\r\n          <button className=\"om-btn om-btn-outline\" onClick={exportCSV}>Export CSV</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      <div className=\"om-pagination\">\r\n        <button className=\"om-btn\" disabled={page <= 1}\r\n          onClick={() => { const p = page - 1; setPage(p); fetchOrders({ ...currentParams, page: p }); }}>\r\n          ก่อนหน้า\r\n        </button>\r\n        <span className=\"om-pageinfo\">\r\n          หน้า {page} / {totalPages} (รวม {total} รายการ)\r\n        </span>\r\n        <button className=\"om-btn\" disabled={page >= totalPages}\r\n          onClick={() => { const p = page + 1; setPage(p); fetchOrders({ ...currentParams, page: p }); }}>\r\n          ถัดไป\r\n        </button>\r\n      </div>\r\n\r\n      {err && <div className=\"om-error\">{err}</div>}\r\n\r\n      {loading ? (\r\n        <div className=\"om-loading\">กำลังโหลด...</div>\r\n      ) : (\r\n        <div className=\"om-tablewrap\">\r\n          <table className=\"om-table\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"om-th\">เลขที่</th>\r\n                <th className=\"om-th\">ผู้ใช้</th>\r\n                <th className=\"om-th\">วันที่</th>\r\n                <th className=\"om-th\">ยอดรวม</th>\r\n                <th className=\"om-th\">สถานะ</th>\r\n                <th className=\"om-th\">อัปเดตสถานะ</th>\r\n                <th className=\"om-th\">เลขพัสดุ</th>\r\n                <th className=\"om-th\">ดู</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map((o) => (\r\n                <tr key={o.order_id} className=\"om-tr\">\r\n                  <td className=\"om-td\">#{o.order_id}</td>\r\n                  <td className=\"om-td\">ผู้ใช้ #{o.user_id}</td>\r\n                  <td className=\"om-td\">{fmtDate(o.order_date)}</td>\r\n                  <td className=\"om-td om-num\">{fmtCurrency(o.total_amount)}</td>\r\n\r\n                  <td className=\"om-td\">\r\n                    <span className={`om-badge ${STATUS_CLASS(o.order_status_id)}`}>\r\n                      {o.order_status_name}\r\n                    </span>\r\n                  </td>\r\n\r\n                  <td className=\"om-td\">\r\n                    <select\r\n                      className=\"om-input\"\r\n                      value={o.order_status_id}\r\n                      onChange={(e) => handleStatusChange(o.order_id, e.target.value)}\r\n                    >\r\n                      {statuses.map((s) => (\r\n                        <option key={s.order_status_id} value={s.order_status_id}>\r\n                          {s.order_status_name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </td>\r\n\r\n                  <td className=\"om-td\">\r\n                    <div className=\"om-trk\">\r\n                      <input\r\n                        className=\"om-input\"\r\n                        placeholder=\"ใส่เลขพัสดุ\"\r\n                        value={trackingDraft[o.order_id] ?? (o.tracking_number || '')}\r\n                        onChange={(e) => setTrackingDraft((prev) => ({ ...prev, [o.order_id]: e.target.value }))}\r\n                        onKeyDown={(e) => { if (e.key === 'Enter') handleTrackingSave(o.order_id); }}\r\n                      />\r\n                      <button className=\"om-btn\" onClick={() => handleTrackingSave(o.order_id)}>บันทึก</button>\r\n                    </div>\r\n                  </td>\r\n\r\n                  <td className=\"om-td\">\r\n                    <button className=\"om-btn om-btn-secondary\" onClick={() => openDetail(o.order_id)}>รายละเอียด</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {!orders.length && (\r\n                <tr>\r\n                  <td className=\"om-td\" colSpan={8} style={{ textAlign: 'center', color: '#777', padding: 24 }}>\r\n                    ไม่พบข้อมูล\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n\r\n      {/* Detail Modal */}\r\n      {detail.open && (\r\n        <div className=\"om-modal-backdrop\" onClick={closeDetail}>\r\n          <div className=\"om-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <h3 className=\"om-modal-title\">ออเดอร์ #{detail.order?.order_id}</h3>\r\n            <div className=\"om-order-meta\">\r\n              ผู้ใช้ #{detail.order?.user_id} · วันที่ {fmtDate(detail.order?.order_date)} <br />\r\n              สถานะ: {detail.order?.order_status_name} · เลขพัสดุ: {detail.order?.tracking_number || '-'} <br />\r\n              ยอดรวม: {fmtCurrency(detail.order?.total_amount)}\r\n            </div>\r\n\r\n            <div className=\"om-tablewrap\">\r\n              <table className=\"om-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"om-th\">#</th>\r\n                    <th className=\"om-th\">สินค้า</th>\r\n                    <th className=\"om-th\">SKU</th>\r\n                    <th className=\"om-th\">ตัวเลือก</th>\r\n                    <th className=\"om-th\">จำนวน</th>\r\n                    <th className=\"om-th\">ราคา/หน่วย</th>\r\n                    <th className=\"om-th\">รวม</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {detail.items.map((it, idx) => (\r\n                    <tr key={it.order_detail_id} className=\"om-tr\">\r\n                      <td className=\"om-td\">{idx + 1}</td>\r\n                      <td className=\"om-td\">\r\n                        <div className=\"om-item\">\r\n                          {it.image ? (\r\n                            <img alt=\"\" src={it.image} className=\"om-thumb\" />\r\n                          ) : (\r\n                            <div className=\"om-thumb om-thumb-na\">N/A</div>\r\n                          )}\r\n                          <div>\r\n                            <div className=\"om-item-name\">{it.product_name || `#${it.product_id}`}</div>\r\n                            <div className=\"om-item-sub\">variant_id: {it.variant_id}</div>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"om-td\">{it.sku || '-'}</td>\r\n                      <td className=\"om-td om-ellipsis\">{it.options || '-'}</td>\r\n                      <td className=\"om-td\">{it.quantity}</td>\r\n                      <td className=\"om-td om-num\">{fmtCurrency(it.price_each)}</td>\r\n                      <td className=\"om-td om-num\">{fmtCurrency(it.line_total)}</td>\r\n                    </tr>\r\n                  ))}\r\n                  {!detail.items.length && (\r\n                    <tr>\r\n                      <td className=\"om-td\" colSpan={7} style={{ textAlign: 'center', color: '#777', padding: 24 }}>\r\n                        ไม่มีรายการสินค้า\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div className=\"om-modal-actions\">\r\n              <button className=\"om-btn om-btn-secondary\" onClick={closeDetail}>ปิด</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}