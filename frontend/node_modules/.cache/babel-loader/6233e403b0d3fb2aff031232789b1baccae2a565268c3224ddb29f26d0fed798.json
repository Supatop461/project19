{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\SignUp.js\",\n  _s = $RefreshSig$();\n// FRONTEND: src/pages/SignUp.js\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './SignUp.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignUp() {\n  _s();\n  const nav = useNavigate();\n\n  // ===== ฟอร์มหลัก =====\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n    confirm: '',\n    full_name: '',\n    phone: '',\n    houseNo: '',\n    province: '',\n    amphoe: '',\n    tambon: '',\n    gender: ''\n  });\n  const [showPw, setShowPw] = useState(false);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // ===== โหลดฐานข้อมูลที่อยู่ทั้งประเทศ (แบบเดียวกับที่อยู่ใน public/data) =====\n  // โครงสร้างไฟล์ thai-address.min.json ที่ใช้คือ:\n  // { \"<จังหวัด>\": { \"<อำเภอ>\": { \"<ตำบล>\": \"<รหัสไปรษณีย์>\" } } }\n  const [addrData, setAddrData] = useState(null);\n  const [addrLoadErr, setAddrLoadErr] = useState('');\n  useEffect(() => {\n    const url = `${process.env.PUBLIC_URL}/data/thai-address.min.json`;\n    fetch(url).then(r => r.json()).then(setAddrData).catch(e => {\n      console.error('load thai-address failed:', e);\n      setAddrLoadErr('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ');\n    });\n  }, []);\n\n  // ===== อนุพันธ์สำหรับ Select =====\n  const provinces = useMemo(() => addrData ? Object.keys(addrData) : [], [addrData]);\n  const amphoes = useMemo(() => {\n    if (!addrData || !form.province) return [];\n    return Object.keys(addrData[form.province] || {});\n  }, [addrData, form.province]);\n  const tambons = useMemo(() => {\n    var _addrData$form$provin;\n    if (!addrData || !form.province || !form.amphoe) return [];\n    return Object.keys(((_addrData$form$provin = addrData[form.province]) === null || _addrData$form$provin === void 0 ? void 0 : _addrData$form$provin[form.amphoe]) || {});\n  }, [addrData, form.province, form.amphoe]);\n\n  // ZIP จากฐานข้อมูล (อ่านอัตโนมัติเมื่อเลือกครบ)\n  const zipcode = useMemo(() => {\n    var _addrData$form$provin2, _addrData$form$provin3;\n    if (!addrData || !form.province || !form.amphoe || !form.tambon) return '';\n    return ((_addrData$form$provin2 = addrData[form.province]) === null || _addrData$form$provin2 === void 0 ? void 0 : (_addrData$form$provin3 = _addrData$form$provin2[form.amphoe]) === null || _addrData$form$provin3 === void 0 ? void 0 : _addrData$form$provin3[form.tambon]) || '';\n  }, [addrData, form.province, form.amphoe, form.tambon]);\n\n  // ===== utils =====\n  const isEmail = v => /\\S+@\\S+\\.\\S+/.test(String(v || '').trim());\n  const splitName = full => {\n    const parts = String(full || '').trim().split(/\\s+/);\n    if (parts.length <= 1) return {\n      first_name: parts[0] || '',\n      last_name: ''\n    };\n    return {\n      first_name: parts[0],\n      last_name: parts.slice(1).join(' ')\n    };\n  };\n  const makeUsername = email => {\n    const raw = String(email).split('@')[0] || '';\n    const cleaned = raw.toLowerCase().replace(/[^a-z0-9_.-]/g, '');\n    return cleaned || `cust${Date.now().toString().slice(-6)}`;\n  };\n\n  // ===== handlers =====\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    // cascade reset\n    if (name === 'province') {\n      setForm(p => ({\n        ...p,\n        province: value,\n        amphoe: '',\n        tambon: ''\n      }));\n      return;\n    }\n    if (name === 'amphoe') {\n      setForm(p => ({\n        ...p,\n        amphoe: value,\n        tambon: ''\n      }));\n      return;\n    }\n    setForm(p => ({\n      ...p,\n      [name]: value\n    }));\n  };\n  const pwMismatch = form.password && form.confirm && form.password !== form.confirm;\n  async function onSubmit(e) {\n    e.preventDefault();\n    setError('');\n\n    // validate เบื้องต้น\n    if (!isEmail(form.email)) return setError('กรุณากรอกอีเมลให้ถูกต้อง');\n    if (form.password.length < 8) return setError('รหัสผ่านอย่างน้อย 8 ตัวอักษร');\n    if (pwMismatch) return setError('ยืนยันรหัสผ่านไม่ตรงกัน');\n    const required = ['full_name', 'phone', 'houseNo', 'province', 'amphoe', 'tambon'];\n    if (required.some(k => !String(form[k]).trim())) return setError('กรุณากรอกข้อมูลให้ครบถ้วน');\n    const {\n      first_name,\n      last_name\n    } = splitName(form.full_name);\n    const address = `${form.houseNo} ต.${form.tambon} อ.${form.amphoe} จ.${form.province} ${zipcode || ''}`;\n    const payload = {\n      first_name,\n      last_name,\n      email: form.email.trim(),\n      username: makeUsername(form.email),\n      password: form.password,\n      confirm_password: form.confirm,\n      phone_number: form.phone.trim(),\n      address\n      // gender ยังไม่บันทึกที่ backend ในตอนนี้\n    };\n    try {\n      var _res$data, _res$data2, _res$data3;\n      setLoading(true);\n      // baseURL ตั้งใน src/index.js แล้ว → ใช้ path สั้นได้\n      const res = await axios.post('/auth/register', payload);\n\n      // สมัครสำเร็จ → ถ้ามี token ก็ล็อกอินให้เลย\n      let token = (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.token) || (res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.accessToken) || (res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.jwt);\n      if (!token) {\n        var _loginRes$data, _loginRes$data2, _loginRes$data3;\n        const loginRes = await axios.post('/auth/login', {\n          email: form.email,\n          password: form.password\n        });\n        token = (loginRes === null || loginRes === void 0 ? void 0 : (_loginRes$data = loginRes.data) === null || _loginRes$data === void 0 ? void 0 : _loginRes$data.token) || (loginRes === null || loginRes === void 0 ? void 0 : (_loginRes$data2 = loginRes.data) === null || _loginRes$data2 === void 0 ? void 0 : _loginRes$data2.accessToken) || (loginRes === null || loginRes === void 0 ? void 0 : (_loginRes$data3 = loginRes.data) === null || _loginRes$data3 === void 0 ? void 0 : _loginRes$data3.jwt);\n      }\n      if (token) {\n        var _res$data4, _res$data4$user;\n        localStorage.setItem('token', token);\n        localStorage.setItem('role', (res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : (_res$data4$user = _res$data4.user) === null || _res$data4$user === void 0 ? void 0 : _res$data4$user.role) || 'customer');\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      }\n      nav('/', {\n        replace: true\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'สมัครสมาชิกไม่สำเร็จ');\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup-hero\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notch\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.PUBLIC_URL}/logo.png`,\n          alt: \"PRACH MAEJO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"brand-head\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"brand-line\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"brand\",\n          children: \"PRACH MAEJO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"online\",\n          children: \"ONLINE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0E2A\\u0E23\\u0E49\\u0E32\\u0E07\\u0E1A\\u0E31\\u0E0D\\u0E0A\\u0E35 / \\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"signup-form\",\n      onSubmit: onSubmit,\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E17\\u0E35\\u0E48\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\\u0E44\\u0E14\\u0E49\\u0E08\\u0E23\\u0E34\\u0E07\",\n          value: form.email,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pw-wrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: showPw ? 'text' : 'password',\n            name: \"password\",\n            placeholder: \"\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E19\\u0E49\\u0E2D\\u0E22 8 \\u0E15\\u0E31\\u0E27\\u0E2D\\u0E31\\u0E01\\u0E29\\u0E23\",\n            value: form.password,\n            onChange: onChange,\n            className: pwMismatch ? 'is-invalid' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"pw-toggle\",\n            onClick: () => setShowPw(s => !s),\n            children: showPw ? '🙈' : '👁️'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"full_name\",\n          placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E0A\\u0E37\\u0E48\\u0E2D - \\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\",\n          value: form.full_name,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: showPw ? 'text' : 'password',\n          name: \"confirm\",\n          placeholder: \"\\u0E1E\\u0E34\\u0E21\\u0E1E\\u0E4C\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E40\\u0E14\\u0E34\\u0E21\\u0E2D\\u0E35\\u0E01\\u0E04\\u0E23\\u0E31\\u0E49\\u0E07\",\n          value: form.confirm,\n          onChange: onChange,\n          className: pwMismatch ? 'is-invalid' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), pwMismatch && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint-error\",\n          children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E44\\u0E21\\u0E48\\u0E15\\u0E23\\u0E07\\u0E01\\u0E31\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field col\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          name: \"phone\",\n          placeholder: \"\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E32\\u0E21\\u0E32\\u0E23\\u0E16\\u0E15\\u0E34\\u0E14\\u0E15\\u0E48\\u0E2D\\u0E44\\u0E14\\u0E49\",\n          value: form.phone,\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col span-2-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), !!addrLoadErr && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hint-error\",\n          style: {\n            marginBottom: 8\n          },\n          children: addrLoadErr\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addr-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"houseNo\",\n            placeholder: \"\\u0E1A\\u0E49\\u0E32\\u0E19\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48 / \\u0E2B\\u0E21\\u0E39\\u0E48 / \\u0E2D\\u0E32\\u0E04\\u0E32\\u0E23 (\\u0E16\\u0E49\\u0E32\\u0E21\\u0E35)\",\n            value: form.houseNo,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"province\",\n            value: form.province,\n            onChange: onChange,\n            disabled: !addrData,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: addrData ? '— เลือกจังหวัด —' : 'กำลังโหลดจังหวัด...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), provinces.map(pv => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: pv,\n              children: pv\n            }, pv, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 36\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"amphoe\",\n            value: form.amphoe,\n            onChange: onChange,\n            disabled: !form.province,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: form.province ? '— เลือกอำเภอ —' : 'เลือกจังหวัดก่อน'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), amphoes.map(am => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: am,\n              children: am\n            }, am, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 34\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"tambon\",\n            value: form.tambon,\n            onChange: onChange,\n            disabled: !form.amphoe,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: form.amphoe ? '— เลือกตำบล —' : 'เลือกอำเภอก่อน'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), tambons.map(tb => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: tb,\n              children: tb\n            }, tb, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 34\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E44\\u0E1B\\u0E23\\u0E29\\u0E13\\u0E35\\u0E22\\u0E4C\",\n            value: zipcode,\n            readOnly: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-group col\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"label\",\n            children: \"\\u0E40\\u0E1E\\u0E28\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"radios\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"gender\",\n                value: \"\\u0E0A\\u0E32\\u0E22\",\n                checked: form.gender === 'ชาย',\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 22\n              }, this), \" \\u0E0A\\u0E32\\u0E22\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"gender\",\n                value: \"\\u0E2B\\u0E0D\\u0E34\\u0E07\",\n                checked: form.gender === 'หญิง',\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 22\n              }, this), \" \\u0E2B\\u0E0D\\u0E34\\u0E07\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"gender\",\n                value: \"\\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46\",\n                checked: form.gender === 'อื่นๆ',\n                onChange: onChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 22\n              }, this), \" \\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-error\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions span-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'กำลังสมัครสมาชิก…' : 'สมัครสมาชิก'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n}\n_s(SignUp, \"SCAtVLWkzaEgfvFTJdkKN442qFM=\", false, function () {\n  return [useNavigate];\n});\n_c = SignUp;\nvar _c;\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","axios","jsxDEV","_jsxDEV","SignUp","_s","nav","form","setForm","email","password","confirm","full_name","phone","houseNo","province","amphoe","tambon","gender","showPw","setShowPw","error","setError","loading","setLoading","addrData","setAddrData","addrLoadErr","setAddrLoadErr","url","process","env","PUBLIC_URL","fetch","then","r","json","catch","e","console","provinces","Object","keys","amphoes","tambons","_addrData$form$provin","zipcode","_addrData$form$provin2","_addrData$form$provin3","isEmail","v","test","String","trim","splitName","full","parts","split","length","first_name","last_name","slice","join","makeUsername","raw","cleaned","toLowerCase","replace","Date","now","toString","onChange","name","value","target","p","pwMismatch","onSubmit","preventDefault","required","some","k","address","payload","username","confirm_password","phone_number","_res$data","_res$data2","_res$data3","res","post","token","data","accessToken","jwt","_loginRes$data","_loginRes$data2","_loginRes$data3","loginRes","_res$data4","_res$data4$user","localStorage","setItem","user","role","defaults","headers","common","err","_err$response","_err$response$data","response","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","noValidate","type","placeholder","onClick","s","style","marginBottom","disabled","map","pv","am","tb","readOnly","checked","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/SignUp.js"],"sourcesContent":["// FRONTEND: src/pages/SignUp.js\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './SignUp.css';\r\n\r\nexport default function SignUp() {\r\n  const nav = useNavigate();\r\n\r\n  // ===== ฟอร์มหลัก =====\r\n  const [form, setForm] = useState({\r\n    email: '',\r\n    password: '',\r\n    confirm: '',\r\n    full_name: '',\r\n    phone: '',\r\n    houseNo: '',\r\n    province: '',\r\n    amphoe: '',\r\n    tambon: '',\r\n    gender: '',\r\n  });\r\n\r\n  const [showPw, setShowPw] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // ===== โหลดฐานข้อมูลที่อยู่ทั้งประเทศ (แบบเดียวกับที่อยู่ใน public/data) =====\r\n  // โครงสร้างไฟล์ thai-address.min.json ที่ใช้คือ:\r\n  // { \"<จังหวัด>\": { \"<อำเภอ>\": { \"<ตำบล>\": \"<รหัสไปรษณีย์>\" } } }\r\n  const [addrData, setAddrData] = useState(null);\r\n  const [addrLoadErr, setAddrLoadErr] = useState('');\r\n\r\n  useEffect(() => {\r\n    const url = `${process.env.PUBLIC_URL}/data/thai-address.min.json`;\r\n    fetch(url)\r\n      .then(r => r.json())\r\n      .then(setAddrData)\r\n      .catch(e => {\r\n        console.error('load thai-address failed:', e);\r\n        setAddrLoadErr('โหลดฐานข้อมูลที่อยู่ไม่สำเร็จ');\r\n      });\r\n  }, []);\r\n\r\n  // ===== อนุพันธ์สำหรับ Select =====\r\n  const provinces = useMemo(\r\n    () => (addrData ? Object.keys(addrData) : []),\r\n    [addrData]\r\n  );\r\n  const amphoes = useMemo(() => {\r\n    if (!addrData || !form.province) return [];\r\n    return Object.keys(addrData[form.province] || {});\r\n  }, [addrData, form.province]);\r\n\r\n  const tambons = useMemo(() => {\r\n    if (!addrData || !form.province || !form.amphoe) return [];\r\n    return Object.keys(addrData[form.province]?.[form.amphoe] || {});\r\n  }, [addrData, form.province, form.amphoe]);\r\n\r\n  // ZIP จากฐานข้อมูล (อ่านอัตโนมัติเมื่อเลือกครบ)\r\n  const zipcode = useMemo(() => {\r\n    if (!addrData || !form.province || !form.amphoe || !form.tambon) return '';\r\n    return addrData[form.province]?.[form.amphoe]?.[form.tambon] || '';\r\n  }, [addrData, form.province, form.amphoe, form.tambon]);\r\n\r\n  // ===== utils =====\r\n  const isEmail = v => /\\S+@\\S+\\.\\S+/.test(String(v || '').trim());\r\n  const splitName = (full) => {\r\n    const parts = String(full || '').trim().split(/\\s+/);\r\n    if (parts.length <= 1) return { first_name: parts[0] || '', last_name: '' };\r\n    return { first_name: parts[0], last_name: parts.slice(1).join(' ') };\r\n  };\r\n  const makeUsername = (email) => {\r\n    const raw = String(email).split('@')[0] || '';\r\n    const cleaned = raw.toLowerCase().replace(/[^a-z0-9_.-]/g, '');\r\n    return cleaned || `cust${Date.now().toString().slice(-6)}`;\r\n  };\r\n\r\n  // ===== handlers =====\r\n  const onChange = (e) => {\r\n    const { name, value } = e.target;\r\n    // cascade reset\r\n    if (name === 'province') {\r\n      setForm(p => ({ ...p, province: value, amphoe: '', tambon: '' }));\r\n      return;\r\n    }\r\n    if (name === 'amphoe') {\r\n      setForm(p => ({ ...p, amphoe: value, tambon: '' }));\r\n      return;\r\n    }\r\n    setForm(p => ({ ...p, [name]: value }));\r\n  };\r\n\r\n  const pwMismatch = form.password && form.confirm && form.password !== form.confirm;\r\n\r\n  async function onSubmit(e) {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    // validate เบื้องต้น\r\n    if (!isEmail(form.email))      return setError('กรุณากรอกอีเมลให้ถูกต้อง');\r\n    if (form.password.length < 8)  return setError('รหัสผ่านอย่างน้อย 8 ตัวอักษร');\r\n    if (pwMismatch)                return setError('ยืนยันรหัสผ่านไม่ตรงกัน');\r\n    const required = ['full_name', 'phone', 'houseNo', 'province', 'amphoe', 'tambon'];\r\n    if (required.some(k => !String(form[k]).trim())) return setError('กรุณากรอกข้อมูลให้ครบถ้วน');\r\n\r\n    const { first_name, last_name } = splitName(form.full_name);\r\n    const address = `${form.houseNo} ต.${form.tambon} อ.${form.amphoe} จ.${form.province} ${zipcode || ''}`;\r\n\r\n    const payload = {\r\n      first_name,\r\n      last_name,\r\n      email: form.email.trim(),\r\n      username: makeUsername(form.email),\r\n      password: form.password,\r\n      confirm_password: form.confirm,\r\n      phone_number: form.phone.trim(),\r\n      address,\r\n      // gender ยังไม่บันทึกที่ backend ในตอนนี้\r\n    };\r\n\r\n    try {\r\n      setLoading(true);\r\n      // baseURL ตั้งใน src/index.js แล้ว → ใช้ path สั้นได้\r\n      const res = await axios.post('/auth/register', payload);\r\n\r\n      // สมัครสำเร็จ → ถ้ามี token ก็ล็อกอินให้เลย\r\n      let token = res?.data?.token || res?.data?.accessToken || res?.data?.jwt;\r\n      if (!token) {\r\n        const loginRes = await axios.post('/auth/login', {\r\n          email: form.email,\r\n          password: form.password,\r\n        });\r\n        token = loginRes?.data?.token || loginRes?.data?.accessToken || loginRes?.data?.jwt;\r\n      }\r\n      if (token) {\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('role', res?.data?.user?.role || 'customer');\r\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n      }\r\n      nav('/', { replace: true });\r\n    } catch (err) {\r\n      setError(err?.response?.data?.error || 'สมัครสมาชิกไม่สำเร็จ');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"signup-page\">\r\n      {/* hero + logo notch */}\r\n      <div className=\"signup-hero\">\r\n        <div className=\"notch\">\r\n          <img src={`${process.env.PUBLIC_URL}/logo.png`} alt=\"PRACH MAEJO\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* brand */}\r\n      <div className=\"brand-head\">\r\n        <div className=\"brand-line\">\r\n          <span className=\"brand\">PRACH MAEJO</span>\r\n          <span className=\"online\">ONLINE</span>\r\n        </div>\r\n        <h2>สร้างบัญชี / สมัครสมาชิก</h2>\r\n      </div>\r\n\r\n      {/* form */}\r\n      <form className=\"signup-form\" onSubmit={onSubmit} noValidate>\r\n        {/* อีเมล */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">อีเมล</span>\r\n          <input\r\n            type=\"email\" name=\"email\" placeholder=\"กรอกอีเมลที่ใช้งานได้จริง\"\r\n            value={form.email} onChange={onChange}\r\n          />\r\n        </label>\r\n\r\n        {/* รหัสผ่าน */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">รหัสผ่าน</span>\r\n          <div className=\"pw-wrap\">\r\n            <input\r\n              type={showPw ? 'text' : 'password'}\r\n              name=\"password\"\r\n              placeholder=\"อย่างน้อย 8 ตัวอักษร\"\r\n              value={form.password}\r\n              onChange={onChange}\r\n              className={pwMismatch ? 'is-invalid' : ''}\r\n            />\r\n            <button type=\"button\" className=\"pw-toggle\" onClick={() => setShowPw(s => !s)}>\r\n              {showPw ? '🙈' : '👁️'}\r\n            </button>\r\n          </div>\r\n        </label>\r\n\r\n        {/* ชื่อ-นามสกุล */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">ชื่อ - นามสกุล</span>\r\n          <input\r\n            type=\"text\" name=\"full_name\" placeholder=\"กรอกชื่อ - นามสกุล\"\r\n            value={form.full_name} onChange={onChange}\r\n          />\r\n        </label>\r\n\r\n        {/* ยืนยันรหัสผ่าน */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">ยืนยันรหัสผ่าน</span>\r\n          <input\r\n            type={showPw ? 'text' : 'password'}\r\n            name=\"confirm\"\r\n            placeholder=\"พิมพ์รหัสผ่านเดิมอีกครั้ง\"\r\n            value={form.confirm}\r\n            onChange={onChange}\r\n            className={pwMismatch ? 'is-invalid' : ''}\r\n          />\r\n          {pwMismatch && <div className=\"hint-error\">รหัสผ่านไม่ตรงกัน</div>}\r\n        </label>\r\n\r\n        {/* เบอร์โทร */}\r\n        <label className=\"field col\">\r\n          <span className=\"label\">เบอร์ติดต่อ</span>\r\n          <input\r\n            type=\"tel\" name=\"phone\" placeholder=\"กรอกเบอร์โทรที่สามารถติดต่อได้\"\r\n            value={form.phone} onChange={onChange}\r\n          />\r\n        </label>\r\n\r\n        {/* ที่อยู่ (ซ้าย) */}\r\n        <div className=\"col span-2-left\">\r\n          <span className=\"label\">ที่อยู่</span>\r\n\r\n          {!!addrLoadErr && (\r\n            <div className=\"hint-error\" style={{ marginBottom: 8 }}>{addrLoadErr}</div>\r\n          )}\r\n\r\n          <div className=\"addr-grid\">\r\n            {/* บ้านเลขที่/หมู่/อาคาร */}\r\n            <input\r\n              type=\"text\" name=\"houseNo\"\r\n              placeholder=\"บ้านเลขที่ / หมู่ / อาคาร (ถ้ามี)\"\r\n              value={form.houseNo} onChange={onChange}\r\n            />\r\n            {/* จังหวัด */}\r\n            <select\r\n              name=\"province\"\r\n              value={form.province}\r\n              onChange={onChange}\r\n              disabled={!addrData}\r\n            >\r\n              <option value=\"\">{addrData ? '— เลือกจังหวัด —' : 'กำลังโหลดจังหวัด...'}</option>\r\n              {provinces.map(pv => <option key={pv} value={pv}>{pv}</option>)}\r\n            </select>\r\n\r\n            {/* อำเภอ */}\r\n            <select\r\n              name=\"amphoe\"\r\n              value={form.amphoe}\r\n              onChange={onChange}\r\n              disabled={!form.province}\r\n            >\r\n              <option value=\"\">{form.province ? '— เลือกอำเภอ —' : 'เลือกจังหวัดก่อน'}</option>\r\n              {amphoes.map(am => <option key={am} value={am}>{am}</option>)}\r\n            </select>\r\n\r\n            {/* ตำบล */}\r\n            <select\r\n              name=\"tambon\"\r\n              value={form.tambon}\r\n              onChange={onChange}\r\n              disabled={!form.amphoe}\r\n            >\r\n              <option value=\"\">{form.amphoe ? '— เลือกตำบล —' : 'เลือกอำเภอก่อน'}</option>\r\n              {tambons.map(tb => <option key={tb} value={tb}>{tb}</option>)}\r\n            </select>\r\n\r\n            {/* ZIP (อ่านอย่างเดียว) */}\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"รหัสไปรษณีย์\"\r\n              value={zipcode}\r\n              readOnly\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* เพศ (ขวา) */}\r\n        <div className=\"right-group col\">\r\n          <div className=\"field\">\r\n            <span className=\"label\">เพศ</span>\r\n            <div className=\"radios\">\r\n              <label><input type=\"radio\" name=\"gender\" value=\"ชาย\"  checked={form.gender==='ชาย'}  onChange={onChange}/> ชาย</label>\r\n              <label><input type=\"radio\" name=\"gender\" value=\"หญิง\" checked={form.gender==='หญิง'} onChange={onChange}/> หญิง</label>\r\n              <label><input type=\"radio\" name=\"gender\" value=\"อื่นๆ\" checked={form.gender==='อื่นๆ'} onChange={onChange}/> อื่นๆ</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* error รวม */}\r\n        {error && <div className=\"form-error\" role=\"alert\">{error}</div>}\r\n\r\n        {/* ปุ่มส่ง */}\r\n        <div className=\"actions span-2\">\r\n          <button className=\"btn-primary\" type=\"submit\" disabled={loading}>\r\n            {loading ? 'กำลังสมัครสมาชิก…' : 'สมัครสมาชิก'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}