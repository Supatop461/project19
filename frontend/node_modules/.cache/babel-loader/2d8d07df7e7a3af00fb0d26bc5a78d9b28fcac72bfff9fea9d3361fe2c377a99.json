{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\pages\\\\HomeUser.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useMemo } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './HomeUser.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomeUser() {\n  _s();\n  const nav = useNavigate();\n\n  // ========= ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (‡∏•‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏≤‡∏Å localStorage ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) =========\n  const user = useMemo(() => {\n    const fullname = localStorage.getItem('fullname') || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';\n    return {\n      fullname,\n      avatar: process.env.PUBLIC_URL + '/profile.jpg'\n    };\n  }, []);\n\n  // ========= ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì path ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î /api/api =========\n  const apiPath = p => (axios.defaults.baseURL || '').replace(/\\/+$/, '').endsWith('/api') ? p : '/api' + p;\n\n  // ========= ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà & ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ =========\n  const [categories, setCategories] = useState([]); // {id, name, slug, image}\n  const [bestSellers, setBestSellers] = useState([]); // {id, name, price, img}\n  const [loading, setLoading] = useState({\n    cat: true,\n    best: true\n  });\n  const [errMsg, setErrMsg] = useState('');\n\n  // ------ Fallback ‡πÄ‡∏°‡∏∑‡πà‡∏≠ API ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏° ------\n  const fallbackCategories = [{\n    id: 'tools',\n    slug: 'tools',\n    name: '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏•‡∏π‡∏Å',\n    image: process.env.PUBLIC_URL + '/opakorn.jpg'\n  }, {\n    id: 'plants',\n    slug: 'plants',\n    name: '‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ',\n    image: process.env.PUBLIC_URL + '/tonmai.jpg'\n  }];\n  const fallbackBest = [{\n    id: 1,\n    name: '‡∏ï‡πâ‡∏ô‡∏Å‡∏•‡πâ‡∏≤‡∏•‡∏≥‡πÉ‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•',\n    price: 250,\n    img: process.env.PUBLIC_URL + '/lamyai.jpg'\n  }, {\n    id: 2,\n    name: '‡∏ï‡πâ‡∏ô‡∏û‡∏ç‡∏≤‡∏ô‡∏≤‡∏Ñ‡∏£‡∏≤‡∏ä',\n    price: 150,\n    img: process.env.PUBLIC_URL + '/payanaka1.jpg'\n  }, {\n    id: 3,\n    name: '‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•',\n    price: 300,\n    img: process.env.PUBLIC_URL + '/katar.jpeg'\n  }, {\n    id: 4,\n    name: '‡∏î‡∏¥‡∏ô‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô',\n    price: 99,\n    img: process.env.PUBLIC_URL + '/din.jpg'\n  }];\n\n  // ------ ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ------\n  useEffect(() => {\n    (async () => {\n      try {\n        var _res$data;\n        setLoading(s => ({\n          ...s,\n          cat: true\n        }));\n        const res = await axios.get(apiPath('/categories?status=active'));\n        // ‡∏õ‡∏£‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏°‡∏™‡∏Ñ‡∏µ‡∏°‡πÅ‡∏ö‡πá‡∏Å‡πÄ‡∏≠‡∏ô‡∏î‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢\n        const list = (Array.isArray((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data) ? res.data.data : res.data) || [];\n        const norm = list.map(c => ({\n          id: c.id || c._id || c.slug || c.code,\n          slug: c.slug || c.code || String(c.id || c._id || '').toLowerCase(),\n          name: c.name_th || c.name || c.title || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠',\n          image: c.image || c.cover || c.thumbnail || (String(c.slug || '').includes('tool') ? process.env.PUBLIC_URL + '/opakorn.jpg' : process.env.PUBLIC_URL + '/tonmai.jpg')\n        }));\n\n        // ‡∏≠‡∏¢‡∏≤‡∏Å‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 2 ‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)\n        const order = ['tools', 'plants'];\n        const bySlug = s => norm.find(x => x.slug === s);\n        const picked = order.map(bySlug).filter(Boolean).length ? order.map(bySlug).filter(Boolean) : norm.slice(0, 2);\n        setCategories(picked.length ? picked : fallbackCategories);\n      } catch (err) {\n        var _err$response;\n        console.warn('load categories failed:', err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status, err === null || err === void 0 ? void 0 : err.message);\n        setCategories(fallbackCategories);\n      } finally {\n        setLoading(s => ({\n          ...s,\n          cat: false\n        }));\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // ------ ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á) ------\n  useEffect(() => {\n    (async () => {\n      const normalizeProduct = p => ({\n        id: p.id || p._id,\n        name: p.name_th || p.name || p.title || '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',\n        price: Number(p.price || p.sale_price || p.amount || 0),\n        img: p.image || p.cover || p.thumbnail || (Array.isArray(p.images) ? p.images[0] : '') || process.env.PUBLIC_URL + '/logo.png'\n      });\n      async function tryFetch(url) {\n        try {\n          var _r$data;\n          const r = await axios.get(url);\n          const arr = (Array.isArray((_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.data) ? r.data.data : r.data) || [];\n          const mapped = arr.map(normalizeProduct).filter(x => x.id && x.name);\n          if (mapped.length) return mapped;\n        } catch (_) {}\n        return null;\n      }\n      try {\n        var _products;\n        setLoading(s => ({\n          ...s,\n          best: true\n        }));\n        const urls = [apiPath('/products/best-sellers?limit=8'), apiPath('/products?sort=popular&limit=8'), apiPath('/products?featured=1&limit=8')];\n        let products = null;\n        for (const u of urls) {\n          products = await tryFetch(u);\n          if (products) break;\n        }\n        setBestSellers(((_products = products) === null || _products === void 0 ? void 0 : _products.slice(0, 8)) || fallbackBest);\n      } catch (err) {\n        var _err$response2;\n        console.warn('load best-sellers failed:', err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status, err === null || err === void 0 ? void 0 : err.message);\n        setBestSellers(fallbackBest);\n        setErrMsg('‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß');\n      } finally {\n        setLoading(s => ({\n          ...s,\n          best: false\n        }));\n      }\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // ========= ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (localStorage) =========\n  const addToCart = product => {\n    let cart = JSON.parse(localStorage.getItem('cart') || '[]');\n    const idx = cart.findIndex(x => x.id === product.id);\n    if (idx > -1) cart[idx].quantity += 1;else cart.push({\n      ...product,\n      quantity: 1\n    });\n    localStorage.setItem('cart', JSON.stringify(cart));\n    alert(`‡πÄ‡∏û‡∏¥‡πà‡∏° ${product.name} ‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"PRACH MAEJO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-icons\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/profile\",\n          className: \"avatar-link\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.avatar,\n            alt: \"Avatar\",\n            className: \"avatar-img\",\n            onError: e => {\n              e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hello\",\n          children: user.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/cart\",\n          title: \"\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"icon-cart\",\n            children: \"\\uD83D\\uDED2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"icon-logout\",\n          title: \"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n          onClick: () => {\n            localStorage.clear();\n            nav('/login', {\n              replace: true\n            });\n          },\n          children: \"\\uD83D\\uDEAA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"middle-bar\",\n      children: \"GARDEN PRODUCT ONLINE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"search-btn\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero\",\n      style: {\n        backgroundImage: `url(${process.env.PUBLIC_URL + '/p2.png'})`,\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: 'center',\n        backgroundSize: 'cover'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"\\u201C\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"highlight\",\n            children: \"\\u0E23\\u0E49\\u0E32\\u0E19\\u0E1B\\u0E23\\u0E32\\u0E0A\\u0E0D\\u0E4C\\u0E41\\u0E21\\u0E48\\u0E42\\u0E08\\u0E49\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 16\n          }, this), \"\\u201D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u0E41\\u0E2B\\u0E25\\u0E48\\u0E07\\u0E1C\\u0E25\\u0E34\\u0E15\\u0E41\\u0E25\\u0E30\\u0E08\\u0E31\\u0E14\\u0E08\\u0E33\\u0E2B\\u0E19\\u0E48\\u0E32\\u0E22 \\u0E15\\u0E49\\u0E19\\u0E44\\u0E21\\u0E49 \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 43\n          }, this), \"\\u0E41\\u0E25\\u0E30\\u0E27\\u0E31\\u0E2A\\u0E14\\u0E38\\u0E1B\\u0E25\\u0E39\\u0E01 \\u0E21\\u0E32\\u0E01\\u0E01\\u0E27\\u0E48\\u0E32 100 \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"categories\",\n      children: categories.map(cat => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/products?category=${encodeURIComponent(cat.slug || cat.id)}`,\n        className: \"category-card\",\n        title: cat.name,\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: cat.image,\n          alt: cat.name,\n          onError: e => {\n            e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: cat.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this)]\n      }, cat.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"best-sellers\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83C\\uDF1F \\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E02\\u0E32\\u0E22\\u0E14\\u0E35\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), errMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-inline\",\n        children: errMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        children: (loading.best ? fallbackBest : bestSellers).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.img,\n            alt: item.name,\n            onError: e => {\n              e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [Number(item.price).toLocaleString(), \" \\u0E1A\\u0E32\\u0E17\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-add\",\n            onClick: () => addToCart(item),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_s(HomeUser, \"8MB7zKKAMlAdtnrJAoFIy9mpe7A=\", false, function () {\n  return [useNavigate];\n});\n_c = HomeUser;\nvar _c;\n$RefreshReg$(_c, \"HomeUser\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","Link","useNavigate","axios","jsxDEV","_jsxDEV","HomeUser","_s","nav","user","fullname","localStorage","getItem","avatar","process","env","PUBLIC_URL","apiPath","p","defaults","baseURL","replace","endsWith","categories","setCategories","bestSellers","setBestSellers","loading","setLoading","cat","best","errMsg","setErrMsg","fallbackCategories","id","slug","name","image","fallbackBest","price","img","_res$data","s","res","get","list","Array","isArray","data","norm","map","c","_id","code","String","toLowerCase","name_th","title","cover","thumbnail","includes","order","bySlug","find","x","picked","filter","Boolean","length","slice","err","_err$response","console","warn","response","status","message","normalizeProduct","Number","sale_price","amount","images","tryFetch","url","_r$data","r","arr","mapped","_","_products","urls","products","u","_err$response2","addToCart","product","cart","JSON","parse","idx","findIndex","quantity","push","setItem","stringify","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","src","alt","onError","e","currentTarget","onClick","clear","type","placeholder","style","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","encodeURIComponent","item","toLocaleString","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/pages/HomeUser.js"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './HomeUser.css';\r\n\r\nexport default function HomeUser() {\r\n  const nav = useNavigate();\r\n\r\n  // ========= ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (‡∏•‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏≤‡∏Å localStorage ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) =========\r\n  const user = useMemo(() => {\r\n    const fullname = localStorage.getItem('fullname') || '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô';\r\n    return {\r\n      fullname,\r\n      avatar: process.env.PUBLIC_URL + '/profile.jpg',\r\n    };\r\n  }, []);\r\n\r\n  // ========= ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì path ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏î /api/api =========\r\n  const apiPath = (p) =>\r\n    (axios.defaults.baseURL || '').replace(/\\/+$/, '').endsWith('/api')\r\n      ? p\r\n      : '/api' + p;\r\n\r\n  // ========= ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà & ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ =========\r\n  const [categories, setCategories] = useState([]); // {id, name, slug, image}\r\n  const [bestSellers, setBestSellers] = useState([]); // {id, name, price, img}\r\n  const [loading, setLoading] = useState({ cat: true, best: true });\r\n  const [errMsg, setErrMsg] = useState('');\r\n\r\n  // ------ Fallback ‡πÄ‡∏°‡∏∑‡πà‡∏≠ API ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏° ------\r\n  const fallbackCategories = [\r\n    { id: 'tools',  slug: 'tools',  name: '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏•‡∏π‡∏Å', image: process.env.PUBLIC_URL + '/opakorn.jpg' },\r\n    { id: 'plants', slug: 'plants', name: '‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ',       image: process.env.PUBLIC_URL + '/tonmai.jpg' },\r\n  ];\r\n  const fallbackBest = [\r\n    { id: 1, name: '‡∏ï‡πâ‡∏ô‡∏Å‡∏•‡πâ‡∏≤‡∏•‡∏≥‡πÉ‡∏¢‡∏Ñ‡∏£‡∏¥‡∏™‡∏ï‡∏±‡∏•', price: 250, img: process.env.PUBLIC_URL + '/lamyai.jpg' },\r\n    { id: 2, name: '‡∏ï‡πâ‡∏ô‡∏û‡∏ç‡∏≤‡∏ô‡∏≤‡∏Ñ‡∏£‡∏≤‡∏ä',       price: 150, img: process.env.PUBLIC_URL + '/payanaka1.jpg' },\r\n    { id: 3, name: '‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á‡∏°‡∏¥‡∏ô‡∏¥‡∏°‡∏≠‡∏•',      price: 300, img: process.env.PUBLIC_URL + '/katar.jpeg' },\r\n    { id: 4, name: '‡∏î‡∏¥‡∏ô‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô',      price:  99, img: process.env.PUBLIC_URL + '/din.jpg' },\r\n  ];\r\n\r\n  // ------ ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ------\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        setLoading((s) => ({ ...s, cat: true }));\r\n        const res = await axios.get(apiPath('/categories?status=active'));\r\n        // ‡∏õ‡∏£‡∏±‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏°‡∏™‡∏Ñ‡∏µ‡∏°‡πÅ‡∏ö‡πá‡∏Å‡πÄ‡∏≠‡∏ô‡∏î‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢\r\n        const list = (Array.isArray(res.data?.data) ? res.data.data : res.data) || [];\r\n        const norm = list.map((c) => ({\r\n          id: c.id || c._id || c.slug || c.code,\r\n          slug: c.slug || c.code || String(c.id || c._id || '').toLowerCase(),\r\n          name: c.name_th || c.name || c.title || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠',\r\n          image: c.image || c.cover || c.thumbnail || (\r\n            (String(c.slug || '').includes('tool') ? process.env.PUBLIC_URL + '/opakorn.jpg'\r\n              : process.env.PUBLIC_URL + '/tonmai.jpg')\r\n          ),\r\n        }));\r\n\r\n        // ‡∏≠‡∏¢‡∏≤‡∏Å‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 2 ‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)\r\n        const order = ['tools', 'plants'];\r\n        const bySlug = (s) => norm.find((x) => x.slug === s);\r\n        const picked =\r\n          order.map(bySlug).filter(Boolean).length\r\n            ? order.map(bySlug).filter(Boolean)\r\n            : norm.slice(0, 2);\r\n\r\n        setCategories(picked.length ? picked : fallbackCategories);\r\n      } catch (err) {\r\n        console.warn('load categories failed:', err?.response?.status, err?.message);\r\n        setCategories(fallbackCategories);\r\n      } finally {\r\n        setLoading((s) => ({ ...s, cat: false }));\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // ------ ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á) ------\r\n  useEffect(() => {\r\n    (async () => {\r\n      const normalizeProduct = (p) => ({\r\n        id: p.id || p._id,\r\n        name: p.name_th || p.name || p.title || '‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',\r\n        price: Number(p.price || p.sale_price || p.amount || 0),\r\n        img: p.image || p.cover || p.thumbnail || (Array.isArray(p.images) ? p.images[0] : '') || process.env.PUBLIC_URL + '/logo.png',\r\n      });\r\n\r\n      async function tryFetch(url) {\r\n        try {\r\n          const r = await axios.get(url);\r\n          const arr = (Array.isArray(r.data?.data) ? r.data.data : r.data) || [];\r\n          const mapped = arr.map(normalizeProduct).filter((x) => x.id && x.name);\r\n          if (mapped.length) return mapped;\r\n        } catch (_) {}\r\n        return null;\r\n      }\r\n\r\n      try {\r\n        setLoading((s) => ({ ...s, best: true }));\r\n        const urls = [\r\n          apiPath('/products/best-sellers?limit=8'),\r\n          apiPath('/products?sort=popular&limit=8'),\r\n          apiPath('/products?featured=1&limit=8'),\r\n        ];\r\n        let products = null;\r\n        for (const u of urls) {\r\n          products = await tryFetch(u);\r\n          if (products) break;\r\n        }\r\n        setBestSellers(products?.slice(0, 8) || fallbackBest);\r\n      } catch (err) {\r\n        console.warn('load best-sellers failed:', err?.response?.status, err?.message);\r\n        setBestSellers(fallbackBest);\r\n        setErrMsg('‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß');\r\n      } finally {\r\n        setLoading((s) => ({ ...s, best: false }));\r\n      }\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // ========= ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (localStorage) =========\r\n  const addToCart = (product) => {\r\n    let cart = JSON.parse(localStorage.getItem('cart') || '[]');\r\n    const idx = cart.findIndex((x) => x.id === product.id);\r\n    if (idx > -1) cart[idx].quantity += 1;\r\n    else cart.push({ ...product, quantity: 1 });\r\n    localStorage.setItem('cart', JSON.stringify(cart));\r\n    alert(`‡πÄ‡∏û‡∏¥‡πà‡∏° ${product.name} ‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      {/* Header */}\r\n      <header className=\"header\">\r\n        <div className=\"logo\">\r\n          <span>PRACH MAEJO</span>\r\n        </div>\r\n\r\n        <div className=\"user-icons\">\r\n          <Link to=\"/profile\" className=\"avatar-link\">\r\n            <img\r\n              src={user.avatar}\r\n              alt=\"Avatar\"\r\n              className=\"avatar-img\"\r\n              onError={(e) => { e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png'; }}\r\n            />\r\n          </Link>\r\n          <span className=\"hello\">{user.fullname}</span>\r\n\r\n          <Link to=\"/cart\" title=\"‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\">\r\n            <span className=\"icon-cart\">üõí</span>\r\n          </Link>\r\n\r\n          <button\r\n            className=\"icon-logout\"\r\n            title=\"‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö\"\r\n            onClick={() => { localStorage.clear(); nav('/login', { replace:true }); }}>\r\n            üö™\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Middle bar */}\r\n      <div className=\"middle-bar\">GARDEN PRODUCT ONLINE</div>\r\n\r\n      {/* Search */}\r\n      <div className=\"search-box\">\r\n        <input type=\"text\" placeholder=\"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\" />\r\n        <button className=\"search-btn\">üîç</button>\r\n      </div>\r\n\r\n      {/* Hero */}\r\n      <section\r\n        className=\"hero\"\r\n        style={{\r\n          backgroundImage: `url(${process.env.PUBLIC_URL + '/p2.png'})`,\r\n          backgroundRepeat: 'no-repeat',\r\n          backgroundPosition: 'center',\r\n          backgroundSize: 'cover',\r\n        }}\r\n      >\r\n        <div className=\"hero-text\">\r\n          <h1>‚Äú<span className=\"highlight\">‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏£‡∏≤‡∏ä‡∏ç‡πå‡πÅ‡∏°‡πà‡πÇ‡∏à‡πâ</span>‚Äù</h1>\r\n          <p>\r\n            ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢ ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ <br />\r\n            ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏õ‡∏•‡∏π‡∏Å ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 100 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n          </p>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Categories (‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•; ‡∏ñ‡πâ‡∏≤ API ‡∏•‡πà‡∏° ‚Üí fallback) */}\r\n      <section className=\"categories\">\r\n        {categories.map((cat) => (\r\n          <Link\r\n            key={cat.id}\r\n            to={`/products?category=${encodeURIComponent(cat.slug || cat.id)}`}\r\n            className=\"category-card\"\r\n            title={cat.name}\r\n          >\r\n            <img\r\n              src={cat.image}\r\n              alt={cat.name}\r\n              onError={(e) => { e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png'; }}\r\n            />\r\n            <p>{cat.name}</p>\r\n          </Link>\r\n        ))}\r\n      </section>\r\n\r\n      {/* Best Sellers */}\r\n      <section className=\"best-sellers\">\r\n        <h2>üåü ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ</h2>\r\n        {errMsg && <div className=\"info-inline\">{errMsg}</div>}\r\n        <div className=\"product-grid\">\r\n          {(loading.best ? fallbackBest : bestSellers).map((item) => (\r\n            <div className=\"product-card\" key={item.id}>\r\n              <img\r\n                src={item.img}\r\n                alt={item.name}\r\n                onError={(e) => { e.currentTarget.src = process.env.PUBLIC_URL + '/logo.png'; }}\r\n              />\r\n              <h3>{item.name}</h3>\r\n              <p>{Number(item.price).toLocaleString()} ‡∏ö‡∏≤‡∏ó</p>\r\n              <button className=\"btn-add\" onClick={() => addToCart(item)}>\r\n                + ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}