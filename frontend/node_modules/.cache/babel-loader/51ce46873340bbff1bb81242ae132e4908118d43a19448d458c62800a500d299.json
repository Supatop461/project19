{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\admin\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { api } from '../lib/api';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, PointElement, LineElement, ArcElement, Tooltip, Legend, Title } from 'chart.js';\nimport { Bar, Line, Pie } from 'react-chartjs-2';\nimport './Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, PointElement, LineElement, ArcElement, Tooltip, Legend, Title);\n\n/* ----------------- Palette ----------------- */\nconst palette = {\n  brandFill: 'rgba(74,148,74,0.45)',\n  // #4a944a\n  brandBorder: '#4a944a',\n  pie: ['rgba(74,148,74,0.85)', 'rgba(37,99,235,0.85)', 'rgba(245,158,11,0.90)', 'rgba(139,92,246,0.85)', 'rgba(20,184,166,0.85)', 'rgba(239,68,68,0.90)', 'rgba(154,122,95,0.85)', 'rgba(16,185,129,0.85)']\n};\nconst bars = n => Array.from({\n  length: n\n}, (_, i) => palette.pie[i % palette.pie.length]);\nconst opaque = rgba => rgba !== null && rgba !== void 0 && rgba.startsWith('rgba(') ? rgba.replace(/rgba\\(([^)]+),\\s*[^)]+\\)/, 'rgba($1,1)') : rgba;\nconst baht = n => Number(n || 0).toLocaleString('th-TH');\n\n/* ----------------- Flexible field helpers (อิงประวัติ/รองรับหลาย key) ----------------- */\nconst pickStr = (o, keys) => {\n  var _o$k;\n  for (const k of keys) {\n    const v = o === null || o === void 0 ? void 0 : o[k];\n    if (typeof v === 'string' && v.trim() !== '') return v;\n  }\n  const k = keys.find(k => (o === null || o === void 0 ? void 0 : o[k]) != null);\n  return ((_o$k = o === null || o === void 0 ? void 0 : o[k]) !== null && _o$k !== void 0 ? _o$k : '') + '';\n};\nconst pickNum = (o, keys) => {\n  for (const k of keys) {\n    const v = o === null || o === void 0 ? void 0 : o[k];\n    const n = typeof v === 'string' ? Number(v.replace(/[^\\d.-]/g, '')) : Number(v);\n    if (Number.isFinite(n)) return n;\n  }\n  return 0;\n};\n\n/* ----------------- PLUGINS ----------------- */\n// 1) วาดตัวเลขบนแท่ง + % บน Pie\nconst ValueLabelPlugin = {\n  id: 'value-label-plugin',\n  afterDatasetsDraw(chart) {\n    const {\n      ctx,\n      data,\n      options\n    } = chart;\n    const type = chart.config.type;\n    ctx.save();\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    ctx.font = '600 11px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto';\n    if (type === 'pie' || type === 'doughnut') {\n      const ds = data.datasets[0] || {};\n      const values = (ds.data || []).map(v => Number(v || 0));\n      const total = values.reduce((a, b) => a + b, 0);\n      const metas = chart.getDatasetMeta(0).data || [];\n      values.forEach((v, i) => {\n        if (!metas[i] || total <= 0 || v <= 0) return;\n        const p = v / total * 100;\n        const {\n          x,\n          y\n        } = metas[i].tooltipPosition();\n        ctx.fillStyle = '#0b1324';\n        const label = `${p.toFixed(p >= 10 ? 0 : 1)}%`;\n        ctx.fillText(label, x, y);\n      });\n    } else {\n      chart.data.datasets.forEach((ds, di) => {\n        const meta = chart.getDatasetMeta(di);\n        meta.data.forEach((el, i) => {\n          const raw = ds.data[i];\n          const v = Number(raw !== null && raw !== void 0 ? raw : 0);\n          if (!isFinite(v)) return;\n          let x = el.x,\n            y = el.y,\n            align = 'center';\n          const isHorizontal = (options === null || options === void 0 ? void 0 : options.indexAxis) === 'y';\n          if (isHorizontal) {\n            align = 'left';\n            x += 14;\n          } else {\n            y -= 10;\n          }\n          ctx.textAlign = align;\n          ctx.fillStyle = '#0b1324';\n          ctx.fillText(v.toLocaleString('th-TH'), x, y);\n        });\n      });\n    }\n    ctx.restore();\n  }\n};\n\n// 2) ถ้าไม่มีข้อมูล → โชว์ \"ไม่มีข้อมูล\"\nconst NoDataPlugin = {\n  id: 'no-data-plugin',\n  afterDraw(chart) {\n    var _chart$config$data;\n    const hasData = (((_chart$config$data = chart.config.data) === null || _chart$config$data === void 0 ? void 0 : _chart$config$data.datasets) || []).some(d => Array.isArray(d.data) && d.data.some(v => Number(v || 0) > 0));\n    if (hasData) return;\n    const {\n      ctx,\n      chartArea\n    } = chart;\n    ctx.save();\n    ctx.fillStyle = '#6b7280';\n    ctx.font = '600 13px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto';\n    ctx.textAlign = 'center';\n    ctx.fillText('ไม่มีข้อมูล', (chartArea.left + chartArea.right) / 2, (chartArea.top + chartArea.bottom) / 2);\n    ctx.restore();\n  }\n};\nChartJS.register(ValueLabelPlugin, NoDataPlugin);\n\n/* ----------------- Chart options ----------------- */\nconst countBarOpts = {\n  responsive: true,\n  maintainAspectRatio: false,\n  scales: {\n    y: {\n      ticks: {\n        precision: 0\n      },\n      grid: {\n        color: 'rgba(107,114,128,.25)'\n      }\n    },\n    x: {\n      grid: {\n        display: false\n      }\n    }\n  },\n  plugins: {\n    legend: {\n      display: false\n    }\n  }\n};\nconst pieOpts = {\n  responsive: true,\n  maintainAspectRatio: false,\n  plugins: {\n    legend: {\n      position: 'bottom',\n      labels: {\n        boxWidth: 14,\n        usePointStyle: true\n      }\n    },\n    tooltip: {\n      callbacks: {\n        label: ctx => {\n          const ds = ctx.dataset.data;\n          const total = ds.reduce((a, b) => a + Number(b || 0), 0);\n          const val = Number(ctx.parsed || 0);\n          const pct = total > 0 ? val / total * 100 : 0;\n          return `${ctx.label}: ${val.toLocaleString('th-TH')} (${pct.toFixed(pct >= 10 ? 0 : 1)}%)`;\n        }\n      }\n    }\n  }\n};\n\n/* ----------------- UI helpers ----------------- */\nfunction StatCard({\n  title,\n  value,\n  suffix\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stat-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stat-card-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stat-card-value\",\n      children: [value === undefined || value === null ? '-' : value, suffix ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-base font-normal ml-1\",\n        children: suffix\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n_c = StatCard;\nfunction DataTable({\n  columns,\n  rows,\n  emptyText = 'ไม่มีข้อมูล'\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: columns.map(c => /*#__PURE__*/_jsxDEV(\"th\", {\n            children: c.header\n          }, c.key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 38\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: !rows || rows.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: columns.length,\n            className: \"px-3 py-3 text-gray-500\",\n            children: emptyText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this) : rows.map((r, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: columns.map(c => {\n            var _r$c$key;\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              children: c.render ? c.render(r[c.key], r) : (_r$c$key = r[c.key]) !== null && _r$c$key !== void 0 ? _r$c$key : ''\n            }, c.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 47\n            }, this);\n          })\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_c2 = DataTable;\nconst safe = arr => Array.isArray(arr) ? arr : [];\n\n/* ----------------- Page ----------------- */\nexport default function Dashboard() {\n  _s();\n  var _ref12, _summary$total_sales;\n  const [summary, setSummary] = useState({});\n  const [salesByMonth, setSalesByMonth] = useState([]);\n  const [ordersByStatus, setOrdersByStatus] = useState([]);\n  const [customersByProvince, setCustomersByProvince] = useState([]);\n  const [topCategoriesPurchased, setTopCategoriesPurchased] = useState([]);\n  const [productCountByCategory, setProductCountByCategory] = useState([]);\n  const [productCountBySubcategory, setProductCountBySubcategory] = useState([]);\n  const [categorySubcategoryBreakdown, setCategorySubcategoryBreakdown] = useState([]);\n  const [recentOrders, setRecentOrders] = useState([]);\n  const [recentProducts, setRecentProducts] = useState([]);\n  const [recentAddresses, setRecentAddresses] = useState([]);\n  const [publishedShare, setPublishedShare] = useState([]);\n  const [addToCartTrend, setAddToCartTrend] = useState([]);\n  const [from, setFrom] = useState('');\n  const [to, setTo] = useState('');\n  const q = useMemo(() => {\n    const params = new URLSearchParams();\n    if (from) params.set('from', from);\n    if (to) params.set('to', to);\n    const s = params.toString();\n    return s ? `?${s}` : '';\n  }, [from, to]);\n  const log = name => err => {\n    var _err$response;\n    return console.error(`[Dashboard] ${name} failed:`, (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || (err === null || err === void 0 ? void 0 : err.message));\n  };\n  useEffect(() => {\n    api.get(`/api/dashboard/summary${q}`).then(r => setSummary(r.data)).catch(log('summary'));\n    api.get(`/api/dashboard/sales-by-month${q}`).then(r => setSalesByMonth(r.data)).catch(log('sales-by-month'));\n    api.get(`/api/dashboard/orders-by-status${q}`).then(r => setOrdersByStatus(r.data)).catch(log('orders-by-status'));\n    api.get(`/api/dashboard/customers-by-province`).then(r => setCustomersByProvince(r.data)).catch(log('customers-by-province'));\n    api.get(`/api/dashboard/top-categories-by-purchased${q}`).then(r => setTopCategoriesPurchased(r.data)).catch(log('top-categories-by-purchased'));\n    api.get(`/api/dashboard/product-count-by-category`).then(r => setProductCountByCategory(r.data)).catch(log('product-count-by-category'));\n    api.get(`/api/dashboard/product-count-by-subcategory`).then(r => setProductCountBySubcategory(r.data)).catch(log('product-count-by-subcategory'));\n    api.get(`/api/dashboard/category-subcategory-breakdown`).then(r => setCategorySubcategoryBreakdown(r.data)).catch(log('category-subcategory-breakdown'));\n    api.get(`/api/dashboard/recent-orders`).then(r => setRecentOrders(r.data)).catch(log('recent-orders'));\n    api.get(`/api/dashboard/recent-products`).then(r => setRecentProducts(r.data)).catch(log('recent-products'));\n    api.get(`/api/dashboard/recent-addresses`).then(r => setRecentAddresses(r.data)).catch(log('recent-addresses'));\n    api.get(`/api/dashboard/published-share`).then(r => setPublishedShare(r.data)).catch(log('published-share'));\n    api.get(`/api/dashboard/add-to-cart-trend${q}`).then(r => setAddToCartTrend(r.data)).catch(log('add-to-cart-trend'));\n  }, [q]);\n\n  /* ---------- Datasets (ใช้ pickStr/pickNum รองรับหลายชื่อคอลัมน์) ---------- */\n  const salesByMonthData = useMemo(() => ({\n    labels: safe(salesByMonth).map(x => pickStr(x, ['month', 'month_name', 'ym'])),\n    datasets: [{\n      label: 'ยอดขายรวม (บาท)',\n      data: safe(salesByMonth).map(x => pickNum(x, ['total', 'sum', 'amount'])),\n      backgroundColor: 'rgba(74,148,74,0.45)',\n      borderColor: '#4a944a',\n      borderWidth: 1.6,\n      borderRadius: 6\n    }]\n  }), [salesByMonth]);\n  const ordersByStatusData = useMemo(() => ({\n    labels: safe(ordersByStatus).map(x => pickStr(x, ['status_name', 'status', 'name'])),\n    datasets: [{\n      label: 'จำนวนคำสั่งซื้อ',\n      data: safe(ordersByStatus).map(x => pickNum(x, ['count', 'total', 'qty', 'orders'])),\n      backgroundColor: safe(ordersByStatus).map((_, i) => palette.pie[i % palette.pie.length]),\n      borderColor: '#ffffff',\n      borderWidth: 1\n    }]\n  }), [ordersByStatus]);\n  const customersByProvinceData = useMemo(() => {\n    const top = safe(customersByProvince).slice(0, 10);\n    const fill = bars(top.length);\n    const border = fill.map(opaque);\n    return {\n      labels: top.map(x => pickStr(x, ['province', 'province_name', 'prov']) || 'ไม่ระบุ'),\n      datasets: [{\n        label: 'จำนวนลูกค้า',\n        data: top.map(x => pickNum(x, ['count', 'cnt', 'total'])),\n        backgroundColor: fill,\n        borderColor: border,\n        borderWidth: 1.4,\n        borderRadius: 6\n      }]\n    };\n  }, [customersByProvince]);\n  const topCategoriesPurchasedData = useMemo(() => {\n    const labels = safe(topCategoriesPurchased).map(x => pickStr(x, ['category_name', 'category', 'name']));\n    const data = safe(topCategoriesPurchased).map(x => pickNum(x, ['qty', 'count', 'total']));\n    const fill = bars(data.length);\n    const border = fill.map(opaque);\n    return {\n      labels,\n      datasets: [{\n        label: 'จำนวนชิ้นที่ขาย',\n        data,\n        backgroundColor: fill,\n        borderColor: border,\n        borderWidth: 1.4,\n        borderRadius: 6\n      }]\n    };\n  }, [topCategoriesPurchased]);\n  const productCountByCategoryData = useMemo(() => {\n    const labels = safe(productCountByCategory).map(x => pickStr(x, ['category_name', 'category', 'name']));\n    const data = safe(productCountByCategory).map(x => pickNum(x, ['products', 'count', 'total']));\n    const fill = bars(data.length);\n    const border = fill.map(opaque);\n    return {\n      labels,\n      datasets: [{\n        label: 'จำนวนสินค้าในระบบ',\n        data,\n        backgroundColor: fill,\n        borderColor: border,\n        borderWidth: 1.3,\n        borderRadius: 6\n      }]\n    };\n  }, [productCountByCategory]);\n  const productCountBySubcategoryData = useMemo(() => {\n    const top = safe(productCountBySubcategory).slice(0, 12);\n    const fill = bars(top.length);\n    const border = fill.map(opaque);\n    return {\n      labels: top.map(x => pickStr(x, ['subcategory_name', 'subcategory', 'name'])),\n      datasets: [{\n        label: 'จำนวนสินค้าในหมวดย่อย',\n        data: top.map(x => pickNum(x, ['products', 'count', 'total'])),\n        backgroundColor: fill,\n        borderColor: border,\n        borderWidth: 1.3,\n        borderRadius: 6\n      }]\n    };\n  }, [productCountBySubcategory]);\n  const publishedShareData = useMemo(() => {\n    const labels = safe(publishedShare).map(x => pickStr(x, ['status', 'published_state']));\n    const data = safe(publishedShare).map(x => pickNum(x, ['cnt', 'count', 'total']));\n    const fill = bars(data.length);\n    return {\n      labels,\n      datasets: [{\n        label: 'สินค้า',\n        data,\n        backgroundColor: fill,\n        borderColor: '#fff',\n        borderWidth: 1\n      }]\n    };\n  }, [publishedShare]);\n  const addToCartTrendData = useMemo(() => {\n    const labs = safe(addToCartTrend).map(x => pickStr(x, ['day', 'date']));\n    const ds = safe(addToCartTrend).map(x => pickNum(x, ['add_events', 'count', 'total']));\n    return {\n      labels: labs,\n      datasets: [{\n        label: 'Add-to-Cart (ครั้ง/วัน)',\n        data: ds,\n        tension: .3,\n        borderColor: '#4a944a',\n        backgroundColor: 'rgba(74,148,74,0.45)'\n      }]\n    };\n  }, [addToCartTrend]);\n\n  /* ---------- Tables: map ให้ยืดหยุ่น ---------- */\n  const recentOrdersRows = useMemo(() => safe(recentOrders).map(r => {\n    var _r$order_id, _ref, _ref2, _r$email, _ref3, _ref4, _r$total_amount, _ref5, _r$status_name, _ref6, _ref7, _r$order_date;\n    return {\n      order_id: (_r$order_id = r.order_id) !== null && _r$order_id !== void 0 ? _r$order_id : r.id,\n      email: (_ref = (_ref2 = (_r$email = r.email) !== null && _r$email !== void 0 ? _r$email : r.user_email) !== null && _ref2 !== void 0 ? _ref2 : r.customer_email) !== null && _ref !== void 0 ? _ref : '',\n      total_amount: (_ref3 = (_ref4 = (_r$total_amount = r.total_amount) !== null && _r$total_amount !== void 0 ? _r$total_amount : r.grand_total) !== null && _ref4 !== void 0 ? _ref4 : r.total_price) !== null && _ref3 !== void 0 ? _ref3 : 0,\n      status_name: (_ref5 = (_r$status_name = r.status_name) !== null && _r$status_name !== void 0 ? _r$status_name : r.status) !== null && _ref5 !== void 0 ? _ref5 : '',\n      order_date: (_ref6 = (_ref7 = (_r$order_date = r.order_date) !== null && _r$order_date !== void 0 ? _r$order_date : r.created_at) !== null && _ref7 !== void 0 ? _ref7 : r.updated_at) !== null && _ref6 !== void 0 ? _ref6 : ''\n    };\n  }), [recentOrders]);\n  const recentProductsRows = useMemo(() => safe(recentProducts).map(r => {\n    var _r$product_id, _r$product_name, _ref8, _r$category_name, _ref9, _r$created_at;\n    return {\n      product_id: (_r$product_id = r.product_id) !== null && _r$product_id !== void 0 ? _r$product_id : r.id,\n      product_name: (_r$product_name = r.product_name) !== null && _r$product_name !== void 0 ? _r$product_name : r.name,\n      category_name: (_ref8 = (_r$category_name = r.category_name) !== null && _r$category_name !== void 0 ? _r$category_name : r.category) !== null && _ref8 !== void 0 ? _ref8 : '',\n      created_at: (_ref9 = (_r$created_at = r.created_at) !== null && _r$created_at !== void 0 ? _r$created_at : r.updated_at) !== null && _ref9 !== void 0 ? _ref9 : ''\n    };\n  }), [recentProducts]);\n  const recentAddressesRows = useMemo(() => safe(recentAddresses).map(r => {\n    var _r$address_id, _ref0, _r$email2, _ref1, _r$recipient_name, _ref10, _r$province, _ref11, _r$created_at2;\n    return {\n      address_id: (_r$address_id = r.address_id) !== null && _r$address_id !== void 0 ? _r$address_id : r.id,\n      email: (_ref0 = (_r$email2 = r.email) !== null && _r$email2 !== void 0 ? _r$email2 : r.user_email) !== null && _ref0 !== void 0 ? _ref0 : '',\n      recipient_name: (_ref1 = (_r$recipient_name = r.recipient_name) !== null && _r$recipient_name !== void 0 ? _r$recipient_name : r.name) !== null && _ref1 !== void 0 ? _ref1 : '',\n      province: (_ref10 = (_r$province = r.province) !== null && _r$province !== void 0 ? _r$province : r.province_name) !== null && _ref10 !== void 0 ? _ref10 : '',\n      created_at: (_ref11 = (_r$created_at2 = r.created_at) !== null && _r$created_at2 !== void 0 ? _r$created_at2 : r.updated_at) !== null && _ref11 !== void 0 ? _ref11 : ''\n    };\n  }), [recentAddresses]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-end justify-between flex-wrap gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"\\uD83D\\uDCCA Dashboard \\u0E20\\u0E32\\u0E1E\\u0E23\\u0E27\\u0E21\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date-filter\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-600\",\n          children: \"\\u0E0A\\u0E48\\u0E27\\u0E07\\u0E40\\u0E27\\u0E25\\u0E32 (\\u0E22\\u0E2D\\u0E14\\u0E02\\u0E32\\u0E22/\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D/Top Category)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: from,\n          onChange: e => setFrom(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2014\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: to,\n          onChange: e => setTo(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setFrom('');\n            setTo('');\n          },\n          children: \"\\u0E25\\u0E49\\u0E32\\u0E07\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-5 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n        value: summary.products\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\",\n        value: summary.users\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\",\n        value: summary.orders\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E07\",\n        value: summary.addresses\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0E22\\u0E2D\\u0E14\\u0E02\\u0E32\\u0E22\\u0E23\\u0E27\\u0E21\",\n        value: ((_ref12 = (_summary$total_sales = summary.total_sales) !== null && _summary$total_sales !== void 0 ? _summary$total_sales : summary.total) !== null && _ref12 !== void 0 ? _ref12 : 0).toLocaleString('th-TH'),\n        suffix: \"\\u0E1A\\u0E32\\u0E17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E22\\u0E2D\\u0E14\\u0E02\\u0E32\\u0E22\\u0E23\\u0E32\\u0E22\\u0E40\\u0E14\\u0E37\\u0E2D\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: salesByMonthData,\n          options: countBarOpts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E41\\u0E22\\u0E01\\u0E15\\u0E32\\u0E21\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pie, {\n          data: ordersByStatusData,\n          options: pieOpts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E25\\u0E39\\u0E01\\u0E04\\u0E49\\u0E32\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E08\\u0E31\\u0E07\\u0E2B\\u0E27\\u0E31\\u0E14\\u0E44\\u0E2B\\u0E19\\u0E40\\u0E22\\u0E2D\\u0E30\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E38\\u0E14 (Top 10)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: customersByProvinceData,\n          options: {\n            ...countBarOpts,\n            indexAxis: 'y'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E25\\u0E39\\u0E01\\u0E04\\u0E49\\u0E32\\u0E0B\\u0E37\\u0E49\\u0E2D \\u201C\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u201D \\u0E44\\u0E2B\\u0E19\\u0E40\\u0E22\\u0E2D\\u0E30\\u0E2A\\u0E38\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: topCategoriesPurchasedData,\n          options: countBarOpts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E41\\u0E22\\u0E01\\u0E15\\u0E32\\u0E21\\u0E2B\\u0E21\\u0E27\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: productCountByCategoryData,\n          options: countBarOpts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E41\\u0E22\\u0E01\\u0E15\\u0E32\\u0E21\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22 (Top 12)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          data: productCountBySubcategoryData,\n          options: {\n            ...countBarOpts,\n            indexAxis: 'y'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\\u0E01\\u0E32\\u0E23\\u0E40\\u0E1C\\u0E22\\u0E41\\u0E1E\\u0E23\\u0E48\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 (\\u0E2A\\u0E31\\u0E14\\u0E2A\\u0E48\\u0E27\\u0E19)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Pie, {\n          data: publishedShareData,\n          options: pieOpts\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E41\\u0E19\\u0E27\\u0E42\\u0E19\\u0E49\\u0E21\\u0E01\\u0E32\\u0E23\\u0E01\\u0E14\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E25\\u0E07\\u0E15\\u0E30\\u0E01\\u0E23\\u0E49\\u0E32 (14 \\u0E27\\u0E31\\u0E19\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          data: addToCartTrendData,\n          options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            plugins: {\n              legend: {\n                display: false\n              }\n            },\n            scales: {\n              y: {\n                beginAtZero: true,\n                ticks: {\n                  precision: 0\n                }\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-title\",\n          children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17 \\u2194 \\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22 \\u2194 \\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n          columns: [{\n            key: 'category_name',\n            header: 'ประเภท (Category)'\n          }, {\n            key: 'subcategory_name',\n            header: 'หมวดย่อย (Subcategory)'\n          }, {\n            key: 'products',\n            header: 'จำนวน',\n            render: v => Number(v || 0).toLocaleString('th-TH')\n          }],\n          rows: categorySubcategoryBreakdown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-title\",\n            children: \"\\u0E04\\u0E33\\u0E2A\\u0E31\\u0E48\\u0E07\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n            columns: [{\n              key: 'order_id',\n              header: 'Order'\n            }, {\n              key: 'email',\n              header: 'ลูกค้า'\n            }, {\n              key: 'total_amount',\n              header: 'ยอด (฿)',\n              render: v => Number(v || 0).toLocaleString('th-TH')\n            }, {\n              key: 'status_name',\n              header: 'สถานะ'\n            }, {\n              key: 'order_date',\n              header: 'วันที่',\n              render: v => v ? new Date(v).toLocaleString('th-TH') : ''\n            }],\n            rows: recentOrdersRows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-title\",\n            children: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n            columns: [{\n              key: 'product_id',\n              header: 'ID'\n            }, {\n              key: 'product_name',\n              header: 'ชื่อสินค้า'\n            }, {\n              key: 'category_name',\n              header: 'หมวด'\n            }, {\n              key: 'created_at',\n              header: 'เพิ่มเมื่อ',\n              render: v => v ? new Date(v).toLocaleString('th-TH') : ''\n            }],\n            rows: recentProductsRows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-title\",\n            children: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E25\\u0E48\\u0E32\\u0E2A\\u0E38\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n            columns: [{\n              key: 'address_id',\n              header: 'ID'\n            }, {\n              key: 'email',\n              header: 'ของผู้ใช้'\n            }, {\n              key: 'recipient_name',\n              header: 'ผู้รับ'\n            }, {\n              key: 'province',\n              header: 'จังหวัด'\n            }, {\n              key: 'created_at',\n              header: 'เพิ่มเมื่อ',\n              render: v => v ? new Date(v).toLocaleString('th-TH') : ''\n            }],\n            rows: recentAddressesRows\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 308,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"x1ECAj4If0E5IaTPTqi8nXra2iI=\");\n_c3 = Dashboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StatCard\");\n$RefreshReg$(_c2, \"DataTable\");\n$RefreshReg$(_c3, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","api","Chart","ChartJS","CategoryScale","LinearScale","BarElement","PointElement","LineElement","ArcElement","Tooltip","Legend","Title","Bar","Line","Pie","jsxDEV","_jsxDEV","register","palette","brandFill","brandBorder","pie","bars","n","Array","from","length","_","i","opaque","rgba","startsWith","replace","baht","Number","toLocaleString","pickStr","o","keys","_o$k","k","v","trim","find","pickNum","isFinite","ValueLabelPlugin","id","afterDatasetsDraw","chart","ctx","data","options","type","config","save","textAlign","textBaseline","font","ds","datasets","values","map","total","reduce","a","b","metas","getDatasetMeta","forEach","p","x","y","tooltipPosition","fillStyle","label","toFixed","fillText","di","meta","el","raw","align","isHorizontal","indexAxis","restore","NoDataPlugin","afterDraw","_chart$config$data","hasData","some","d","isArray","chartArea","left","right","top","bottom","countBarOpts","responsive","maintainAspectRatio","scales","ticks","precision","grid","color","display","plugins","legend","pieOpts","position","labels","boxWidth","usePointStyle","tooltip","callbacks","dataset","val","parsed","pct","StatCard","title","value","suffix","className","children","fileName","_jsxFileName","lineNumber","columnNumber","undefined","_c","DataTable","columns","rows","emptyText","c","header","key","colSpan","r","idx","_r$c$key","render","_c2","safe","arr","Dashboard","_s","_ref12","_summary$total_sales","summary","setSummary","salesByMonth","setSalesByMonth","ordersByStatus","setOrdersByStatus","customersByProvince","setCustomersByProvince","topCategoriesPurchased","setTopCategoriesPurchased","productCountByCategory","setProductCountByCategory","productCountBySubcategory","setProductCountBySubcategory","categorySubcategoryBreakdown","setCategorySubcategoryBreakdown","recentOrders","setRecentOrders","recentProducts","setRecentProducts","recentAddresses","setRecentAddresses","publishedShare","setPublishedShare","addToCartTrend","setAddToCartTrend","setFrom","to","setTo","q","params","URLSearchParams","set","s","toString","log","name","err","_err$response","console","error","response","message","get","then","catch","salesByMonthData","backgroundColor","borderColor","borderWidth","borderRadius","ordersByStatusData","customersByProvinceData","slice","fill","border","topCategoriesPurchasedData","productCountByCategoryData","productCountBySubcategoryData","publishedShareData","addToCartTrendData","labs","tension","recentOrdersRows","_r$order_id","_ref","_ref2","_r$email","_ref3","_ref4","_r$total_amount","_ref5","_r$status_name","_ref6","_ref7","_r$order_date","order_id","email","user_email","customer_email","total_amount","grand_total","total_price","status_name","status","order_date","created_at","updated_at","recentProductsRows","_r$product_id","_r$product_name","_ref8","_r$category_name","_ref9","_r$created_at","product_id","product_name","category_name","category","recentAddressesRows","_r$address_id","_ref0","_r$email2","_ref1","_r$recipient_name","_ref10","_r$province","_ref11","_r$created_at2","address_id","recipient_name","province","province_name","onChange","e","target","onClick","products","users","orders","addresses","total_sales","beginAtZero","Date","_c3","$RefreshReg$"],"sources":["D:/project19/frontend/src/admin/Dashboard.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { api } from '../lib/api';\r\nimport {\r\n  Chart as ChartJS, CategoryScale, LinearScale, BarElement, PointElement,\r\n  LineElement, ArcElement, Tooltip, Legend, Title\r\n} from 'chart.js';\r\nimport { Bar, Line, Pie } from 'react-chartjs-2';\r\nimport './Dashboard.css';\r\n\r\nChartJS.register(\r\n  CategoryScale, LinearScale, BarElement, PointElement,\r\n  LineElement, ArcElement, Tooltip, Legend, Title\r\n);\r\n\r\n/* ----------------- Palette ----------------- */\r\nconst palette = {\r\n  brandFill: 'rgba(74,148,74,0.45)',   // #4a944a\r\n  brandBorder: '#4a944a',\r\n  pie: [\r\n    'rgba(74,148,74,0.85)','rgba(37,99,235,0.85)','rgba(245,158,11,0.90)',\r\n    'rgba(139,92,246,0.85)','rgba(20,184,166,0.85)','rgba(239,68,68,0.90)',\r\n    'rgba(154,122,95,0.85)','rgba(16,185,129,0.85)'\r\n  ]\r\n};\r\nconst bars = (n) => Array.from({ length: n }, (_, i) => palette.pie[i % palette.pie.length]);\r\nconst opaque = (rgba) => rgba?.startsWith('rgba(') ? rgba.replace(/rgba\\(([^)]+),\\s*[^)]+\\)/, 'rgba($1,1)') : rgba;\r\nconst baht = (n) => Number(n||0).toLocaleString('th-TH');\r\n\r\n/* ----------------- Flexible field helpers (อิงประวัติ/รองรับหลาย key) ----------------- */\r\nconst pickStr = (o, keys) => {\r\n  for (const k of keys) { const v = o?.[k]; if (typeof v === 'string' && v.trim() !== '') return v; }\r\n  const k = keys.find(k=>o?.[k]!=null); return (o?.[k] ?? '') + '';\r\n};\r\nconst pickNum = (o, keys) => {\r\n  for (const k of keys) {\r\n    const v = o?.[k];\r\n    const n = typeof v === 'string' ? Number(v.replace(/[^\\d.-]/g,'')) : Number(v);\r\n    if (Number.isFinite(n)) return n;\r\n  }\r\n  return 0;\r\n};\r\n\r\n/* ----------------- PLUGINS ----------------- */\r\n// 1) วาดตัวเลขบนแท่ง + % บน Pie\r\nconst ValueLabelPlugin = {\r\n  id: 'value-label-plugin',\r\n  afterDatasetsDraw(chart) {\r\n    const { ctx, data, options } = chart;\r\n    const type = chart.config.type;\r\n    ctx.save();\r\n    ctx.textAlign = 'center';\r\n    ctx.textBaseline = 'middle';\r\n    ctx.font = '600 11px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto';\r\n\r\n    if (type === 'pie' || type === 'doughnut') {\r\n      const ds = data.datasets[0] || {};\r\n      const values = (ds.data || []).map(v => Number(v || 0));\r\n      const total = values.reduce((a,b)=>a+b, 0);\r\n      const metas = chart.getDatasetMeta(0).data || [];\r\n      values.forEach((v, i) => {\r\n        if (!metas[i] || total <= 0 || v <= 0) return;\r\n        const p = (v/total)*100;\r\n        const { x, y } = metas[i].tooltipPosition();\r\n        ctx.fillStyle = '#0b1324';\r\n        const label = `${p.toFixed(p >= 10 ? 0 : 1)}%`;\r\n        ctx.fillText(label, x, y);\r\n      });\r\n    } else {\r\n      chart.data.datasets.forEach((ds, di) => {\r\n        const meta = chart.getDatasetMeta(di);\r\n        meta.data.forEach((el, i) => {\r\n          const raw = ds.data[i]; const v = Number(raw ?? 0);\r\n          if (!isFinite(v)) return;\r\n          let x = el.x, y = el.y, align = 'center';\r\n          const isHorizontal = (options?.indexAxis === 'y');\r\n          if (isHorizontal) { align = 'left'; x += 14; } else { y -= 10; }\r\n          ctx.textAlign = align;\r\n          ctx.fillStyle = '#0b1324';\r\n          ctx.fillText(v.toLocaleString('th-TH'), x, y);\r\n        });\r\n      });\r\n    }\r\n    ctx.restore();\r\n  }\r\n};\r\n\r\n// 2) ถ้าไม่มีข้อมูล → โชว์ \"ไม่มีข้อมูล\"\r\nconst NoDataPlugin = {\r\n  id: 'no-data-plugin',\r\n  afterDraw(chart) {\r\n    const hasData = (chart.config.data?.datasets || []).some(d => Array.isArray(d.data) && d.data.some(v => Number(v||0) > 0));\r\n    if (hasData) return;\r\n    const { ctx, chartArea } = chart;\r\n    ctx.save();\r\n    ctx.fillStyle = '#6b7280';\r\n    ctx.font = '600 13px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto';\r\n    ctx.textAlign = 'center';\r\n    ctx.fillText('ไม่มีข้อมูล', (chartArea.left + chartArea.right)/2, (chartArea.top + chartArea.bottom)/2);\r\n    ctx.restore();\r\n  }\r\n};\r\n\r\nChartJS.register(ValueLabelPlugin, NoDataPlugin);\r\n\r\n/* ----------------- Chart options ----------------- */\r\nconst countBarOpts = {\r\n  responsive: true, maintainAspectRatio: false,\r\n  scales: {\r\n    y: { ticks: { precision: 0 }, grid: { color: 'rgba(107,114,128,.25)' } },\r\n    x: { grid: { display: false } }\r\n  },\r\n  plugins: { legend: { display: false } }\r\n};\r\nconst pieOpts = {\r\n  responsive: true, maintainAspectRatio: false,\r\n  plugins: {\r\n    legend: { position: 'bottom', labels: { boxWidth: 14, usePointStyle: true } },\r\n    tooltip: {\r\n      callbacks: {\r\n        label: (ctx) => {\r\n          const ds = ctx.dataset.data; const total = ds.reduce((a,b)=>a+Number(b||0),0);\r\n          const val = Number(ctx.parsed || 0); const pct = total>0 ? (val/total*100) : 0;\r\n          return `${ctx.label}: ${val.toLocaleString('th-TH')} (${pct.toFixed(pct>=10?0:1)}%)`;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* ----------------- UI helpers ----------------- */\r\nfunction StatCard({ title, value, suffix }) {\r\n  return (\r\n    <div className=\"stat-card\">\r\n      <div className=\"stat-card-title\">{title}</div>\r\n      <div className=\"stat-card-value\">\r\n        {value === undefined || value === null ? '-' : value}\r\n        {suffix ? <span className=\"text-base font-normal ml-1\">{suffix}</span> : null}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nfunction DataTable({ columns, rows, emptyText = 'ไม่มีข้อมูล' }) {\r\n  return (\r\n    <div className=\"table-wrapper\">\r\n      <table>\r\n        <thead><tr>{columns.map(c => <th key={c.key}>{c.header}</th>)}</tr></thead>\r\n        <tbody>\r\n          {(!rows || rows.length === 0)\r\n            ? <tr><td colSpan={columns.length} className=\"px-3 py-3 text-gray-500\">{emptyText}</td></tr>\r\n            : rows.map((r, idx) => (\r\n              <tr key={idx}>{columns.map(c => <td key={c.key}>{c.render ? c.render(r[c.key], r) : (r[c.key] ?? '')}</td>)}</tr>\r\n            ))\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\nconst safe = (arr) => Array.isArray(arr) ? arr : [];\r\n\r\n/* ----------------- Page ----------------- */\r\nexport default function Dashboard() {\r\n  const [summary, setSummary] = useState({});\r\n  const [salesByMonth, setSalesByMonth] = useState([]);\r\n  const [ordersByStatus, setOrdersByStatus] = useState([]);\r\n  const [customersByProvince, setCustomersByProvince] = useState([]);\r\n  const [topCategoriesPurchased, setTopCategoriesPurchased] = useState([]);\r\n  const [productCountByCategory, setProductCountByCategory] = useState([]);\r\n  const [productCountBySubcategory, setProductCountBySubcategory] = useState([]);\r\n  const [categorySubcategoryBreakdown, setCategorySubcategoryBreakdown] = useState([]);\r\n  const [recentOrders, setRecentOrders] = useState([]);\r\n  const [recentProducts, setRecentProducts] = useState([]);\r\n  const [recentAddresses, setRecentAddresses] = useState([]);\r\n  const [publishedShare, setPublishedShare] = useState([]);\r\n  const [addToCartTrend, setAddToCartTrend] = useState([]);\r\n\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n\r\n  const q = useMemo(() => {\r\n    const params = new URLSearchParams();\r\n    if (from) params.set('from', from);\r\n    if (to) params.set('to', to);\r\n    const s = params.toString();\r\n    return s ? `?${s}` : '';\r\n  }, [from, to]);\r\n\r\n  const log = (name) => (err) => console.error(`[Dashboard] ${name} failed:`, err?.response?.data || err?.message);\r\n\r\n  useEffect(() => {\r\n    api.get(`/api/dashboard/summary${q}`).then(r => setSummary(r.data)).catch(log('summary'));\r\n    api.get(`/api/dashboard/sales-by-month${q}`).then(r => setSalesByMonth(r.data)).catch(log('sales-by-month'));\r\n    api.get(`/api/dashboard/orders-by-status${q}`).then(r => setOrdersByStatus(r.data)).catch(log('orders-by-status'));\r\n    api.get(`/api/dashboard/customers-by-province`).then(r => setCustomersByProvince(r.data)).catch(log('customers-by-province'));\r\n    api.get(`/api/dashboard/top-categories-by-purchased${q}`).then(r => setTopCategoriesPurchased(r.data)).catch(log('top-categories-by-purchased'));\r\n    api.get(`/api/dashboard/product-count-by-category`).then(r => setProductCountByCategory(r.data)).catch(log('product-count-by-category'));\r\n    api.get(`/api/dashboard/product-count-by-subcategory`).then(r => setProductCountBySubcategory(r.data)).catch(log('product-count-by-subcategory'));\r\n    api.get(`/api/dashboard/category-subcategory-breakdown`).then(r => setCategorySubcategoryBreakdown(r.data)).catch(log('category-subcategory-breakdown'));\r\n    api.get(`/api/dashboard/recent-orders`).then(r => setRecentOrders(r.data)).catch(log('recent-orders'));\r\n    api.get(`/api/dashboard/recent-products`).then(r => setRecentProducts(r.data)).catch(log('recent-products'));\r\n    api.get(`/api/dashboard/recent-addresses`).then(r => setRecentAddresses(r.data)).catch(log('recent-addresses'));\r\n    api.get(`/api/dashboard/published-share`).then(r => setPublishedShare(r.data)).catch(log('published-share'));\r\n    api.get(`/api/dashboard/add-to-cart-trend${q}`).then(r => setAddToCartTrend(r.data)).catch(log('add-to-cart-trend'));\r\n  }, [q]);\r\n\r\n  /* ---------- Datasets (ใช้ pickStr/pickNum รองรับหลายชื่อคอลัมน์) ---------- */\r\n  const salesByMonthData = useMemo(() => ({\r\n    labels: safe(salesByMonth).map(x => pickStr(x, ['month','month_name','ym'])),\r\n    datasets: [{\r\n      label: 'ยอดขายรวม (บาท)',\r\n      data: safe(salesByMonth).map(x => pickNum(x, ['total','sum','amount'])),\r\n      backgroundColor: 'rgba(74,148,74,0.45)',\r\n      borderColor: '#4a944a',\r\n      borderWidth: 1.6,\r\n      borderRadius: 6\r\n    }]\r\n  }), [salesByMonth]);\r\n\r\n  const ordersByStatusData = useMemo(() => ({\r\n    labels: safe(ordersByStatus).map(x => pickStr(x, ['status_name','status','name'])),\r\n    datasets: [{\r\n      label: 'จำนวนคำสั่งซื้อ',\r\n      data: safe(ordersByStatus).map(x => pickNum(x, ['count','total','qty','orders'])),\r\n      backgroundColor: safe(ordersByStatus).map((_, i) => palette.pie[i % palette.pie.length]),\r\n      borderColor: '#ffffff', borderWidth: 1\r\n    }]\r\n  }), [ordersByStatus]);\r\n\r\n  const customersByProvinceData = useMemo(() => {\r\n    const top = safe(customersByProvince).slice(0, 10);\r\n    const fill = bars(top.length); const border = fill.map(opaque);\r\n    return {\r\n      labels: top.map(x => pickStr(x, ['province','province_name','prov']) || 'ไม่ระบุ'),\r\n      datasets: [{ label: 'จำนวนลูกค้า', data: top.map(x => pickNum(x, ['count','cnt','total'])), backgroundColor: fill, borderColor: border, borderWidth: 1.4, borderRadius: 6 }]\r\n    };\r\n  }, [customersByProvince]);\r\n\r\n  const topCategoriesPurchasedData = useMemo(() => {\r\n    const labels = safe(topCategoriesPurchased).map(x => pickStr(x, ['category_name','category','name']));\r\n    const data = safe(topCategoriesPurchased).map(x => pickNum(x, ['qty','count','total']));\r\n    const fill = bars(data.length); const border = fill.map(opaque);\r\n    return { labels, datasets: [{ label: 'จำนวนชิ้นที่ขาย', data, backgroundColor: fill, borderColor: border, borderWidth: 1.4, borderRadius: 6 }] };\r\n  }, [topCategoriesPurchased]);\r\n\r\n  const productCountByCategoryData = useMemo(() => {\r\n    const labels = safe(productCountByCategory).map(x => pickStr(x, ['category_name','category','name']));\r\n    const data = safe(productCountByCategory).map(x => pickNum(x, ['products','count','total']));\r\n    const fill = bars(data.length); const border = fill.map(opaque);\r\n    return { labels, datasets: [{ label: 'จำนวนสินค้าในระบบ', data, backgroundColor: fill, borderColor: border, borderWidth: 1.3, borderRadius: 6 }] };\r\n  }, [productCountByCategory]);\r\n\r\n  const productCountBySubcategoryData = useMemo(() => {\r\n    const top = safe(productCountBySubcategory).slice(0, 12);\r\n    const fill = bars(top.length); const border = fill.map(opaque);\r\n    return {\r\n      labels: top.map(x => pickStr(x, ['subcategory_name','subcategory','name'])),\r\n      datasets: [{ label: 'จำนวนสินค้าในหมวดย่อย', data: top.map(x => pickNum(x, ['products','count','total'])), backgroundColor: fill, borderColor: border, borderWidth: 1.3, borderRadius: 6 }]\r\n    };\r\n  }, [productCountBySubcategory]);\r\n\r\n  const publishedShareData = useMemo(() => {\r\n    const labels = safe(publishedShare).map(x => pickStr(x, ['status','published_state']));\r\n    const data = safe(publishedShare).map(x => pickNum(x, ['cnt','count','total']));\r\n    const fill = bars(data.length);\r\n    return { labels, datasets: [{ label: 'สินค้า', data, backgroundColor: fill, borderColor: '#fff', borderWidth: 1 }] };\r\n  }, [publishedShare]);\r\n\r\n  const addToCartTrendData = useMemo(() => {\r\n    const labs = safe(addToCartTrend).map(x => pickStr(x, ['day','date']));\r\n    const ds = safe(addToCartTrend).map(x => pickNum(x, ['add_events','count','total']));\r\n    return {\r\n      labels: labs,\r\n      datasets: [{\r\n        label: 'Add-to-Cart (ครั้ง/วัน)',\r\n        data: ds,\r\n        tension: .3,\r\n        borderColor: '#4a944a',\r\n        backgroundColor: 'rgba(74,148,74,0.45)'\r\n      }]\r\n    };\r\n  }, [addToCartTrend]);\r\n\r\n  /* ---------- Tables: map ให้ยืดหยุ่น ---------- */\r\n  const recentOrdersRows = useMemo(() => safe(recentOrders).map(r => ({\r\n    order_id: r.order_id ?? r.id,\r\n    email: r.email ?? r.user_email ?? r.customer_email ?? '',\r\n    total_amount: r.total_amount ?? r.grand_total ?? r.total_price ?? 0,\r\n    status_name: r.status_name ?? r.status ?? '',\r\n    order_date: r.order_date ?? r.created_at ?? r.updated_at ?? ''\r\n  })), [recentOrders]);\r\n\r\n  const recentProductsRows = useMemo(() => safe(recentProducts).map(r => ({\r\n    product_id: r.product_id ?? r.id,\r\n    product_name: r.product_name ?? r.name,\r\n    category_name: r.category_name ?? r.category ?? '',\r\n    created_at: r.created_at ?? r.updated_at ?? ''\r\n  })), [recentProducts]);\r\n\r\n  const recentAddressesRows = useMemo(() => safe(recentAddresses).map(r => ({\r\n    address_id: r.address_id ?? r.id,\r\n    email: r.email ?? r.user_email ?? '',\r\n    recipient_name: r.recipient_name ?? r.name ?? '',\r\n    province: r.province ?? r.province_name ?? '',\r\n    created_at: r.created_at ?? r.updated_at ?? ''\r\n  })), [recentAddresses]);\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      <div className=\"flex items-end justify-between flex-wrap gap-3\">\r\n        <h1 className=\"text-2xl font-bold\">📊 Dashboard ภาพรวม</h1>\r\n        <div className=\"date-filter\">\r\n          <div className=\"text-sm text-gray-600\">ช่วงเวลา (ยอดขาย/คำสั่งซื้อ/Top Category)</div>\r\n          <input type=\"date\" value={from} onChange={e=>setFrom(e.target.value)} />\r\n          <span>—</span>\r\n          <input type=\"date\" value={to} onChange={e=>setTo(e.target.value)} />\r\n          <button onClick={()=>{setFrom('');setTo('');}}>ล้าง</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n        <StatCard title=\"สินค้า\" value={summary.products}/>\r\n        <StatCard title=\"ผู้ใช้งาน\" value={summary.users}/>\r\n        <StatCard title=\"คำสั่งซื้อ\" value={summary.orders}/>\r\n        <StatCard title=\"ที่อยู่จัดส่ง\" value={summary.addresses}/>\r\n        <StatCard title=\"ยอดขายรวม\" value={(summary.total_sales ?? summary.total ?? 0).toLocaleString('th-TH')} suffix=\"บาท\"/>\r\n      </div>\r\n\r\n      {/* Row 1 */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">ยอดขายรายเดือน</div>\r\n          <Bar data={salesByMonthData} options={countBarOpts} />\r\n        </div>\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">คำสั่งซื้อแยกตามสถานะ</div>\r\n          <Pie data={ordersByStatusData} options={pieOpts} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Row 2 */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">ลูกค้าอยู่จังหวัดไหนเยอะที่สุด (Top 10)</div>\r\n          <Bar data={customersByProvinceData} options={{ ...countBarOpts, indexAxis: 'y' }} />\r\n        </div>\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">ลูกค้าซื้อ “หมวดสินค้า” ไหนเยอะสุด</div>\r\n          <Bar data={topCategoriesPurchasedData} options={countBarOpts} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Row 3 */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">จำนวนสินค้าแยกตามหมวด</div>\r\n          <Bar data={productCountByCategoryData} options={countBarOpts} />\r\n        </div>\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">จำนวนสินค้าแยกตามหมวดย่อย (Top 12)</div>\r\n          <Bar data={productCountBySubcategoryData} options={{ ...countBarOpts, indexAxis: 'y' }} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Row 4 — ใหม่ */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">สถานะการเผยแพร่สินค้า (สัดส่วน)</div>\r\n          <Pie data={publishedShareData} options={pieOpts} />\r\n        </div>\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">แนวโน้มการกดเพิ่มลงตะกร้า (14 วันล่าสุด)</div>\r\n          <Line data={addToCartTrendData} options={{ responsive:true, maintainAspectRatio:false, plugins:{ legend:{ display:false }}, scales:{ y:{ beginAtZero:true, ticks:{ precision:0 }}} }} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tables */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"chart-box\">\r\n          <div className=\"chart-title\">ประเภท ↔ หมวดย่อย ↔ จำนวนสินค้า</div>\r\n          <DataTable\r\n            columns={[\r\n              { key: 'category_name', header: 'ประเภท (Category)' },\r\n              { key: 'subcategory_name', header: 'หมวดย่อย (Subcategory)' },\r\n              { key: 'products', header: 'จำนวน', render: v => Number(v||0).toLocaleString('th-TH') },\r\n            ]}\r\n            rows={categorySubcategoryBreakdown}\r\n          />\r\n        </div>\r\n        <div className=\"grid gap-6\">\r\n          <div className=\"chart-box\">\r\n            <div className=\"chart-title\">คำสั่งซื้อล่าสุด</div>\r\n            <DataTable\r\n              columns={[\r\n                { key: 'order_id', header: 'Order' },\r\n                { key: 'email', header: 'ลูกค้า' },\r\n                { key: 'total_amount', header: 'ยอด (฿)', render: v => Number(v||0).toLocaleString('th-TH') },\r\n                { key: 'status_name', header: 'สถานะ' },\r\n                { key: 'order_date', header: 'วันที่', render: v => v ? new Date(v).toLocaleString('th-TH') : '' },\r\n              ]}\r\n              rows={recentOrdersRows}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"chart-box\">\r\n            <div className=\"chart-title\">สินค้าล่าสุด</div>\r\n            <DataTable\r\n              columns={[\r\n                { key: 'product_id', header: 'ID' },\r\n                { key: 'product_name', header: 'ชื่อสินค้า' },\r\n                { key: 'category_name', header: 'หมวด' },\r\n                { key: 'created_at', header: 'เพิ่มเมื่อ', render: v => v ? new Date(v).toLocaleString('th-TH') : '' },\r\n              ]}\r\n              rows={recentProductsRows}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"chart-box\">\r\n            <div className=\"chart-title\">ที่อยู่ล่าสุด</div>\r\n            <DataTable\r\n              columns={[\r\n                { key: 'address_id', header: 'ID' },\r\n                { key: 'email', header: 'ของผู้ใช้' },\r\n                { key: 'recipient_name', header: 'ผู้รับ' },\r\n                { key: 'province', header: 'จังหวัด' },\r\n                { key: 'created_at', header: 'เพิ่มเมื่อ', render: v => v ? new Date(v).toLocaleString('th-TH') : '' },\r\n              ]}\r\n              rows={recentAddressesRows}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}