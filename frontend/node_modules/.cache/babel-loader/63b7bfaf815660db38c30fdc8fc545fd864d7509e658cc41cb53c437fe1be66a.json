{"ast":null,"code":"var _jsxFileName = \"D:\\\\project19\\\\frontend\\\\src\\\\admin\\\\ProductManagement.js\",\n  _api$defaults,\n  _s = $RefreshSig$();\n// [FRONTEND] src/admin/ProductManagement.js\n// ... (เหมือนเดิมส่วน import / helpers)\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './ProductManagement.css';\nimport { api, path } from '../lib/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst asStr = v => v === null || v === undefined ? '' : String(v);\nconst pickStatusName = x => {\n  var _ref, _ref2, _x$status_name;\n  return (_ref = (_ref2 = (_x$status_name = x === null || x === void 0 ? void 0 : x.status_name) !== null && _x$status_name !== void 0 ? _x$status_name : x === null || x === void 0 ? void 0 : x.StatusName) !== null && _ref2 !== void 0 ? _ref2 : x === null || x === void 0 ? void 0 : x.name) !== null && _ref !== void 0 ? _ref : '';\n};\nconst API_BASE = (api === null || api === void 0 ? void 0 : (_api$defaults = api.defaults) === null || _api$defaults === void 0 ? void 0 : _api$defaults.baseURL) || process.env.REACT_APP_API_BASE || 'http://localhost:3001';\nconst ABS_BASE = String(API_BASE).replace(/\\/+$/, '');\nconst resolveUrl = u => {\n  if (!u) return '';\n  const s = String(u);\n  if (/^(https?:|blob:)/i.test(s)) return s;\n  if (s.startsWith('/uploads/')) return `${ABS_BASE}${s}`;\n  return s;\n};\nconst DEFAULT_PRODUCT_UNITS = [{\n  code: 'plant',\n  label: 'ต้น'\n}, {\n  code: 'piece',\n  label: 'ชิ้น'\n}, {\n  code: 'pot',\n  label: 'กระถาง'\n}, {\n  code: 'bag',\n  label: 'ถุง'\n}, {\n  code: 'pack',\n  label: 'แพ็ค'\n}, {\n  code: 'kg',\n  label: 'กิโลกรัม'\n}, {\n  code: 'g',\n  label: 'กรัม'\n}, {\n  code: 'ltr',\n  label: 'ลิตร'\n}, {\n  code: 'ml',\n  label: 'มิลลิลิตร'\n}];\nconst DEFAULT_SIZE_UNITS = [{\n  code: 'mm',\n  label: 'มม.'\n}, {\n  code: 'cm',\n  label: 'ซม.'\n}, {\n  code: 'm',\n  label: 'ม.'\n}, {\n  code: 'inch',\n  label: 'นิ้ว'\n}, {\n  code: 'kg',\n  label: 'กก.'\n}, {\n  code: 'ltr',\n  label: 'ลิตร'\n}];\nexport default function ProductManagement() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [subcategories, setSubcategories] = useState([]);\n  const [statuses, setStatuses] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showArchived, setShowArchived] = useState(false);\n  const [activeTab, setActiveTab] = useState('products');\n  const [productUnits, setProductUnits] = useState(DEFAULT_PRODUCT_UNITS);\n  const [sizeUnits, setSizeUnits] = useState(DEFAULT_SIZE_UNITS);\n  const [newProdUnit, setNewProdUnit] = useState('');\n  const [newSizeUnit, setNewSizeUnit] = useState('');\n  const [form, setForm] = useState({\n    product_name: '',\n    description: '',\n    selling_price: '',\n    category_id: '',\n    subcategory_id: '',\n    image_url: '',\n    unit: '',\n    size_value: '',\n    size_unit: '',\n    origin: '',\n    product_status_id: ''\n  });\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [previews, setPreviews] = useState([]);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editProductId, setEditProductId] = useState(null);\n  const [newCat, setNewCat] = useState({\n    category_id: '',\n    category_name: ''\n  });\n  const [newSub, setNewSub] = useState({\n    subcategory_id: '',\n    subcategory_name: '',\n    category_id: ''\n  });\n  const handleApiError = (err, fallback = 'เกิดข้อผิดพลาด') => {\n    var _err$response, _err$response2, _err$response2$data;\n    console.error(fallback, (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || (err === null || err === void 0 ? void 0 : err.message) || err);\n    alert((err === null || err === void 0 ? void 0 : (_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || (err === null || err === void 0 ? void 0 : err.message) || fallback);\n  };\n  const fetchProducts = async () => {\n    try {\n      const {\n        data\n      } = await api.get(path('/admin/products'), {\n        params: {\n          include_archived: showArchived ? 1 : 0\n        }\n      });\n      setProducts((Array.isArray(data === null || data === void 0 ? void 0 : data.items) ? data.items : data) || []);\n    } catch (e) {\n      handleApiError(e, '❌ โหลดสินค้าไม่สำเร็จ');\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const {\n        data\n      } = await api.get(path('/categories'));\n      setCategories(data || []);\n    } catch (e) {\n      handleApiError(e, '❌ โหลดประเภทไม่สำเร็จ');\n    }\n  };\n  const fetchSubcategories = async () => {\n    try {\n      const {\n        data\n      } = await api.get(path('/subcategories'));\n      setSubcategories(data || []);\n    } catch (e) {\n      handleApiError(e, '❌ โหลดหมวดย่อยไม่สำเร็จ');\n    }\n  };\n  const fetchStatuses = async () => {\n    try {\n      let res = await api.get(path('/product-status'));\n      if (!Array.isArray(res.data)) {\n        try {\n          res = await api.get(path('/product-statuses'));\n        } catch {}\n      }\n      setStatuses((res.data || []).map(x => {\n        var _ref3, _x$product_status_id;\n        return {\n          id: asStr((_ref3 = (_x$product_status_id = x === null || x === void 0 ? void 0 : x.product_status_id) !== null && _x$product_status_id !== void 0 ? _x$product_status_id : x === null || x === void 0 ? void 0 : x.ProductStatusID) !== null && _ref3 !== void 0 ? _ref3 : x === null || x === void 0 ? void 0 : x.id),\n          name: pickStatusName(x)\n        };\n      }));\n    } catch {\n      setStatuses([]);\n    }\n  };\n  async function uploadImage(file) {\n    if (!file) return null;\n    const sendWith = async field => {\n      var _res$data, _res$data2, _res$data3, _res$data4;\n      const fd = new FormData();\n      fd.append(field, file);\n      const res = await api.post(path('/upload'), fd, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      return (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.imageUrl) || (res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.url) || (res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.path) || (res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.location) || null;\n    };\n    try {\n      return await sendWith('file');\n    } catch (e1) {\n      try {\n        return await sendWith('image');\n      } catch (e2) {\n        try {\n          return await sendWith('photo');\n        } catch {\n          throw e2;\n        }\n      }\n    }\n  }\n  async function uploadSubcatImage(file) {\n    var _res$data5;\n    const fd = new FormData();\n    fd.append('file', file);\n    const res = await api.post(path('/uploads/subcategory-image'), fd, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return (res === null || res === void 0 ? void 0 : (_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.url) || null;\n  }\n  async function uploadCategoryImage(file) {\n    var _res$data6;\n    const fd = new FormData();\n    fd.append('file', file);\n    const res = await api.post(path('/uploads/category-image'), fd, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return (res === null || res === void 0 ? void 0 : (_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.url) || null;\n  }\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      await Promise.all([fetchProducts(), fetchCategories(), fetchSubcategories(), fetchStatuses()]);\n      setLoading(false);\n    })();\n  }, [showArchived]);\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(p => ({\n      ...p,\n      [name]: value,\n      ...(name === 'category_id' ? {\n        subcategory_id: ''\n      } : {})\n    }));\n  };\n  const onFiles = e => setSelectedFiles(Array.from(e.target.files || []));\n  useEffect(() => {\n    if (!(selectedFiles !== null && selectedFiles !== void 0 && selectedFiles.length)) {\n      setPreviews([]);\n      return;\n    }\n    const urls = selectedFiles.map(f => ({\n      name: f.name,\n      url: URL.createObjectURL(f)\n    }));\n    setPreviews(urls);\n    return () => urls.forEach(u => URL.revokeObjectURL(u.url));\n  }, [selectedFiles]);\n  const removeSelectedAt = i => setSelectedFiles(prev => prev.filter((_, idx) => idx !== i));\n  const moveSelected = (i, dir) => setSelectedFiles(prev => {\n    const a = [...prev];\n    const to = i + dir;\n    if (to < 0 || to >= a.length) return a;\n    [a[i], a[to]] = [a[to], a[i]];\n    return a;\n  });\n  const onEdit = p => {\n    var _p$product_name, _p$description, _p$selling_price, _p$category_id, _p$subcategory_id, _p$image_url, _p$unit, _p$origin, _ref4, _p$product_status_id;\n    let size_value = '',\n      size_unit = '';\n    if (p.size && typeof p.size === 'string') {\n      const m = p.size.trim().match(/^(\\d+(?:\\.\\d+)?)\\s*(.+)$/);\n      if (m) {\n        size_value = m[1];\n        size_unit = m[2];\n      } else {\n        size_value = p.size;\n      }\n    }\n    setForm({\n      product_name: (_p$product_name = p.product_name) !== null && _p$product_name !== void 0 ? _p$product_name : '',\n      description: (_p$description = p.description) !== null && _p$description !== void 0 ? _p$description : '',\n      selling_price: asStr((_p$selling_price = p.selling_price) !== null && _p$selling_price !== void 0 ? _p$selling_price : ''),\n      category_id: asStr((_p$category_id = p.category_id) !== null && _p$category_id !== void 0 ? _p$category_id : ''),\n      subcategory_id: asStr((_p$subcategory_id = p.subcategory_id) !== null && _p$subcategory_id !== void 0 ? _p$subcategory_id : ''),\n      image_url: (_p$image_url = p.image_url) !== null && _p$image_url !== void 0 ? _p$image_url : '',\n      unit: (_p$unit = p.unit) !== null && _p$unit !== void 0 ? _p$unit : '',\n      size_value,\n      size_unit,\n      origin: (_p$origin = p.origin) !== null && _p$origin !== void 0 ? _p$origin : '',\n      product_status_id: asStr((_ref4 = (_p$product_status_id = p.product_status_id) !== null && _p$product_status_id !== void 0 ? _p$product_status_id : p.ProductStatusID) !== null && _ref4 !== void 0 ? _ref4 : '')\n    });\n    setIsEditing(true);\n    setEditProductId(p.product_id);\n    setActiveTab('products');\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n  const clearForm = () => {\n    setForm({\n      product_name: '',\n      description: '',\n      selling_price: '',\n      category_id: '',\n      subcategory_id: '',\n      image_url: '',\n      unit: '',\n      size_value: '',\n      size_unit: '',\n      origin: '',\n      product_status_id: ''\n    });\n    setSelectedFiles([]);\n    setIsEditing(false);\n    setEditProductId(null);\n  };\n  const onSubmit = async e => {\n    var _form$selling_price;\n    e.preventDefault();\n    const trimmed = String((_form$selling_price = form.selling_price) !== null && _form$selling_price !== void 0 ? _form$selling_price : '').trim();\n    const priceInt = parseInt(trimmed, 10);\n    if (!Number.isInteger(priceInt) || priceInt < 0 || String(priceInt) !== trimmed.replace(/^0+(?=\\d)/, '')) return alert('ราคาขายต้องเป็นจำนวนเต็มไม่ติดลบ');\n    let sizeText = '';\n    if (form.size_value) sizeText = form.size_unit ? `${form.size_value} ${form.size_unit}` : String(form.size_value);\n    let uploadedUrls = [];\n    if (selectedFiles.length > 0) {\n      try {\n        uploadedUrls = (await Promise.all(selectedFiles.map(f => uploadImage(f)))).filter(Boolean);\n      } catch (err) {\n        return handleApiError(err, '❌ อัปโหลดรูปไม่สำเร็จ');\n      }\n    }\n    const primaryImageUrl = uploadedUrls[0] || (form.image_url || '').trim();\n    const body = {\n      product_name: form.product_name,\n      description: form.description,\n      image_url: primaryImageUrl || '',\n      selling_price: priceInt,\n      category_id: form.category_id || null,\n      subcategory_id: form.subcategory_id || null,\n      product_status_id: form.product_status_id || null,\n      ...(form.unit ? {\n        unit: form.unit\n      } : {}),\n      ...(sizeText ? {\n        size: sizeText\n      } : {}),\n      ...(form.origin ? {\n        origin: form.origin\n      } : {})\n    };\n    try {\n      let pid = editProductId;\n      if (isEditing && pid) {\n        await api.put(path(`/admin/products/${pid}`), body);\n      } else {\n        var _ref5, _ref6, _res$data$product_id, _res$data7, _res$data8, _res$data9;\n        const res = await api.post(path('/admin/products'), body);\n        pid = (_ref5 = (_ref6 = (_res$data$product_id = res === null || res === void 0 ? void 0 : (_res$data7 = res.data) === null || _res$data7 === void 0 ? void 0 : _res$data7.product_id) !== null && _res$data$product_id !== void 0 ? _res$data$product_id : res === null || res === void 0 ? void 0 : (_res$data8 = res.data) === null || _res$data8 === void 0 ? void 0 : _res$data8.id) !== null && _ref6 !== void 0 ? _ref6 : res === null || res === void 0 ? void 0 : (_res$data9 = res.data) === null || _res$data9 === void 0 ? void 0 : _res$data9.ProductID) !== null && _ref5 !== void 0 ? _ref5 : pid;\n      }\n      if (pid && uploadedUrls.length > 0) {\n        const imagesPayload = uploadedUrls.map((url, i) => {\n          var _previews$i;\n          return {\n            url,\n            alt_text: ((_previews$i = previews[i]) === null || _previews$i === void 0 ? void 0 : _previews$i.name) || null,\n            is_primary: i === 0,\n            position: i + 1\n          };\n        });\n        try {\n          await api.post(path(`/admin/products/${pid}/images`), {\n            images: imagesPayload\n          });\n        } catch {\n          for (const img of imagesPayload) {\n            try {\n              try {\n                await api.post(path('/product-images'), {\n                  product_id: pid,\n                  ...img\n                });\n              } catch {\n                await api.post(path('/admin/product-images'), {\n                  product_id: pid,\n                  ...img\n                });\n              }\n            } catch (e) {\n              var _e$response;\n              console.warn('บันทึกรูปไม่สำเร็จ', (e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.data) || (e === null || e === void 0 ? void 0 : e.message) || e);\n            }\n          }\n        }\n      }\n      await fetchProducts();\n      clearForm();\n    } catch (err) {\n      handleApiError(err, '❌ บันทึกสินค้าไม่สำเร็จ');\n    }\n  };\n  const archiveProduct = async id => {\n    if (!window.confirm('ย้ายสินค้านี้ไปถังเก็บใช่ไหม?')) return;\n    try {\n      await api.delete(path(`/admin/products/${id}`));\n      fetchProducts();\n    } catch (e) {\n      handleApiError(e, '❌ เก็บสินค้าไม่สำเร็จ');\n    }\n  };\n  const unarchiveProduct = async id => {\n    try {\n      await api.patch(path(`/admin/products/${id}/unarchive`));\n      fetchProducts();\n    } catch (e) {\n      handleApiError(e, '❌ กู้คืนสินค้าไม่สำเร็จ');\n    }\n  };\n  const statusOptions = useMemo(() => [/*#__PURE__*/_jsxDEV(\"option\", {\n    value: \"\",\n    children: \"\\u2014 \\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30 \\u2014\"\n  }, \"\", false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 39\n  }, this), ...statuses.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n    value: asStr(s.id),\n    children: s.name || '(ไม่มีชื่อ)'\n  }, s.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 107\n  }, this))], [JSON.stringify(statuses)]);\n  const categoryOptions = useMemo(() => [/*#__PURE__*/_jsxDEV(\"option\", {\n    value: \"\",\n    children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n  }, \"\", false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 41\n  }, this), ...categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n    value: asStr(c.category_id),\n    children: c.category_name\n  }, c.category_id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 108\n  }, this))], [JSON.stringify(categories)]);\n  const filteredSubcategories = useMemo(() => {\n    if (!form.category_id) return [];\n    const cid = asStr(form.category_id);\n    return (subcategories || []).filter(s => asStr(s.category_id) === cid);\n  }, [form.category_id, JSON.stringify(subcategories)]);\n  const subcategoryOptions = useMemo(() => [/*#__PURE__*/_jsxDEV(\"option\", {\n    value: \"\",\n    children: form.category_id ? 'เลือกหมวดหมู่' : 'เลือกประเภทก่อน'\n  }, \"\", false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 44\n  }, this), ...filteredSubcategories.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n    value: asStr(s.subcategory_id),\n    children: s.subcategory_name\n  }, s.subcategory_id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 163\n  }, this))], [filteredSubcategories, form.category_id]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 12\n    },\n    children: \"\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pm-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        margin: '12px 0 20px'\n      },\n      children: [{\n        key: 'products',\n        label: '📦 สินค้า'\n      }, {\n        key: 'categories',\n        label: '📂 ประเภท'\n      }, {\n        key: 'subcategories',\n        label: '🗂️ หมวดย่อย'\n      }, {\n        key: 'units',\n        label: '📏 หน่วยสินค้า'\n      }, {\n        key: 'sizeunits',\n        label: '📐 หน่วยขนาด'\n      }].map(t => {\n        const active = activeTab === t.key;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(t.key),\n          style: {\n            padding: '8px 12px',\n            border: '1px solid ' + (active ? '#2e7d32' : '#d8e2dc'),\n            borderRadius: 8,\n            cursor: 'pointer',\n            background: active ? '#2e7d32' : '#fff',\n            color: active ? '#fff' : '#333',\n            fontWeight: 600\n          },\n          children: t.label\n        }, t.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), activeTab === 'products' && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: isEditing ? 'แก้ไขสินค้า' : 'เพิ่มสินค้าใหม่'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmit,\n          className: \"pm-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"product_name\",\n            placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n            value: form.product_name,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"selling_price\",\n            type: \"number\",\n            min: \"0\",\n            step: \"1\",\n            inputMode: \"numeric\",\n            placeholder: \"\\u0E23\\u0E32\\u0E04\\u0E32\\u0E02\\u0E32\\u0E22 (\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E40\\u0E15\\u0E47\\u0E21\\u0E40\\u0E17\\u0E48\\u0E32\\u0E19\\u0E31\\u0E49\\u0E19)\",\n            value: form.selling_price,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-input-group pm-row-3 col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"size_value\",\n              type: \"number\",\n              min: \"0\",\n              step: \"1\",\n              inputMode: \"decimal\",\n              placeholder: \"\\u0E02\\u0E19\\u0E32\\u0E14\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 (\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E02)\",\n              value: form.size_value,\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"size_unit\",\n              value: form.size_unit,\n              onChange: onChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u2014 \\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E02\\u0E19\\u0E32\\u0E14 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 85\n              }, this), sizeUnits.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u.label,\n                children: u.label\n              }, u.code, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 147\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"unit\",\n              value: form.unit,\n              onChange: onChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u2014 \\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 75\n              }, this), productUnits.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: u.label,\n                children: u.label\n              }, u.code, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 142\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"origin\",\n            placeholder: \"\\u0E41\\u0E2B\\u0E25\\u0E48\\u0E07\\u0E17\\u0E35\\u0E48\\u0E21\\u0E32\",\n            value: form.origin,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"product_status_id\",\n            value: form.product_status_id,\n            onChange: onChange,\n            children: statusOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"category_id\",\n            value: form.category_id,\n            onChange: onChange,\n            children: categoryOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"subcategory_id\",\n            value: form.subcategory_id,\n            onChange: onChange,\n            disabled: !form.category_id,\n            children: subcategoryOptions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"col-span-2\",\n            name: \"description\",\n            placeholder: \"\\u0E04\\u0E33\\u0E2D\\u0E18\\u0E34\\u0E1A\\u0E32\\u0E22\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n            value: form.description,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"col-span-2\",\n            name: \"image_url\",\n            placeholder: \"URL \\u0E23\\u0E39\\u0E1B (\\u0E2B\\u0E32\\u0E01\\u0E44\\u0E21\\u0E48\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14)\",\n            value: form.image_url,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"col-span-2\",\n            type: \"file\",\n            accept: \"image/*\",\n            multiple: true,\n            onChange: onFiles\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), previews.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-files-preview col-span-2\",\n            children: previews.map((p, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pm-file\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pm-badge\",\n                children: idx === 0 ? '★' : idx + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: p.url,\n                alt: p.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pm-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pm-name\",\n                  title: p.name,\n                  children: p.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pm-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-xxs\",\n                    onClick: () => moveSelected(idx, -1),\n                    disabled: idx === 0,\n                    children: \"\\u2191\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-xxs\",\n                    onClick: () => moveSelected(idx, +1),\n                    disabled: idx === previews.length - 1,\n                    children: \"\\u2193\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-xxs danger\",\n                    onClick: () => removeSelectedAt(idx),\n                    children: \"\\u0E25\\u0E1A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 23\n              }, this)]\n            }, p.url, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pm-actions col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: isEditing ? 'อัปเดต' : 'บันทึก'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-ghost\",\n              onClick: clearForm,\n              children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 8,\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-ghost\",\n            onClick: () => setActiveTab('categories'),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-ghost\",\n            onClick: () => setActiveTab('subcategories'),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-ghost\",\n            onClick: () => setActiveTab('units'),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-ghost\",\n            onClick: () => setActiveTab('sizeunits'),\n            children: \"+ \\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E02\\u0E19\\u0E32\\u0E14\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-toolbar\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"pm-check\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showArchived,\n            onChange: e => setShowArchived(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 41\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E17\\u0E35\\u0E48\\u0E40\\u0E01\\u0E47\\u0E1A\\u0E41\\u0E25\\u0E49\\u0E27\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 136\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-table-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"pm-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E23\\u0E32\\u0E04\\u0E32\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E04\\u0E07\\u0E40\\u0E2B\\u0E25\\u0E37\\u0E2D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 54\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 70\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 87\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 101\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [(products || []).map(p => {\n              var _p$selling_price2, _ref7, _p$stock, _p$product_status_nam;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [p.product_name, p.is_archived && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge-archived\",\n                    children: \"\\u0E40\\u0E01\\u0E47\\u0E1A\\u0E41\\u0E25\\u0E49\\u0E27\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 59\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: Number((_p$selling_price2 = p.selling_price) !== null && _p$selling_price2 !== void 0 ? _p$selling_price2 : 0).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: (_ref7 = (_p$stock = p.stock) !== null && _p$stock !== void 0 ? _p$stock : p.stock_quantity) !== null && _ref7 !== void 0 ? _ref7 : 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: `${p.category_name || '-'} / ${p.subcategory_name || '-'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: (_p$product_status_nam = p.product_status_name) !== null && _p$product_status_nam !== void 0 ? _p$product_status_nam : pickStatusName(p)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"cell-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-ghost\",\n                    onClick: () => onEdit(p),\n                    children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 23\n                  }, this), !p.is_archived ? /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-warn\",\n                    onClick: () => archiveProduct(p.product_id),\n                    children: \"\\u0E22\\u0E49\\u0E32\\u0E22\\u0E44\\u0E1B\\u0E16\\u0E31\\u0E07\\u0E40\\u0E01\\u0E47\\u0E1A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 41\n                  }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary\",\n                    onClick: () => unarchiveProduct(p.product_id),\n                    children: \"\\u0E01\\u0E39\\u0E49\\u0E04\\u0E37\\u0E19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 142\n                  }, this), /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/admin/products/${p.product_id}/variants`,\n                    className: \"btn btn-ghost\",\n                    children: \"\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01/\\u0E02\\u0E19\\u0E32\\u0E14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 21\n                }, this)]\n              }, p.product_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this);\n            }), (!products || products.length === 0) && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 6,\n                style: {\n                  color: '#777'\n                },\n                children: \"\\u2014 \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 60\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 56\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), activeTab === 'categories' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-actions mt-8\",\n        style: {\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"category_id (\\u0E40\\u0E27\\u0E49\\u0E19\\u0E44\\u0E14\\u0E49\\u0E43\\u0E2B\\u0E49\\u0E23\\u0E30\\u0E1A\\u0E1A gen)\",\n          value: newCat.category_id,\n          onChange: e => setNewCat({\n            ...newCat,\n            category_id: e.target.value\n          }),\n          style: {\n            maxWidth: 220\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"category_name\",\n          value: newCat.category_name,\n          onChange: e => setNewCat({\n            ...newCat,\n            category_name: e.target.value\n          }),\n          style: {\n            minWidth: 220\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: async () => {\n            if (!newCat.category_name.trim()) return alert('ใส่ category_name ก่อน');\n            try {\n              var _newCat$category_id;\n              await api.post(path('/categories'), {\n                category_id: ((_newCat$category_id = newCat.category_id) === null || _newCat$category_id === void 0 ? void 0 : _newCat$category_id.trim()) || undefined,\n                category_name: newCat.category_name.trim()\n              });\n              await fetchCategories();\n              setNewCat({\n                category_id: '',\n                category_name: ''\n              });\n            } catch (e) {\n              handleApiError(e, '❌ เพิ่มประเภทไม่สำเร็จ');\n            }\n          },\n          children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-table-wrap mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"pm-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 140\n                },\n                children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 280\n                },\n                children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 280\n                },\n                children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 120\n                },\n                children: \"\\u0E23\\u0E39\\u0E1B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [(categories || []).map(c => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: c.category_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: c.category_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cell-actions\",\n                style: {\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-ghost\",\n                  onClick: async () => {\n                    const name = window.prompt('ชื่อประเภทใหม่', c.category_name);\n                    if (name === null) return;\n                    const trimmed = name.trim();\n                    if (!trimmed || trimmed === c.category_name) return;\n                    try {\n                      await api.put(path(`/categories/${c.category_id}`), {\n                        category_name: trimmed\n                      });\n                      await fetchCategories();\n                    } catch (e) {\n                      handleApiError(e, '❌ แก้ไขประเภทไม่สำเร็จ');\n                    }\n                  },\n                  children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger\",\n                  onClick: async () => {\n                    if (!window.confirm(`ลบประเภท \"${c.category_name}\" ?`)) return;\n                    try {\n                      await api.delete(path(`/categories/${c.category_id}`));\n                      await fetchCategories();\n                      await fetchSubcategories();\n                    } catch (e) {\n                      handleApiError(e, '❌ ลบประเภทไม่สำเร็จ');\n                    }\n                  },\n                  children: \"\\u0E25\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cell-actions\",\n                style: {\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"btn btn-ghost\",\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: [\"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    hidden: true,\n                    onChange: async e => {\n                      var _e$target$files;\n                      const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n                      if (!f) return;\n                      try {\n                        const url = await uploadCategoryImage(f);\n                        if (!url) return alert('อัปโหลดไม่สำเร็จ');\n                        await api.put(path(`/categories/${c.category_id}`), {\n                          image_url: url\n                        });\n                        await fetchCategories();\n                      } catch (err) {\n                        handleApiError(err, '❌ อัปโหลด/บันทึกรูปประเภทไม่สำเร็จ');\n                      } finally {\n                        e.target.value = '';\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warn\",\n                  disabled: !c.image_url,\n                  onClick: async () => {\n                    if (!window.confirm(`ล้างภาพของ \"${c.category_name}\" ใช่ไหม?`)) return;\n                    try {\n                      await api.put(path(`/categories/${c.category_id}`), {\n                        image_url: null\n                      });\n                      await fetchCategories();\n                    } catch (e) {\n                      handleApiError(e, '❌ ล้างภาพไม่สำเร็จ');\n                    }\n                  },\n                  children: \"\\u0E25\\u0E49\\u0E32\\u0E07\\u0E20\\u0E32\\u0E1E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: c.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: resolveUrl(c.image_url),\n                  alt: c.category_name,\n                  style: {\n                    width: 64,\n                    height: 64,\n                    objectFit: 'cover',\n                    borderRadius: 8,\n                    border: '1px solid #eee'\n                  },\n                  onError: e => {\n                    e.currentTarget.style.opacity = 0.5;\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: 64,\n                    height: 64,\n                    borderRadius: 8,\n                    border: '1px dashed #ddd',\n                    display: 'grid',\n                    placeItems: 'center',\n                    color: '#9aa',\n                    fontSize: 12\n                  },\n                  children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 21\n              }, this)]\n            }, c.category_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this)), (!categories || categories.length === 0) && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 5,\n                style: {\n                  color: '#777'\n                },\n                children: \"\\u2014 \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 64\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 60\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }, this), activeTab === 'subcategories' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\\u0E22\\u0E48\\u0E2D\\u0E22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-actions mt-8\",\n        style: {\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"subcategory_id (\\u0E40\\u0E27\\u0E49\\u0E19\\u0E44\\u0E14\\u0E49\\u0E43\\u0E2B\\u0E49\\u0E23\\u0E30\\u0E1A\\u0E1A gen)\",\n          value: newSub.subcategory_id,\n          onChange: e => setNewSub({\n            ...newSub,\n            subcategory_id: e.target.value\n          }),\n          style: {\n            maxWidth: 240\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"subcategory_name\",\n          value: newSub.subcategory_name,\n          onChange: e => setNewSub({\n            ...newSub,\n            subcategory_name: e.target.value\n          }),\n          style: {\n            minWidth: 240\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: newSub.category_id,\n          onChange: e => setNewSub({\n            ...newSub,\n            category_id: e.target.value\n          }),\n          style: {\n            minWidth: 200\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E2B\\u0E25\\u0E31\\u0E01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), (categories || []).map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: asStr(c.category_id),\n            children: c.category_name\n          }, c.category_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 40\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: async () => {\n            if (!newSub.subcategory_name.trim() || !newSub.category_id) return alert('ใส่ชื่อหมวดย่อย + เลือกประเภทหลัก');\n            try {\n              var _newSub$subcategory_i;\n              await api.post(path('/subcategories'), {\n                subcategory_id: ((_newSub$subcategory_i = newSub.subcategory_id) === null || _newSub$subcategory_i === void 0 ? void 0 : _newSub$subcategory_i.trim()) || undefined,\n                subcategory_name: newSub.subcategory_name.trim(),\n                category_id: newSub.category_id.trim()\n              });\n              await fetchSubcategories();\n              setNewSub({\n                subcategory_id: '',\n                subcategory_name: '',\n                category_id: ''\n              });\n            } catch (e) {\n              handleApiError(e, '❌ เพิ่มหมวดย่อยไม่สำเร็จ');\n            }\n          },\n          children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\\u0E22\\u0E48\\u0E2D\\u0E22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-table-wrap mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"pm-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 140\n                },\n                children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 160\n                },\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 280\n                },\n                children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 280\n                },\n                children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E23\\u0E39\\u0E1B\\u0E20\\u0E32\\u0E1E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: 120\n                },\n                children: \"\\u0E23\\u0E39\\u0E1B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [(subcategories || []).map(s => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: s.subcategory_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: s.subcategory_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: s.category_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cell-actions\",\n                style: {\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-ghost\",\n                  onClick: async () => {\n                    const name = window.prompt('ชื่อหมวดย่อยใหม่', s.subcategory_name);\n                    if (!name) return;\n                    const newCat = window.prompt('ย้ายไปประเภทไหน? (พิมพ์ category_id | เว้นว่าง=ไม่ย้าย)', s.category_id);\n                    const payload = {\n                      subcategory_name: name.trim()\n                    };\n                    if (newCat !== null && newCat.trim() !== '' && newCat !== s.category_id) payload.category_id = newCat.trim();\n                    try {\n                      await api.put(path(`/subcategories/${s.subcategory_id}`), payload);\n                      await fetchSubcategories();\n                    } catch (e) {\n                      handleApiError(e, '❌ แก้ไขหมวดย่อยไม่สำเร็จ');\n                    }\n                  },\n                  children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger\",\n                  onClick: async () => {\n                    if (!window.confirm(`ลบหมวดหมู่ย่อย \"${s.subcategory_name}\" ?`)) return;\n                    try {\n                      await api.delete(path(`/subcategories/${s.subcategory_id}`));\n                      await fetchSubcategories();\n                    } catch (e) {\n                      handleApiError(e, '❌ ลบหมวดย่อยไม่สำเร็จ');\n                    }\n                  },\n                  children: \"\\u0E25\\u0E1A\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cell-actions\",\n                style: {\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"btn btn-ghost\",\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  children: [\"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E23\\u0E39\\u0E1B\", /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    hidden: true,\n                    onChange: async e => {\n                      var _e$target$files2;\n                      const f = (_e$target$files2 = e.target.files) === null || _e$target$files2 === void 0 ? void 0 : _e$target$files2[0];\n                      if (!f) return;\n                      try {\n                        const url = await uploadSubcatImage(f);\n                        if (!url) return alert('อัปโหลดไม่สำเร็จ');\n                        await api.put(path(`/subcategories/${s.subcategory_id}`), {\n                          image_url: url\n                        });\n                        await fetchSubcategories();\n                      } catch (err) {\n                        handleApiError(err, '❌ อัปโหลด/บันทึกรูปหมวดย่อยไม่สำเร็จ');\n                      } finally {\n                        e.target.value = '';\n                      }\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warn\",\n                  disabled: !s.image_url,\n                  onClick: async () => {\n                    if (!window.confirm(`ล้างภาพของ \"${s.subcategory_name}\" ใช่ไหม?`)) return;\n                    try {\n                      await api.put(path(`/subcategories/${s.subcategory_id}`), {\n                        image_url: null\n                      });\n                      await fetchSubcategories();\n                    } catch (e) {\n                      handleApiError(e, '❌ ล้างภาพไม่สำเร็จ');\n                    }\n                  },\n                  children: \"\\u0E25\\u0E49\\u0E32\\u0E07\\u0E20\\u0E32\\u0E1E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: s.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: resolveUrl(s.image_url),\n                  alt: s.subcategory_name,\n                  style: {\n                    width: 64,\n                    height: 64,\n                    objectFit: 'cover',\n                    borderRadius: 8,\n                    border: '1px solid #eee'\n                  },\n                  onError: e => {\n                    e.currentTarget.style.opacity = 0.5;\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    width: 64,\n                    height: 64,\n                    borderRadius: 8,\n                    border: '1px dashed #ddd',\n                    display: 'grid',\n                    placeItems: 'center',\n                    color: '#9aa',\n                    fontSize: 12\n                  },\n                  children: \"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E23\\u0E39\\u0E1B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this)]\n            }, s.subcategory_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 19\n            }, this)), (!subcategories || subcategories.length === 0) && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 6,\n                style: {\n                  color: '#777'\n                },\n                children: \"\\u2014 \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E22\\u0E48\\u0E2D\\u0E22 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 66\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }, this), activeTab === 'units' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-actions mt-8\",\n        style: {\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E0A\\u0E34\\u0E49\\u0E19, \\u0E01\\u0E23\\u0E30\\u0E16\\u0E32\\u0E07, \\u0E41\\u0E1E\\u0E47\\u0E04\",\n          value: newProdUnit,\n          onChange: e => setNewProdUnit(e.target.value),\n          style: {\n            minWidth: 260\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: () => {\n            const name = newProdUnit.trim();\n            if (!name) return;\n            if (productUnits.some(u => u.label === name)) return alert(`มี \"${name}\" อยู่แล้ว`);\n            setProductUnits([...productUnits, {\n              code: name.toLowerCase().replace(/\\s+/g, '_'),\n              label: name\n            }]);\n            setNewProdUnit('');\n          },\n          children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-table-wrap mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"pm-table\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [productUnits.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  width: 200\n                },\n                children: u.code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: u.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cell-actions\",\n                style: {\n                  width: 220\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-ghost\",\n                  onClick: () => {\n                    const name = window.prompt('ชื่อหน่วยใหม่', u.label);\n                    if (!name || name.trim() === u.label) return;\n                    if (productUnits.some(x => x.label === name.trim())) return alert(`มี \"${name.trim()}\" อยู่แล้ว`);\n                    const next = productUnits.map(x => x.code === u.code ? {\n                      code: name.trim().toLowerCase().replace(/\\s+/g, '_'),\n                      label: name.trim()\n                    } : x);\n                    setProductUnits(next);\n                    setForm(p => ({\n                      ...p,\n                      unit: p.unit === u.label ? name.trim() : p.unit\n                    }));\n                  },\n                  children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger\",\n                  onClick: () => {\n                    if (!window.confirm(`ลบ \"${u.label}\" ?`)) return;\n                    const next = productUnits.filter(x => x.code !== u.code);\n                    setProductUnits(next);\n                    setForm(p => ({\n                      ...p,\n                      unit: p.unit === u.label ? '' : p.unit\n                    }));\n                  },\n                  children: \"\\u0E25\\u0E1A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)]\n            }, u.code, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 19\n            }, this)), productUnits.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 3,\n                style: {\n                  color: '#777'\n                },\n                children: \"\\u2014 \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 9\n    }, this), activeTab === 'sizeunits' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-16\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E02\\u0E19\\u0E32\\u0E14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-actions mt-8\",\n        style: {\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E0B\\u0E21., \\u0E21\\u0E21., \\u0E19\\u0E34\\u0E49\\u0E27\",\n          value: newSizeUnit,\n          onChange: e => setNewSizeUnit(e.target.value),\n          style: {\n            minWidth: 260\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: () => {\n            const name = newSizeUnit.trim();\n            if (!name) return;\n            if (sizeUnits.some(u => u.label === name)) return alert(`มี \"${name}\" อยู่แล้ว`);\n            setSizeUnits([...sizeUnits, {\n              code: name.toLowerCase().replace(/\\s+/g, '_'),\n              label: name\n            }]);\n            setNewSizeUnit('');\n          },\n          children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E02\\u0E19\\u0E32\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pm-table-wrap mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"pm-table\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [sizeUnits.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  width: 200\n                },\n                children: u.code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: u.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cell-actions\",\n                style: {\n                  width: 220\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-ghost\",\n                  onClick: () => {\n                    const name = window.prompt('ชื่อหน่วยใหม่', u.label);\n                    if (!name || name.trim() === u.label) return;\n                    if (sizeUnits.some(x => x.label === name.trim())) return alert(`มี \"${name.trim()}\" อยู่แล้ว`);\n                    const next = sizeUnits.map(x => x.code === u.code ? {\n                      code: name.trim().toLowerCase().replace(/\\s+/g, '_'),\n                      label: name.trim()\n                    } : x);\n                    setSizeUnits(next);\n                    setForm(p => ({\n                      ...p,\n                      size_unit: p.size_unit === u.label ? name.trim() : p.size_unit\n                    }));\n                  },\n                  children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger\",\n                  onClick: () => {\n                    if (!window.confirm(`ลบ \"${u.label}\" ?`)) return;\n                    const next = sizeUnits.filter(x => x.code !== u.code);\n                    setSizeUnits(next);\n                    setForm(p => ({\n                      ...p,\n                      size_unit: p.size_unit === u.label ? '' : p.size_unit\n                    }));\n                  },\n                  children: \"\\u0E25\\u0E1A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this)]\n            }, u.code, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 19\n            }, this)), sizeUnits.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 3,\n                style: {\n                  color: '#777'\n                },\n                children: \"\\u2014 \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22 \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 42\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n_s(ProductManagement, \"IPrF2xsJfuSgFp613/MdLEG98Jk=\");\n_c = ProductManagement;\nvar _c;\n$RefreshReg$(_c, \"ProductManagement\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","api","path","jsxDEV","_jsxDEV","Fragment","_Fragment","asStr","v","undefined","String","pickStatusName","x","_ref","_ref2","_x$status_name","status_name","StatusName","name","API_BASE","_api$defaults","defaults","baseURL","process","env","REACT_APP_API_BASE","ABS_BASE","replace","resolveUrl","u","s","test","startsWith","DEFAULT_PRODUCT_UNITS","code","label","DEFAULT_SIZE_UNITS","ProductManagement","_s","products","setProducts","categories","setCategories","subcategories","setSubcategories","statuses","setStatuses","loading","setLoading","showArchived","setShowArchived","activeTab","setActiveTab","productUnits","setProductUnits","sizeUnits","setSizeUnits","newProdUnit","setNewProdUnit","newSizeUnit","setNewSizeUnit","form","setForm","product_name","description","selling_price","category_id","subcategory_id","image_url","unit","size_value","size_unit","origin","product_status_id","selectedFiles","setSelectedFiles","previews","setPreviews","isEditing","setIsEditing","editProductId","setEditProductId","newCat","setNewCat","category_name","newSub","setNewSub","subcategory_name","handleApiError","err","fallback","_err$response","_err$response2","_err$response2$data","console","error","response","data","message","alert","fetchProducts","get","params","include_archived","Array","isArray","items","e","fetchCategories","fetchSubcategories","fetchStatuses","res","map","_ref3","_x$product_status_id","id","ProductStatusID","uploadImage","file","sendWith","field","_res$data","_res$data2","_res$data3","_res$data4","fd","FormData","append","post","headers","imageUrl","url","location","e1","e2","uploadSubcatImage","_res$data5","uploadCategoryImage","_res$data6","Promise","all","onChange","value","target","p","onFiles","from","files","length","urls","f","URL","createObjectURL","forEach","revokeObjectURL","removeSelectedAt","i","prev","filter","_","idx","moveSelected","dir","a","to","onEdit","_p$product_name","_p$description","_p$selling_price","_p$category_id","_p$subcategory_id","_p$image_url","_p$unit","_p$origin","_ref4","_p$product_status_id","size","m","trim","match","product_id","window","scrollTo","top","behavior","clearForm","onSubmit","_form$selling_price","preventDefault","trimmed","priceInt","parseInt","Number","isInteger","sizeText","uploadedUrls","Boolean","primaryImageUrl","body","pid","put","_ref5","_ref6","_res$data$product_id","_res$data7","_res$data8","_res$data9","ProductID","imagesPayload","_previews$i","alt_text","is_primary","position","images","img","_e$response","warn","archiveProduct","confirm","delete","unarchiveProduct","patch","statusOptions","children","fileName","_jsxFileName","lineNumber","columnNumber","JSON","stringify","categoryOptions","c","filteredSubcategories","cid","subcategoryOptions","style","padding","className","display","gap","margin","key","t","active","onClick","border","borderRadius","cursor","background","color","fontWeight","placeholder","type","min","step","inputMode","disabled","accept","multiple","src","alt","title","marginTop","checked","_p$selling_price2","_ref7","_p$stock","_p$product_status_nam","is_archived","toLocaleString","stock","stock_quantity","product_status_name","colSpan","flexWrap","maxWidth","minWidth","_newCat$category_id","width","prompt","hidden","_e$target$files","height","objectFit","onError","currentTarget","opacity","placeItems","fontSize","_newSub$subcategory_i","payload","_e$target$files2","some","toLowerCase","next","_c","$RefreshReg$"],"sources":["D:/project19/frontend/src/admin/ProductManagement.js"],"sourcesContent":["// [FRONTEND] src/admin/ProductManagement.js\r\n// ... (เหมือนเดิมส่วน import / helpers)\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './ProductManagement.css';\r\nimport { api, path } from '../lib/api';\r\n\r\nconst asStr = (v) => (v === null || v === undefined) ? '' : String(v);\r\nconst pickStatusName = (x) => x?.status_name ?? x?.StatusName ?? x?.name ?? '';\r\n\r\nconst API_BASE = (api?.defaults?.baseURL) || process.env.REACT_APP_API_BASE || 'http://localhost:3001';\r\nconst ABS_BASE = String(API_BASE).replace(/\\/+$/,'');\r\nconst resolveUrl = (u) => {\r\n  if (!u) return '';\r\n  const s = String(u);\r\n  if (/^(https?:|blob:)/i.test(s)) return s;\r\n  if (s.startsWith('/uploads/')) return `${ABS_BASE}${s}`;\r\n  return s;\r\n};\r\n\r\nconst DEFAULT_PRODUCT_UNITS = [\r\n  { code: 'plant', label: 'ต้น' }, { code: 'piece', label: 'ชิ้น' }, { code: 'pot', label: 'กระถาง' },\r\n  { code: 'bag', label: 'ถุง' }, { code: 'pack', label: 'แพ็ค' }, { code: 'kg', label: 'กิโลกรัม' },\r\n  { code: 'g', label: 'กรัม' }, { code: 'ltr', label: 'ลิตร' }, { code: 'ml', label: 'มิลลิลิตร' },\r\n];\r\nconst DEFAULT_SIZE_UNITS = [\r\n  { code: 'mm', label: 'มม.' }, { code: 'cm', label: 'ซม.' }, { code: 'm', label: 'ม.' },\r\n  { code: 'inch', label: 'นิ้ว' }, { code: 'kg', label: 'กก.' }, { code: 'ltr', label: 'ลิตร' },\r\n];\r\n\r\nexport default function ProductManagement() {\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [subcategories, setSubcategories] = useState([]);\r\n  const [statuses, setStatuses] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showArchived, setShowArchived] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('products');\r\n\r\n  const [productUnits, setProductUnits] = useState(DEFAULT_PRODUCT_UNITS);\r\n  const [sizeUnits, setSizeUnits] = useState(DEFAULT_SIZE_UNITS);\r\n  const [newProdUnit, setNewProdUnit] = useState('');\r\n  const [newSizeUnit, setNewSizeUnit] = useState('');\r\n\r\n  const [form, setForm] = useState({\r\n    product_name:'', description:'', selling_price:'', category_id:'', subcategory_id:'',\r\n    image_url:'', unit:'', size_value:'', size_unit:'', origin:'', product_status_id:''\r\n  });\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [previews, setPreviews] = useState([]);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editProductId, setEditProductId] = useState(null);\r\n\r\n  const [newCat, setNewCat] = useState({ category_id:'', category_name:'' });\r\n  const [newSub, setNewSub] = useState({ subcategory_id:'', subcategory_name:'', category_id:'' });\r\n\r\n  const handleApiError = (err, fallback='เกิดข้อผิดพลาด') => {\r\n    console.error(fallback, err?.response?.data || err?.message || err);\r\n    alert(err?.response?.data?.error || err?.message || fallback);\r\n  };\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const { data } = await api.get(path('/admin/products'), { params:{ include_archived: showArchived?1:0 } });\r\n      setProducts((Array.isArray(data?.items)?data.items:data) || []);\r\n    } catch (e) { handleApiError(e, '❌ โหลดสินค้าไม่สำเร็จ'); }\r\n  };\r\n  const fetchCategories = async () => {\r\n    try { const { data } = await api.get(path('/categories')); setCategories(data||[]); }\r\n    catch (e) { handleApiError(e, '❌ โหลดประเภทไม่สำเร็จ'); }\r\n  };\r\n  const fetchSubcategories = async () => {\r\n    try { const { data } = await api.get(path('/subcategories')); setSubcategories(data||[]); }\r\n    catch (e) { handleApiError(e, '❌ โหลดหมวดย่อยไม่สำเร็จ'); }\r\n  };\r\n  const fetchStatuses = async () => {\r\n    try {\r\n      let res = await api.get(path('/product-status'));\r\n      if (!Array.isArray(res.data)) { try { res = await api.get(path('/product-statuses')); } catch {} }\r\n      setStatuses((res.data||[]).map(x=>({ id:asStr(x?.product_status_id ?? x?.ProductStatusID ?? x?.id), name:pickStatusName(x) })));\r\n    } catch { setStatuses([]); }\r\n  };\r\n\r\n  async function uploadImage(file){\r\n    if(!file) return null;\r\n    const sendWith = async (field)=>{\r\n      const fd = new FormData(); fd.append(field,file);\r\n      const res = await api.post(path('/upload'), fd, { headers:{'Content-Type':'multipart/form-data'} });\r\n      return res?.data?.imageUrl || res?.data?.url || res?.data?.path || res?.data?.location || null;\r\n    };\r\n    try { return await sendWith('file'); }\r\n    catch(e1){ try { return await sendWith('image'); } catch(e2){ try { return await sendWith('photo'); } catch{ throw e2; } } }\r\n  }\r\n  async function uploadSubcatImage(file){\r\n    const fd = new FormData(); fd.append('file', file);\r\n    const res = await api.post(path('/uploads/subcategory-image'), fd, { headers:{'Content-Type':'multipart/form-data'} });\r\n    return res?.data?.url || null;\r\n  }\r\n  async function uploadCategoryImage(file){\r\n    const fd = new FormData(); fd.append('file', file);\r\n    const res = await api.post(path('/uploads/category-image'), fd, { headers:{'Content-Type':'multipart/form-data'} });\r\n    return res?.data?.url || null;\r\n  }\r\n\r\n  useEffect(()=>{ (async()=>{ setLoading(true); await Promise.all([fetchProducts(),fetchCategories(),fetchSubcategories(),fetchStatuses()]); setLoading(false); })(); }, [showArchived]);\r\n\r\n  const onChange = (e)=>{ const {name,value}=e.target; setForm(p=>({ ...p, [name]:value, ...(name==='category_id'?{ subcategory_id:'' }:{} ) })); };\r\n  const onFiles = (e)=> setSelectedFiles(Array.from(e.target.files||[]));\r\n  useEffect(()=>{ if(!selectedFiles?.length){setPreviews([]);return;} const urls=selectedFiles.map(f=>({name:f.name,url:URL.createObjectURL(f)})); setPreviews(urls); return ()=>urls.forEach(u=>URL.revokeObjectURL(u.url)); },[selectedFiles]);\r\n  const removeSelectedAt = (i)=> setSelectedFiles(prev=>prev.filter((_,idx)=>idx!==i));\r\n  const moveSelected = (i,dir)=> setSelectedFiles(prev=>{ const a=[...prev]; const to=i+dir; if(to<0||to>=a.length) return a; [a[i],a[to]]=[a[to],a[i]]; return a; });\r\n\r\n  const onEdit = (p)=>{\r\n    let size_value='', size_unit='';\r\n    if (p.size && typeof p.size==='string'){ const m=p.size.trim().match(/^(\\d+(?:\\.\\d+)?)\\s*(.+)$/); if(m){ size_value=m[1]; size_unit=m[2]; } else { size_value=p.size; } }\r\n    setForm({ product_name:p.product_name??'', description:p.description??'', selling_price:asStr(p.selling_price??''), category_id:asStr(p.category_id??''), subcategory_id:asStr(p.subcategory_id??''), image_url:p.image_url??'', unit:p.unit??'', size_value, size_unit, origin:p.origin??'', product_status_id:asStr(p.product_status_id ?? p.ProductStatusID ?? '') });\r\n    setIsEditing(true); setEditProductId(p.product_id); setActiveTab('products'); window.scrollTo({top:0,behavior:'smooth'});\r\n  };\r\n  const clearForm=()=>{ setForm({ product_name:'',description:'',selling_price:'',category_id:'',subcategory_id:'',image_url:'',unit:'',size_value:'',size_unit:'',origin:'',product_status_id:'' }); setSelectedFiles([]); setIsEditing(false); setEditProductId(null); };\r\n\r\n  const onSubmit = async (e)=>{\r\n    e.preventDefault();\r\n    const trimmed=String(form.selling_price??'').trim(); const priceInt=parseInt(trimmed,10);\r\n    if (!Number.isInteger(priceInt) || priceInt<0 || String(priceInt)!==trimmed.replace(/^0+(?=\\d)/,'')) return alert('ราคาขายต้องเป็นจำนวนเต็มไม่ติดลบ');\r\n\r\n    let sizeText=''; if(form.size_value) sizeText=form.size_unit?`${form.size_value} ${form.size_unit}`:String(form.size_value);\r\n\r\n    let uploadedUrls=[]; if(selectedFiles.length>0){ try { uploadedUrls=(await Promise.all(selectedFiles.map(f=>uploadImage(f)))).filter(Boolean); } catch(err){ return handleApiError(err,'❌ อัปโหลดรูปไม่สำเร็จ'); } }\r\n    const primaryImageUrl = uploadedUrls[0] || (form.image_url||'').trim();\r\n\r\n    const body={ product_name:form.product_name, description:form.description, image_url: primaryImageUrl||'', selling_price:priceInt, category_id:form.category_id||null, subcategory_id:form.subcategory_id||null, product_status_id:form.product_status_id||null, ...(form.unit?{unit:form.unit}:{}) , ...(sizeText?{size:sizeText}:{}) , ...(form.origin?{origin:form.origin}:{}) };\r\n\r\n    try{\r\n      let pid=editProductId;\r\n      if(isEditing && pid){ await api.put(path(`/admin/products/${pid}`), body); }\r\n      else { const res=await api.post(path('/admin/products'), body); pid=res?.data?.product_id ?? res?.data?.id ?? res?.data?.ProductID ?? pid; }\r\n      if(pid && uploadedUrls.length>0){\r\n        const imagesPayload = uploadedUrls.map((url,i)=>({ url, alt_text: previews[i]?.name || null, is_primary: i===0, position:i+1 }));\r\n        try { await api.post(path(`/admin/products/${pid}/images`), { images: imagesPayload }); }\r\n        catch{ for(const img of imagesPayload){ try{ try{ await api.post(path('/product-images'), { product_id:pid, ...img }); } catch{ await api.post(path('/admin/product-images'), { product_id:pid, ...img }); } } catch(e){ console.warn('บันทึกรูปไม่สำเร็จ',e?.response?.data||e?.message||e); } } }\r\n      }\r\n      await fetchProducts(); clearForm();\r\n    }catch(err){ handleApiError(err,'❌ บันทึกสินค้าไม่สำเร็จ'); }\r\n  };\r\n\r\n  const archiveProduct = async (id)=>{ if(!window.confirm('ย้ายสินค้านี้ไปถังเก็บใช่ไหม?')) return; try{ await api.delete(path(`/admin/products/${id}`)); fetchProducts(); }catch(e){ handleApiError(e,'❌ เก็บสินค้าไม่สำเร็จ'); } };\r\n  const unarchiveProduct = async (id)=>{ try{ await api.patch(path(`/admin/products/${id}/unarchive`)); fetchProducts(); }catch(e){ handleApiError(e,'❌ กู้คืนสินค้าไม่สำเร็จ'); } };\r\n\r\n  const statusOptions = useMemo(()=>[ <option key=\"\" value=\"\">— เลือกสถานะ —</option>, ...statuses.map(s=><option key={s.id} value={asStr(s.id)}>{s.name||'(ไม่มีชื่อ)'}</option>) ],[JSON.stringify(statuses)]);\r\n  const categoryOptions = useMemo(()=>[ <option key=\"\" value=\"\">เลือกประเภท</option>, ...categories.map(c=><option key={c.category_id} value={asStr(c.category_id)}>{c.category_name}</option>) ],[JSON.stringify(categories)]);\r\n  const filteredSubcategories = useMemo(()=>{ if(!form.category_id) return []; const cid=asStr(form.category_id); return (subcategories||[]).filter(s=>asStr(s.category_id)===cid); },[form.category_id, JSON.stringify(subcategories)]);\r\n  const subcategoryOptions = useMemo(()=>[ <option key=\"\" value=\"\">{form.category_id?'เลือกหมวดหมู่':'เลือกประเภทก่อน'}</option>, ...filteredSubcategories.map(s=><option key={s.subcategory_id} value={asStr(s.subcategory_id)}>{s.subcategory_name}</option>) ],[filteredSubcategories, form.category_id]);\r\n\r\n  if (loading) return <div style={{padding:12}}>กำลังโหลดข้อมูล…</div>;\r\n\r\n  return (\r\n    <div className=\"pm-page\">\r\n      {/* Tabs */}\r\n      <div style={{display:'flex', gap:8, margin:'12px 0 20px'}}>\r\n        {[\r\n          {key:'products',label:'📦 สินค้า'},\r\n          {key:'categories',label:'📂 ประเภท'},\r\n          {key:'subcategories',label:'🗂️ หมวดย่อย'},\r\n          {key:'units',label:'📏 หน่วยสินค้า'},\r\n          {key:'sizeunits',label:'📐 หน่วยขนาด'},\r\n        ].map(t=>{\r\n          const active=activeTab===t.key;\r\n          return <button key={t.key} onClick={()=>setActiveTab(t.key)}\r\n            style={{padding:'8px 12px',border:'1px solid '+(active?'#2e7d32':'#d8e2dc'),borderRadius:8,cursor:'pointer',background:active?'#2e7d32':'#fff',color:active?'#fff':'#333',fontWeight:600}}\r\n          >{t.label}</button>;\r\n        })}\r\n      </div>\r\n\r\n      {/* ===== สินค้า ===== */}\r\n      {activeTab==='products' && (\r\n        <>\r\n          <div className=\"pm-panel\">\r\n            <h2>{isEditing?'แก้ไขสินค้า':'เพิ่มสินค้าใหม่'}</h2>\r\n\r\n            {/* ฟอร์มสินค้า */}\r\n            <form onSubmit={onSubmit} className=\"pm-form\">\r\n              <input name=\"product_name\" placeholder=\"ชื่อสินค้า\" value={form.product_name} onChange={onChange}/>\r\n              <input name=\"selling_price\" type=\"number\" min=\"0\" step=\"1\" inputMode=\"numeric\" placeholder=\"ราคาขาย (จำนวนเต็มเท่านั้น)\" value={form.selling_price} onChange={onChange}/>\r\n              <div className=\"pm-input-group pm-row-3 col-span-2\">\r\n                <input name=\"size_value\" type=\"number\" min=\"0\" step=\"1\" inputMode=\"decimal\" placeholder=\"ขนาดสินค้า (ตัวเลข)\" value={form.size_value} onChange={onChange}/>\r\n                <select name=\"size_unit\" value={form.size_unit} onChange={onChange}><option value=\"\">— เลือกหน่วยขนาด —</option>{sizeUnits.map(u=><option key={u.code} value={u.label}>{u.label}</option>)}</select>\r\n                <select name=\"unit\" value={form.unit} onChange={onChange}><option value=\"\">— เลือกหน่วยสินค้า —</option>{productUnits.map(u=><option key={u.code} value={u.label}>{u.label}</option>)}</select>\r\n              </div>\r\n              <input name=\"origin\" placeholder=\"แหล่งที่มา\" value={form.origin} onChange={onChange}/>\r\n              <select name=\"product_status_id\" value={form.product_status_id} onChange={onChange}>{statusOptions}</select>\r\n              <select name=\"category_id\" value={form.category_id} onChange={onChange}>{categoryOptions}</select>\r\n              <select name=\"subcategory_id\" value={form.subcategory_id} onChange={onChange} disabled={!form.category_id}>{subcategoryOptions}</select>\r\n              <textarea className=\"col-span-2\" name=\"description\" placeholder=\"คำอธิบายสินค้า\" value={form.description} onChange={onChange}/>\r\n              <input className=\"col-span-2\" name=\"image_url\" placeholder=\"URL รูป (หากไม่อัปโหลด)\" value={form.image_url} onChange={onChange}/>\r\n              <input className=\"col-span-2\" type=\"file\" accept=\"image/*\" multiple onChange={onFiles}/>\r\n              {previews.length>0 && (\r\n                <div className=\"pm-files-preview col-span-2\">\r\n                  {previews.map((p,idx)=>(\r\n                    <div className=\"pm-file\" key={p.url}>\r\n                      <span className=\"pm-badge\">{idx===0?'★':idx+1}</span>\r\n                      <img src={p.url} alt={p.name}/>\r\n                      <div className=\"pm-meta\">\r\n                        <div className=\"pm-name\" title={p.name}>{p.name}</div>\r\n                        <div className=\"pm-actions\">\r\n                          <button type=\"button\" className=\"btn-xxs\" onClick={()=>moveSelected(idx,-1)} disabled={idx===0}>↑</button>\r\n                          <button type=\"button\" className=\"btn-xxs\" onClick={()=>moveSelected(idx,+1)} disabled={idx===previews.length-1}>↓</button>\r\n                          <button type=\"button\" className=\"btn-xxs danger\" onClick={()=>removeSelectedAt(idx)}>ลบ</button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              <div className=\"pm-actions col-span-2\">\r\n                <button type=\"submit\" className=\"btn btn-primary\">{isEditing?'อัปเดต':'บันทึก'}</button>\r\n                {isEditing && <button type=\"button\" className=\"btn btn-ghost\" onClick={clearForm}>ยกเลิกแก้ไข</button>}\r\n              </div>\r\n            </form>\r\n\r\n            <div style={{display:'flex',gap:8,marginTop:8}}>\r\n              <button type=\"button\" className=\"btn btn-ghost\" onClick={()=>setActiveTab('categories')}>+ เพิ่มประเภท</button>\r\n              <button type=\"button\" className=\"btn btn-ghost\" onClick={()=>setActiveTab('subcategories')}>+ เพิ่มหมวดย่อย</button>\r\n              <button type=\"button\" className=\"btn btn-ghost\" onClick={()=>setActiveTab('units')}>+ เพิ่มหน่วยสินค้า</button>\r\n              <button type=\"button\" className=\"btn btn-ghost\" onClick={()=>setActiveTab('sizeunits')}>+ เพิ่มหน่วยขนาด</button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"pm-toolbar\">\r\n            <label className=\"pm-check\"><input type=\"checkbox\" checked={showArchived} onChange={e=>setShowArchived(e.target.checked)}/><span>แสดงสินค้าที่เก็บแล้ว</span></label>\r\n          </div>\r\n\r\n          <h2>รายการสินค้า</h2>\r\n          <div className=\"pm-table-wrap\">\r\n            <table className=\"pm-table\">\r\n              <thead><tr><th>สินค้า</th><th>ราคา</th><th>คงเหลือ</th><th>หมวดหมู่</th><th>สถานะ</th><th>จัดการ</th></tr></thead>\r\n              <tbody>\r\n                {(products||[]).map(p=>(\r\n                  <tr key={p.product_id}>\r\n                    <td>{p.product_name}{p.is_archived && <span className=\"badge-archived\">เก็บแล้ว</span>}</td>\r\n                    <td>{Number(p.selling_price??0).toLocaleString()}</td>\r\n                    <td>{p.stock ?? p.stock_quantity ?? 0}</td>\r\n                    <td>{`${p.category_name||'-'} / ${p.subcategory_name||'-'}`}</td>\r\n                    <td>{p.product_status_name ?? pickStatusName(p)}</td>\r\n                    <td className=\"cell-actions\">\r\n                      <button className=\"btn btn-ghost\" onClick={()=>onEdit(p)}>แก้ไข</button>\r\n                      {!p.is_archived ? <button className=\"btn btn-warn\" onClick={()=>archiveProduct(p.product_id)}>ย้ายไปถังเก็บ</button> : <button className=\"btn btn-primary\" onClick={()=>unarchiveProduct(p.product_id)}>กู้คืน</button>}\r\n                      <Link to={`/admin/products/${p.product_id}/variants`} className=\"btn btn-ghost\">ตัวเลือก/ขนาด</Link>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                {(!products || products.length===0) && <tr><td colSpan={6} style={{color:'#777'}}>— ไม่มีข้อมูล —</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* ===== ประเภท (คอลัมน์แยกชัด: จัดการประเภท | จัดการรูปภาพ | รูป) ===== */}\r\n      {activeTab==='categories' && (\r\n        <div className=\"mt-16\">\r\n          <h3>จัดการประเภท</h3>\r\n\r\n          <div className=\"pm-actions mt-8\" style={{flexWrap:'wrap'}}>\r\n            <input placeholder=\"category_id (เว้นได้ให้ระบบ gen)\" value={newCat.category_id} onChange={(e)=>setNewCat({...newCat,category_id:e.target.value})} style={{maxWidth:220}}/>\r\n            <input placeholder=\"category_name\" value={newCat.category_name} onChange={(e)=>setNewCat({...newCat,category_name:e.target.value})} style={{minWidth:220}}/>\r\n            <button type=\"button\" className=\"btn btn-primary\" onClick={async()=>{\r\n              if(!newCat.category_name.trim()) return alert('ใส่ category_name ก่อน');\r\n              try{ await api.post(path('/categories'),{ category_id:newCat.category_id?.trim()||undefined, category_name:newCat.category_name.trim() }); await fetchCategories(); setNewCat({category_id:'',category_name:''}); }\r\n              catch(e){ handleApiError(e,'❌ เพิ่มประเภทไม่สำเร็จ'); }\r\n            }}>เพิ่มประเภท</button>\r\n          </div>\r\n\r\n          <div className=\"pm-table-wrap mt-8\">\r\n            <table className=\"pm-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th style={{width:140}}>รหัส</th>\r\n                  <th>ชื่อประเภท</th>\r\n                  <th style={{width:280}}>จัดการประเภท</th>\r\n                  <th style={{width:280}}>จัดการรูปภาพ</th>\r\n                  <th style={{width:120}}>รูป</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {(categories||[]).map(c=>(\r\n                  <tr key={c.category_id}>\r\n                    <td>{c.category_id}</td>\r\n                    <td>{c.category_name}</td>\r\n\r\n                    {/* จัดการประเภท */}\r\n                    <td className=\"cell-actions\" style={{gap:8}}>\r\n                      <button className=\"btn btn-ghost\" onClick={async()=>{\r\n                        const name=window.prompt('ชื่อประเภทใหม่', c.category_name);\r\n                        if(name===null) return;\r\n                        const trimmed=name.trim();\r\n                        if(!trimmed || trimmed===c.category_name) return;\r\n                        try{ await api.put(path(`/categories/${c.category_id}`), { category_name: trimmed }); await fetchCategories(); }\r\n                        catch(e){ handleApiError(e,'❌ แก้ไขประเภทไม่สำเร็จ'); }\r\n                      }}>แก้ไขประเภท</button>\r\n                      <button className=\"btn btn-danger\" onClick={async()=>{\r\n                        if(!window.confirm(`ลบประเภท \"${c.category_name}\" ?`)) return;\r\n                        try{ await api.delete(path(`/categories/${c.category_id}`)); await fetchCategories(); await fetchSubcategories(); }\r\n                        catch(e){ handleApiError(e,'❌ ลบประเภทไม่สำเร็จ'); }\r\n                      }}>ลบประเภท</button>\r\n                    </td>\r\n\r\n                    {/* จัดการรูปภาพ */}\r\n                    <td className=\"cell-actions\" style={{gap:8}}>\r\n                      <label className=\"btn btn-ghost\" style={{cursor:'pointer'}}>\r\n                        เลือกรูป\r\n                        <input type=\"file\" accept=\"image/*\" hidden onChange={async(e)=>{\r\n                          const f=e.target.files?.[0]; if(!f) return;\r\n                          try{ const url=await uploadCategoryImage(f); if(!url) return alert('อัปโหลดไม่สำเร็จ'); await api.put(path(`/categories/${c.category_id}`), { image_url:url }); await fetchCategories(); }\r\n                          catch(err){ handleApiError(err,'❌ อัปโหลด/บันทึกรูปประเภทไม่สำเร็จ'); }\r\n                          finally{ e.target.value=''; }\r\n                        }}/>\r\n                      </label>\r\n                      <button className=\"btn btn-warn\" disabled={!c.image_url} onClick={async()=>{\r\n                        if(!window.confirm(`ล้างภาพของ \"${c.category_name}\" ใช่ไหม?`)) return;\r\n                        try{ await api.put(path(`/categories/${c.category_id}`), { image_url:null }); await fetchCategories(); }\r\n                        catch(e){ handleApiError(e,'❌ ล้างภาพไม่สำเร็จ'); }\r\n                      }}>ล้างภาพ</button>\r\n                    </td>\r\n\r\n                    {/* รูป */}\r\n                    <td>\r\n                      {c.image_url ? (\r\n                        <img src={resolveUrl(c.image_url)} alt={c.category_name} style={{width:64,height:64,objectFit:'cover',borderRadius:8,border:'1px solid #eee'}} onError={(e)=>{e.currentTarget.style.opacity=0.5;}}/>\r\n                      ) : (\r\n                        <div style={{width:64,height:64,borderRadius:8,border:'1px dashed #ddd',display:'grid',placeItems:'center',color:'#9aa',fontSize:12}}>ไม่มีรูป</div>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                {(!categories || categories.length===0) && <tr><td colSpan={5} style={{color:'#777'}}>— ไม่มีประเภท —</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ===== หมวดย่อย (คอลัมน์แยกชัด) ===== */}\r\n      {activeTab==='subcategories' && (\r\n        <div className=\"mt-16\">\r\n          <h3>จัดการหมวดหมู่ย่อย</h3>\r\n\r\n          <div className=\"pm-actions mt-8\" style={{flexWrap:'wrap'}}>\r\n            <input placeholder=\"subcategory_id (เว้นได้ให้ระบบ gen)\" value={newSub.subcategory_id} onChange={(e)=>setNewSub({...newSub,subcategory_id:e.target.value})} style={{maxWidth:240}}/>\r\n            <input placeholder=\"subcategory_name\" value={newSub.subcategory_name} onChange={(e)=>setNewSub({...newSub,subcategory_name:e.target.value})} style={{minWidth:240}}/>\r\n            <select value={newSub.category_id} onChange={(e)=>setNewSub({...newSub,category_id:e.target.value})} style={{minWidth:200}}>\r\n              <option value=\"\">เลือกประเภทหลัก</option>\r\n              {(categories||[]).map(c=><option key={c.category_id} value={asStr(c.category_id)}>{c.category_name}</option>)}\r\n            </select>\r\n            <button type=\"button\" className=\"btn btn-primary\" onClick={async()=>{\r\n              if(!newSub.subcategory_name.trim() || !newSub.category_id) return alert('ใส่ชื่อหมวดย่อย + เลือกประเภทหลัก');\r\n              try{ await api.post(path('/subcategories'), { subcategory_id:newSub.subcategory_id?.trim()||undefined, subcategory_name:newSub.subcategory_name.trim(), category_id:newSub.category_id.trim() }); await fetchSubcategories(); setNewSub({subcategory_id:'',subcategory_name:'',category_id:''}); }\r\n              catch(e){ handleApiError(e,'❌ เพิ่มหมวดย่อยไม่สำเร็จ'); }\r\n            }}>เพิ่มหมวดหมู่ย่อย</button>\r\n          </div>\r\n\r\n          <div className=\"pm-table-wrap mt-8\">\r\n            <table className=\"pm-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th style={{width:140}}>รหัส</th>\r\n                  <th>หมวดย่อย</th>\r\n                  <th style={{width:160}}>ประเภท</th>\r\n                  <th style={{width:280}}>จัดการหมวดย่อย</th>\r\n                  <th style={{width:280}}>จัดการรูปภาพ</th>\r\n                  <th style={{width:120}}>รูป</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {(subcategories||[]).map(s=>(\r\n                  <tr key={s.subcategory_id}>\r\n                    <td>{s.subcategory_id}</td>\r\n                    <td>{s.subcategory_name}</td>\r\n                    <td>{s.category_id}</td>\r\n\r\n                    {/* จัดการหมวดย่อย */}\r\n                    <td className=\"cell-actions\" style={{gap:8}}>\r\n                      <button className=\"btn btn-ghost\" onClick={async()=>{\r\n                        const name=window.prompt('ชื่อหมวดย่อยใหม่', s.subcategory_name); if(!name) return;\r\n                        const newCat=window.prompt('ย้ายไปประเภทไหน? (พิมพ์ category_id | เว้นว่าง=ไม่ย้าย)', s.category_id);\r\n                        const payload={ subcategory_name:name.trim() };\r\n                        if(newCat!==null && newCat.trim()!=='' && newCat!==s.category_id) payload.category_id=newCat.trim();\r\n                        try{ await api.put(path(`/subcategories/${s.subcategory_id}`), payload); await fetchSubcategories(); }\r\n                        catch(e){ handleApiError(e,'❌ แก้ไขหมวดย่อยไม่สำเร็จ'); }\r\n                      }}>แก้ไขหมวดย่อย</button>\r\n                      <button className=\"btn btn-danger\" onClick={async()=>{\r\n                        if(!window.confirm(`ลบหมวดหมู่ย่อย \"${s.subcategory_name}\" ?`)) return;\r\n                        try{ await api.delete(path(`/subcategories/${s.subcategory_id}`)); await fetchSubcategories(); }\r\n                        catch(e){ handleApiError(e,'❌ ลบหมวดย่อยไม่สำเร็จ'); }\r\n                      }}>ลบหมวดย่อย</button>\r\n                    </td>\r\n\r\n                    {/* จัดการรูปภาพ */}\r\n                    <td className=\"cell-actions\" style={{gap:8}}>\r\n                      <label className=\"btn btn-ghost\" style={{cursor:'pointer'}}>\r\n                        เลือกรูป\r\n                        <input type=\"file\" accept=\"image/*\" hidden onChange={async(e)=>{\r\n                          const f=e.target.files?.[0]; if(!f) return;\r\n                          try{ const url=await uploadSubcatImage(f); if(!url) return alert('อัปโหลดไม่สำเร็จ'); await api.put(path(`/subcategories/${s.subcategory_id}`), { image_url:url }); await fetchSubcategories(); }\r\n                          catch(err){ handleApiError(err,'❌ อัปโหลด/บันทึกรูปหมวดย่อยไม่สำเร็จ'); }\r\n                          finally{ e.target.value=''; }\r\n                        }}/>\r\n                      </label>\r\n                      <button className=\"btn btn-warn\" disabled={!s.image_url} onClick={async()=>{\r\n                        if(!window.confirm(`ล้างภาพของ \"${s.subcategory_name}\" ใช่ไหม?`)) return;\r\n                        try{ await api.put(path(`/subcategories/${s.subcategory_id}`), { image_url:null }); await fetchSubcategories(); }\r\n                        catch(e){ handleApiError(e,'❌ ล้างภาพไม่สำเร็จ'); }\r\n                      }}>ล้างภาพ</button>\r\n                    </td>\r\n\r\n                    {/* รูป */}\r\n                    <td>\r\n                      {s.image_url ? (\r\n                        <img src={resolveUrl(s.image_url)} alt={s.subcategory_name} style={{width:64,height:64,objectFit:'cover',borderRadius:8,border:'1px solid #eee'}} onError={(e)=>{e.currentTarget.style.opacity=0.5;}}/>\r\n                      ) : (\r\n                        <div style={{width:64,height:64,borderRadius:8,border:'1px dashed #ddd',display:'grid',placeItems:'center',color:'#9aa',fontSize:12}}>ไม่มีรูป</div>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                {(!subcategories || subcategories.length===0) && <tr><td colSpan={6} style={{color:'#777'}}>— ไม่มีหมวดย่อย —</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ===== หน่วยสินค้า ===== */}\r\n      {activeTab==='units' && (\r\n        <div className=\"mt-16\">\r\n          <h3>จัดการหน่วยสินค้า</h3>\r\n          <div className=\"pm-actions mt-8\" style={{flexWrap:'wrap'}}>\r\n            <input placeholder=\"เช่น ชิ้น, กระถาง, แพ็ค\" value={newProdUnit} onChange={(e)=>setNewProdUnit(e.target.value)} style={{minWidth:260}}/>\r\n            <button type=\"button\" className=\"btn btn-primary\" onClick={()=>{\r\n              const name=newProdUnit.trim(); if(!name) return;\r\n              if(productUnits.some(u=>u.label===name)) return alert(`มี \"${name}\" อยู่แล้ว`);\r\n              setProductUnits([...productUnits,{code:name.toLowerCase().replace(/\\s+/g,'_'),label:name}]); setNewProdUnit('');\r\n            }}>เพิ่มหน่วยสินค้า</button>\r\n          </div>\r\n          <div className=\"pm-table-wrap mt-8\">\r\n            <table className=\"pm-table\">\r\n              <tbody>\r\n                {productUnits.map(u=>(\r\n                  <tr key={u.code}>\r\n                    <td style={{width:200}}>{u.code}</td>\r\n                    <td>{u.label}</td>\r\n                    <td className=\"cell-actions\" style={{width:220}}>\r\n                      <button className=\"btn btn-ghost\" onClick={()=>{ const name=window.prompt('ชื่อหน่วยใหม่',u.label); if(!name||name.trim()===u.label) return; if(productUnits.some(x=>x.label===name.trim())) return alert(`มี \"${name.trim()}\" อยู่แล้ว`); const next=productUnits.map(x=>x.code===u.code?{code:name.trim().toLowerCase().replace(/\\s+/g,'_'),label:name.trim()}:x); setProductUnits(next); setForm(p=>({ ...p, unit: p.unit===u.label?name.trim():p.unit })); }}>แก้ไข</button>\r\n                      <button className=\"btn btn-danger\" onClick={()=>{ if(!window.confirm(`ลบ \"${u.label}\" ?`)) return; const next=productUnits.filter(x=>x.code!==u.code); setProductUnits(next); setForm(p=>({ ...p, unit: p.unit===u.label?'':p.unit })); }}>ลบ</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                {productUnits.length===0 && <tr><td colSpan={3} style={{color:'#777'}}>— ไม่มีหน่วย —</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ===== หน่วยขนาด ===== */}\r\n      {activeTab==='sizeunits' && (\r\n        <div className=\"mt-16\">\r\n          <h3>จัดการหน่วยขนาด</h3>\r\n          <div className=\"pm-actions mt-8\" style={{flexWrap:'wrap'}}>\r\n            <input placeholder=\"เช่น ซม., มม., นิ้ว\" value={newSizeUnit} onChange={(e)=>setNewSizeUnit(e.target.value)} style={{minWidth:260}}/>\r\n            <button type=\"button\" className=\"btn btn-primary\" onClick={()=>{ const name=newSizeUnit.trim(); if(!name) return; if(sizeUnits.some(u=>u.label===name)) return alert(`มี \"${name}\" อยู่แล้ว`); setSizeUnits([...sizeUnits,{code:name.toLowerCase().replace(/\\s+/g,'_'),label:name}]); setNewSizeUnit(''); }}>เพิ่มหน่วยขนาด</button>\r\n          </div>\r\n          <div className=\"pm-table-wrap mt-8\">\r\n            <table className=\"pm-table\">\r\n              <tbody>\r\n                {sizeUnits.map(u=>(\r\n                  <tr key={u.code}>\r\n                    <td style={{width:200}}>{u.code}</td>\r\n                    <td>{u.label}</td>\r\n                    <td className=\"cell-actions\" style={{width:220}}>\r\n                      <button className=\"btn btn-ghost\" onClick={()=>{ const name=window.prompt('ชื่อหน่วยใหม่',u.label); if(!name||name.trim()===u.label) return; if(sizeUnits.some(x=>x.label===name.trim())) return alert(`มี \"${name.trim()}\" อยู่แล้ว`); const next=sizeUnits.map(x=>x.code===u.code?{code:name.trim().toLowerCase().replace(/\\s+/g,'_'),label:name.trim()}:x); setSizeUnits(next); setForm(p=>({ ...p, size_unit: p.size_unit===u.label?name.trim():p.size_unit })); }}>แก้ไข</button>\r\n                      <button className=\"btn btn-danger\" onClick={()=>{ if(!window.confirm(`ลบ \"${u.label}\" ?`)) return; const next=sizeUnits.filter(x=>x.code!==u.code); setSizeUnits(next); setForm(p=>({ ...p, size_unit: p.size_unit===u.label?'':p.size_unit })); }}>ลบ</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n                {sizeUnits.length===0 && <tr><td colSpan={3} style={{color:'#777'}}>— ไม่มีหน่วย —</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}